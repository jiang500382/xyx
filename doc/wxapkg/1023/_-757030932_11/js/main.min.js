var t = window.egret, e = function(t, e, i) {
    t.__class__ = e, i ? i.push(e) : i = [ e ], t.__types__ = t.__types__ ? i.concat(t.__types__) : i;
}, i = function(t, e) {
    function i() {
        this.constructor = t;
    }
    for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);
    i.prototype = e.prototype, t.prototype = new i();
}, n = function(t, e, i, n) {
    return new (i || (i = Promise))(function(o, r) {
        function s(t) {
            try {
                h(n.next(t));
            } catch (t) {
                r(t);
            }
        }
        function a(t) {
            try {
                h(n.throw(t));
            } catch (t) {
                r(t);
            }
        }
        function h(t) {
            t.done ? o(t.value) : new i(function(e) {
                e(t.value);
            }).then(s, a);
        }
        h((n = n.apply(t, e || [])).next());
    });
}, o = function(t, e) {
    function i(t) {
        return function(e) {
            return n([ t, e ]);
        };
    }
    function n(i) {
        if (o) throw new TypeError("Generator is already executing.");
        for (;h; ) try {
            if (o = 1, r && (s = r[2 & i[0] ? "return" : i[0] ? "throw" : "next"]) && !(s = s.call(r, i[1])).done) return s;
            switch (r = 0, s && (i = [ 0, s.value ]), i[0]) {
              case 0:
              case 1:
                s = i;
                break;

              case 4:
                return h.label++, {
                    value: i[1],
                    done: !1
                };

              case 5:
                h.label++, r = i[1], i = [ 0 ];
                continue;

              case 7:
                i = h.ops.pop(), h.trys.pop();
                continue;

              default:
                if (s = h.trys, !(s = s.length > 0 && s[s.length - 1]) && (6 === i[0] || 2 === i[0])) {
                    h = 0;
                    continue;
                }
                if (3 === i[0] && (!s || i[1] > s[0] && i[1] < s[3])) {
                    h.label = i[1];
                    break;
                }
                if (6 === i[0] && h.label < s[1]) {
                    h.label = s[1], s = i;
                    break;
                }
                if (s && h.label < s[2]) {
                    h.label = s[2], h.ops.push(i);
                    break;
                }
                s[2] && h.ops.pop(), h.trys.pop();
                continue;
            }
            i = e.call(t, h);
        } catch (t) {
            i = [ 6, t ], r = 0;
        } finally {
            o = s = 0;
        }
        if (5 & i[0]) throw i[1];
        return {
            value: i[0] ? i[1] : void 0,
            done: !0
        };
    }
    var o, r, s, a, h = {
        label: 0,
        sent: function() {
            if (1 & s[0]) throw s[1];
            return s[1];
        },
        trys: [],
        ops: []
    };
    return a = {
        next: i(0),
        throw: i(1),
        return: i(2)
    }, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
        return this;
    }), a;
}, r = function() {
    function t() {}
    return t.getInstance = function() {
        for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];
        var i = this;
        if (!i._instance) {
            var n = t.length;
            0 == n ? i._instance = new i() : 1 == n ? i._instance = new i(t[0]) : 2 == n ? i._instance = new i(t[0], t[1]) : 3 == n ? i._instance = new i(t[0], t[1], t[2]) : 4 == n ? i._instance = new i(t[0], t[1], t[2], t[3]) : 5 == n && (i._instance = new i(t[0], t[1], t[2], t[3], t[4]));
        }
        return i._instance;
    }, t;
}();

e(r.prototype, "BaseClass");

var s = function(t) {
    function e(e) {
        var i = t.call(this) || this;
        return i._parent = e, i._parent.addChild(i), i.touchEnabled = !1, i.touchChildren = !1, 
        i.anchorOffsetX = 0, i.anchorOffsetY = 0, i.horizontalCenter = 0, i;
    }
    return i(e, t), e.prototype.show = function(t) {
        this.parent || this._parent.addChild(this);
    }, e.prototype.dispose = function() {
        this.parent && (this._parent.removeChild(this), this._parent = null);
    }, e;
}(eui.Group);

e(s.prototype, "BaseAlert");

var a = function() {
    function t(t) {
        this._messages = {}, this.name = t;
    }
    return t.prototype.registerFunc = function(t, e, i) {
        this._messages[t] = [ e, i ];
    }, t.prototype.applyFunc = function(t) {
        for (var e = [], i = 1; i < arguments.length; i++) e[i - 1] = arguments[i];
        var n = this._messages[t];
        return n ? n[0].apply(n[1], e) : null;
    }, t.prototype.openView = function(t) {
        void 0 === t && (t = null);
    }, t.prototype.setProxy = function(t) {
        this._proxy = t;
    }, t.prototype.getProxy = function() {
        return this._proxy;
    }, t.prototype.getView = function() {
        return this.view;
    }, t.prototype.dispose = function() {}, t;
}();

e(a.prototype, "BaseController");

var h = function() {
    function t(t) {
        this._controller = t, this._controller.setProxy(this);
    }
    return t.prototype.applyFunc = function(t) {
        for (var e = [], i = 1; i < arguments.length; i++) e[i - 1] = arguments[i];
        return this._controller.applyFunc.apply(this._controller, arguments);
    }, t.prototype.receiveServerMsg = function(t, e, i) {
        at.MessageCenter.addListener(t, e, i);
    }, t.prototype.receiveServerMsgOnce = function(t, e, i) {
        this.receiveServerMsg(t, function n(o) {
            this.removeServerMsg(t, n, this), e.apply(i, o);
        }, this);
    }, t.prototype.receiveServerHttpUpdateMsg = function(t, e, i) {
        this.receiveServerMsg(t + "_HttpUpdate", e, i);
    }, t.prototype.receiveServerHttpUpdateMsgOnce = function(t, e, i) {
        this.receiveServerMsgOnce(t + "_HttpUpdate", e, i);
    }, t.prototype.removeServerMsg = function(t, e, i) {
        at.MessageCenter.removeListener(t, e, i);
    }, t.prototype.removeServerHttpUpdateMsg = function(t, e, i) {
        this.removeServerMsg(t + "_HttpUpdate", e, i);
    }, t.prototype.sendSocketMsg = function(t) {
        at.Socket.send(t);
    }, t;
}();

e(h.prototype, "BaseProxy");

var l = function(e) {
    function n(t, i, n) {
        void 0 === n && (n = !1);
        var o = e.call(this) || this;
        return o._resources = null, o.isShowMask = n, o._controller = t, o._myParent = i, 
        o._isInit = !1, o.percentHeight = 100, o.percentWidth = 100, o;
    }
    return i(n, e), n.prototype.addMask = function() {
        this.myShape = new t.Shape(), this.myShape.graphics.beginFill(0, .8), this.myShape.graphics.drawRect(0, 0, at.stage.stageWidth, at.stage.stageHeight), 
        this.myShape.graphics.endFill(), this.myShape.x = .5 * -(at.stage.stageWidth - this.width), 
        this.myShape.y = .5 * -(at.stage.stageHeight - this.height), this.addChildAt(this.myShape, 0);
    }, Object.defineProperty(n.prototype, "myParent", {
        get: function() {
            return this._myParent;
        },
        enumerable: !0,
        configurable: !0
    }), n.prototype.setResources = function(t) {
        this._resources = t;
    }, n.prototype.isInit = function() {
        return this._isInit;
    }, n.prototype.applyFunc = function(t) {
        for (var e = [], i = 1; i < arguments.length; i++) e[i - 1] = arguments[i];
        return this._controller.applyFunc.apply(this._controller, arguments);
    }, n.prototype.isShow = function() {
        return null != this.stage && this.visible;
    }, n.prototype.addToParent = function() {
        this._myParent.addChild(this);
    }, n.prototype.removeFromParent = function() {
        at.DisplayUtils.removeFromParent(this);
    }, n.prototype.initUI = function() {
        this._isInit = !0;
    }, n.prototype.initData = function() {}, n.prototype.destroy = function() {
        this._controller = null, this._myParent = null, this._resources = null, this.myShape && (this.myShape.graphics.clear(), 
        this.myShape = null);
    }, n.prototype.open = function() {
        for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];
        this.isShowMask && this.addMask();
    }, n.prototype.close = function() {
        for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];
    }, n.prototype.loadResource = function(t, e) {
        this._resources && this._resources.length > 0 ? (at.ResourceUtils.loadResource(this._resources, [], t, null, this), 
        this.once(eui.UIEvent.CREATION_COMPLETE, e, this)) : (t(), e());
    }, n.prototype.setVisible = function(t) {
        this.visible = t;
    }, n.prototype.removeGroupChildren = function(t) {
        if (t) for (;t.numChildren > 0; ) {
            var e = t.getChildAt(0);
            e && (e.dispose && e.dispose(), e.parent && (e.parent.removeChild(e), e = null));
        }
    }, n;
}(eui.Component);

e(l.prototype, "BaseEuiView", [ "IBaseView" ]);

var c = function() {
    function e() {
        this._msgBuffer = new t.ByteArray();
    }
    return e.prototype.receive = function(t) {
        t.readBytes(this._msgBuffer);
        var e = this.decode(this._msgBuffer);
        e && null != e.d && at.MessageCenter.dispatch(e.m, e.d), 0 == this._msgBuffer.bytesAvailable && this._msgBuffer.clear();
    }, e.prototype.send = function(t, e) {
        var i = this.encode(e);
        i && (i.position = 0, t.writeBytes(i, 0, i.bytesAvailable));
    }, e.prototype.decode = function(t) {
        return null;
    }, e.prototype.encode = function(t) {
        return null;
    }, e;
}();

e(c.prototype, "ByteArrayMsg", [ "BaseMsg" ]);

var u = function() {
    function e() {}
    return e.prototype.receive = function(t) {
        var e = t.readUTF();
        console.log("receive:" + e);
        var i = this.decode(e);
        i && at.MessageCenter.dispatch(i.action, i);
    }, e.prototype.send = function(e, i) {
        var n = this.encode(i);
        console.log("send:" + n), n && (e.type = t.WebSocket.TYPE_STRING, e.writeUTF(n));
    }, e.prototype.decode = function(t) {
        return null;
    }, e.prototype.encode = function(t) {
        return null;
    }, e;
}();

e(u.prototype, "UTFMsg", [ "BaseMsg" ]);

var p = function() {
    function e() {
        this._cache = {}, this._loadingCache = new Array(), at.TimerManager.doTimer(6e4, 0, this.dealSoundTimer, this);
    }
    return e.prototype.dealSoundTimer = function() {
        for (var e = t.getTimer(), i = Object.keys(this._cache), n = 0, o = i.length; o > n; n++) {
            var r = i[n];
            this.checkCanClear(r) && e - this._cache[r] >= nt.CLEAR_TIME && (delete this._cache[r], 
            RES.destroyRes(r));
        }
    }, e.prototype.getSound = function(e) {
        var i = RES.getRes(e);
        if (i) this._cache[e] && (this._cache[e] = t.getTimer()); else {
            if (-1 != this._loadingCache.indexOf(e)) return null;
            this._loadingCache.push(e), RES.getResAsync(e, this.onResourceLoadComplete, this);
        }
        return i;
    }, e.prototype.onResourceLoadComplete = function(e, i) {
        var n = this._loadingCache.indexOf(i);
        -1 != n && (this._loadingCache.splice(n, 1), this._cache[i] = t.getTimer(), this.loadedPlay(i));
    }, e.prototype.loadedPlay = function(t) {}, e.prototype.checkCanClear = function(t) {
        return !0;
    }, e;
}();

e(p.prototype, "BaseSound");

!function(t) {
    var i = function() {
        function e() {}
        return e.initReportParam = function() {
            e._handleAdSource();
            var i = "", n = "", o = "", r = "", s = "", a = wx.getSystemInfoSync();
            i = a.language, n = a.platform, o = a.model, r = a.system, s = a.version, e.commStr.report_prefix1 = "t_event|distribute_all|", 
            e.commStr.report_prefix2 = n + "|" + o + "|" + e.commStr.version + "|" + r + "||||" + i + "||" + s + "|" + t.Data.conf.appid + "|" + e.adStr.Ads + " |" + e.adStr.AdsPos + "|" + e.adStr.Layers + "|0|";
        }, e._handleAdSource = function() {
            var t = wx.getLaunchOptionsSync(), i = "", n = "", o = "", r = t.query;
            if (r.scene) {
                var s = r.scene;
                if (s) {
                    var a = decodeURIComponent(s).split(",");
                    i = a[0], n = a[1], o = a[2];
                }
            } else if (r.Ads) i = r.tgt ? r.tgt : "", n = r.Ads ? r.Ads : "", o = r.AdsPos ? r.AdsPos : ""; else if (t.referrerInfo && t.referrerInfo.extraData && t.referrerInfo.extraData.Ads) {
                var h = t.referrerInfo.extraData;
                i = h.tgt ? h.tgt : "", n = h.Ads ? h.Ads : "", o = h.AdsPos ? h.AdsPos : "";
            }
            e.adStr.Ads = n, e.adStr.AdsPos = o, e.adStr.SourceAppId = i;
        }, e.reportWithAppId = function(i, n, o) {
            void 0 === o && (o = ""), t.Data.conf.appid = i, e.initReportParam(), e._report(n, o);
        }, e.report = function(i, n) {
            void 0 === n && (n = ""), t.Data.conf.init_suc && t.Data.conf.is_report && e._report(i, n);
        }, e._report = function(i, n) {
            void 0 === n && (n = "");
            var o = i.split("_"), r = 0;
            if (o.length < 2) wx.showToast({
                title: "参数传递错误",
                icon: "none"
            }); else {
                if (i == e.ReportTypes.OPEN_ID ? t.Data.conf.openId = n : t.Data.conf.extraAppId = n, 
                i == e.ReportTypes.PAY_MENT) {
                    if ("number" != typeof n) return void wx.showToast({
                        title: "参数传递错误，int类型",
                        icon: "none",
                        duration: 3e3
                    });
                    r = n;
                }
                var s = o[0], a = o[1], h = e.commStr.report_prefix1 + e._getCurrentDate() + "|" + e._getTimeStapm() + "|" + e.commStr.report_prefix2 + t.Data.conf.openId + "|" + s + "|" + a + "|" + r + "|" + t.Data.conf.extraAppId;
                e.raw_report(h);
            }
        }, e._getCurrentDate = function() {
            var t = new Date(), e = t.getFullYear(), i = t.getMonth() + 1, n = t.getDate();
            return i >= 1 && 9 >= i && (i = "0" + i), n >= 0 && 9 >= n && (n = "0" + n), Number(e + i + n);
        }, e._getTimeStapm = function() {
            return Date.parse(new Date().toString()) / 1e3;
        }, e.raw_report = function(i) {
            console.log(i);
            var n = e._base64encode(i);
            wx.request({
                url: t.Data.conf.reportUrl + "/report",
                header: {
                    "content-type": "application/x-www-form-urlencoded"
                },
                data: {
                    info: n
                },
                method: "post",
                success: function() {}
            });
        }, e._base64encode = function(t) {
            var e, i, n, o, r, s, a = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";
            for (n = t.length, i = 0, e = ""; n > i; ) {
                if (o = 255 & t.charCodeAt(i++), i == n) {
                    e += a.charAt(o >> 2), e += a.charAt((3 & o) << 4), e += "==";
                    break;
                }
                if (r = t.charCodeAt(i++), i == n) {
                    e += a.charAt(o >> 2), e += a.charAt((3 & o) << 4 | (240 & r) >> 4), e += a.charAt((15 & r) << 2), 
                    e += "=";
                    break;
                }
                s = t.charCodeAt(i++), e += a.charAt(o >> 2), e += a.charAt((3 & o) << 4 | (240 & r) >> 4), 
                e += a.charAt((15 & r) << 2 | (192 & s) >> 6), e += a.charAt(63 & s);
            }
            return e;
        }, e.ReportTypes = {
            SHOW: "1_1",
            LOGIN: "1_2",
            OPEN_ID: "1_3",
            AUTH: "1_4",
            SHARE: "1_5",
            LIKE_CLICK: "1_6",
            DRAWER_CLICK: "1_7",
            LIKE_SHOW: "1_8",
            DRAWER_SHOW: "1_9",
            PAY_MENT: "6_1",
            MORE_FOLD: "2_1",
            MORE_CLICK: "2_2",
            MORE_LONG_CLICK: "2_3"
        }, e.commStr = {
            report_prefix1: "",
            report_prefix2: "",
            version: ""
        }, e.adStr = {
            Ads: "",
            AdsPos: "",
            SourceAppId: "",
            Layers: 0
        }, e;
    }();
    t.Report = i, e(i.prototype, "aladin.Report");
}(st || (st = {}));

!function(t) {
    var i = function() {
        function t() {}
        return t.GetImgType = function(t) {
            var e = t.split("/");
            return e[e.length - 1].split("?")[0].split(".")[1];
        }, t._parseQueryString = function(t) {
            var e = {};
            if (!t) return e;
            for (var i, n = t.split("&"), o = 0; o < n.length; o++) e[(i = n[o].split("="))[0]] = i[1];
            return e;
        }, t._buildQueryString = function(t) {
            var e = [];
            for (var i in t) t.hasOwnProperty(i) && e.push(i + "=" + t[i]);
            return e.join("&");
        }, t._mergeParams = function(e, i) {
            var n = {};
            if (e && (n = t._parseQueryString(e)), i) for (var o in i) i.hasOwnProperty(o) && (n[o] = i[o]);
            return n;
        }, t.ParseNavigateParam = function(e) {
            var i = e[0], n = {}, o = e[2], r = {};
            if (o.indexOf("?") >= 0) {
                var s = o.split("?")[1];
                r = t._parseQueryString(s);
            }
            var a = "";
            (n = t._mergeParams(e[3], r)) && (a = t._buildQueryString(n)), o = o && o.indexOf("?") >= 0 ? o.split("?")[0] : "pages/index/index", 
            a && (o += "?" + a);
            var h = i;
            if (e[1]) h = e[1]; else if (n.tgt) {
                var l = n.split("|");
                h = l[l.length - 1];
            }
            return {
                appId: i,
                path: o,
                extraData: n,
                target_appid: h
            };
        }, t;
    }();
    t.Utils = i, e(i.prototype, "aladin.Utils");
}(st || (st = {}));

var d = function() {
    function e() {}
    return e.setStorge = function(e, i) {
        t.log("setStorge,value: " + i), at.isDebug || wx.setStorage({
            key: e,
            data: i,
            success: function(t) {},
            fail: function(t) {},
            complete: function() {}
        });
    }, e.getStorge = function(t, e, i) {
        return void 0 === e && (e = null), void 0 === i && (i = null), at.isDebug ? void 0 : (wx.getStorage({
            key: t,
            success: function(n) {
                t == P.EFFECT_ON ? (at.SoundManager.effectOn = n.data, at.MessageCenter.dispatch(I.SOUND_CHANGE)) : t == P.GAME_MAP_ID && null != e && e.call(i, !0, n.data);
            },
            fail: function(t) {
                null != e && e.call(i, !1);
            },
            complete: function() {}
        }), null);
    }, e.showWXModel = function(t, e, i, n, o, r, s) {
        void 0 === i && (i = null), void 0 === n && (n = null), void 0 === o && (o = !0), 
        void 0 === r && (r = "取消"), void 0 === s && (s = "确定"), wx.showModal({
            title: t,
            content: e,
            showCancel: !0,
            cancelText: r,
            confirmText: s,
            success: function(t) {
                null != i && i.call(n, t.confirm);
            }
        });
    }, e;
}();

e(d.prototype, "WXUtil");

var g;

!function(t) {
    t[t.SimpleAlert = 1] = "SimpleAlert", t[t.MessageAlert = 2] = "MessageAlert", t[t.NoticeAlert = 3] = "NoticeAlert", 
    t[t.YesOrNoAlert = 4] = "YesOrNoAlert";
}(g || (g = {}));

var m = function(e) {
    function n() {
        var t = e.call(this) || this;
        return t.skinName = L.AlertItemSkin, t;
    }
    return i(n, e), n.prototype.setData = function(e) {
        this.itemTxt && (this.itemTxt.textFlow = new t.HtmlTextParser().parser(e), this.itemBg.width = this.itemTxt.textWidth + 120, 
        this.touchChildren = !1);
    }, n.prototype.resetWidth = function(t) {}, n.prototype.dispose = function() {}, 
    n;
}(eui.Component);

e(m.prototype, "AlertItem");

var f = function(t) {
    function e() {
        var e = t.call(this) || this;
        return at.TickManager.addTick(e), e;
    }
    return i(e, t), e.prototype.show = function(t, e, i) {
        var n;
        switch (n = i || at.LayerManager.msgLayer, t) {
          case g.SimpleAlert:
            this.simpleAlert || (this.simpleAlert = new E(n)), this.simpleAlert.show(e);
            break;

          case g.MessageAlert:
            this.messageAlert || (this.messageAlert = new y(n)), this.messageAlert.show(e);
            break;

          case g.NoticeAlert:
            this.noticeAlert || (this.noticeAlert = new _(n)), this.noticeAlert.show(e);
        }
    }, e.prototype.closeWin = function() {}, e.prototype.update = function() {
        this.simpleAlert && this.simpleAlert.update(), this.noticeAlert && this.noticeAlert.update();
    }, e.prototype.dispose = function() {
        this.simpleAlert && (this.simpleAlert.dispose(), this.simpleAlert = null), this.messageAlert && (this.messageAlert.dispose(), 
        this.messageAlert = null), at.TickManager.removeTick(this);
    }, e;
}(r);

e(f.prototype, "AlertManger", [ "ITick" ]);

var v = function() {
    function t() {}
    return t.prototype.getAsset = function(t, e, i) {
        function n(n) {
            e.call(i, n, t);
        }
        if (RES.hasRes(t)) {
            var o = RES.getRes(t);
            o ? n(o) : RES.getResAsync(t, n, this);
        } else RES.getResByUrl(t, n, this, RES.ResourceItem.TYPE_IMAGE);
    }, t;
}();

e(v.prototype, "AssetAdapter", [ "eui.IAssetAdapter" ]);

var y = function(e) {
    function n(t) {
        return e.call(this, t) || this;
    }
    return i(n, e), n.prototype.show = function(i) {
        var n = this;
        e.prototype.show.call(this, i), this._alertItem && t.Tween.removeTweens(this._alertItem), 
        this._alertItem || (this._alertItem = new m()), this._alertItem.parent || this.addChild(this._alertItem);
        var o = this._alertItem;
        o.anchorOffsetX = o.width >> 1, o.anchorOffsetY = o.height >> 1, o.scaleX = o.scaleY = .6, 
        o.alpha = 1, o.setData(i), o.y = 340, o.x = at.stage.stageWidth >> 1, t.Tween.get(o).to({
            scaleX: 1,
            scaleY: 1
        }, 250).wait(2e3).to({
            alpha: 0
        }, 1e3).call(function() {
            n.removeChild(o);
        });
    }, n.prototype.dispose = function() {
        e.prototype.dispose.call(this), this._alertItem && t.Tween.removeTweens(this._alertItem), 
        this._alertItem && (this._alertItem.dispose(), this._alertItem = null);
    }, n;
}(s);

e(y.prototype, "MessageAlert");

var _ = function(t) {
    function e(e) {
        var i = t.call(this, e) || this;
        return i._itemContentArr = [], i.isPlaying = !1, i;
    }
    return i(e, t), e.prototype.show = function(e) {
        t.prototype.show.call(this, e), this._item || (this._item = new w()), this._item.parent || this.addChild(this._item), 
        this._itemContentArr.push(e), this._item.y = 200, 0 == this.isPlaying && this.showNext();
    }, e.prototype.update = function() {
        if (this._itemContentArr.length > 0 && this._item) {
            this.isPlaying = !0;
            var t = this._item;
            t.itemTxt.x -= 3, t.itemTxt.x <= -t.itemTxt.width - 20 && (this.isPlaying = !1, 
            this._itemContentArr.shift(), this.showNext());
        }
    }, e.prototype.showNext = function() {
        var t = this._item;
        this._itemContentArr.length > 0 ? t && (t.setData(this._itemContentArr[0]), t.itemTxt.x = t.width + 10 + 20) : t && t.parent && t.parent.removeChild(t);
    }, e.prototype.dispose = function() {
        t.prototype.dispose.call(this), this._item && (this._item.dispose(), this._item = null);
    }, e;
}(s);

e(_.prototype, "NoticeAlert");

var w = function(e) {
    function n() {
        var t = e.call(this) || this;
        return t.itemTxt.mask = t.itemTxtMask, t;
    }
    return i(n, e), n.prototype.setData = function(e) {
        this.itemTxt.textFlow = new t.HtmlTextParser().parser(e), this.touchEnabled = !1, 
        this.touchChildren = !1;
    }, n.prototype.dispose = function() {}, n;
}(eui.Component);

e(w.prototype, "NoticeItem");

var E = function(e) {
    function n(t) {
        var i = e.call(this, t) || this;
        return i._alertItemArr = [], i._staytime = 1500, i;
    }
    return i(n, e), n.prototype.show = function(i) {
        e.prototype.show.call(this, i);
        var n = new m();
        n.alpha = 1, n.setData(i), this.addChild(n);
        var o = 750 - n.height >> 1;
        this._alertItemArr.length > 0 && (o = this._alertItemArr[this._alertItemArr.length - 1].y + 78), 
        n.y = o, n.x = at.stage.stageWidth - n.width >> 1, n.createTime = t.getTimer(), 
        this._alertItemArr.push(n), this._alertItemArr.length >= 4 && (this._alertItemArr[0].alpha = 0);
        for (var r = 0; r < this._alertItemArr.length; r++) {
            var s = this._alertItemArr[r];
            t.Tween.get(s).to({
                y: s.y - 78
            }, 100);
        }
    }, n.prototype.update = function() {
        for (var e = 0; e < this._alertItemArr.length; e++) {
            var i = this._alertItemArr[e];
            if (i && t.getTimer() - i.createTime > this._staytime && (i.alpha -= .02), i.alpha <= 0) {
                var n = this._alertItemArr.indexOf(i);
                this._alertItemArr.splice(n, 1), this.removeChild(i);
            }
        }
    }, n.prototype.dispose = function() {
        e.prototype.dispose.call(this);
        for (var i = 0; i < this._alertItemArr.length; i++) {
            var n = this._alertItemArr[i];
            n && t.Tween.removeTweens(n);
        }
        this._alertItemArr = [];
    }, n;
}(s);

e(E.prototype, "SimpleAlert");

var T = function() {
    function t() {}
    return t.STAND = 1, t.ATTACK = 2, t;
}();

e(T.prototype, "ActionCons");

var S = function() {
    function t() {}
    return t.VIDEO_RELIVE = "VIDEO_RELIVE", t.VIDEO_GET_GOLD = "VIDEO_GET_GOLD", t.VIDEO_GET_TRY_USE = "VIDEO_GET_TRY_USE", 
    t;
}();

e(S.prototype, "ADCons");

var A = function() {
    function t() {}
    return t.SHOOT = 1, t.THROW = 2, t;
}();

e(A.prototype, "AttackTypeCons");

var C = function() {
    function t() {}
    return t.STIMULUS_MODE = 1, t.RELAXED_MODE = 2, t;
}();

e(C.prototype, "BattleModeCons");

var R = function() {
    function t() {}
    return t.ENEMY_NUM_ARR = [ 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 40, 40, 40, 40, 40, 40, 40, 40, 40, 40, 40, 40, 40, 40, 40, 40, 40, 40, 40, 40, 40, 40, 40, 40, 40, 40, 40, 40, 40, 40, 40, 40, 40, 40, 40, 40, 40, 40, 40, 40, 40, 40, 40, 40, 40, 40, 40, 40, 40, 40, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 100 ], 
    t;
}();

e(R.prototype, "CampaignCons");

var M = function() {
    function t() {}
    return t.LEFT = 1, t.RIGHT = 2, t;
}();

e(M.prototype, "DirectionCons");

var b = function() {
    function t() {}
    return t.USEFUL_PROP_ID_ARR = [ 2, 4, 5, 6 ], t.GOLD = 1, t.PROTECTOR = 2, t.WOOD_BLOCK = 3, 
    t.DODGE_LIE_DOWN = 4, t.FROZEN = 5, t.BOMB = 6, t;
}();

e(b.prototype, "DropCons");

var I = function() {
    function t() {}
    return t.GAME_OVER = "GAME_OVER", t.GAME_NOW_OVER = "GAME_NOW_OVER", t.GAME_RESTART = "GAME_RESTART", 
    t.RELIVE_USE_PROP = "RELIVE_USE_PROP", t.RETURN_HOME = "RETURN_HOME", t.CAMPAIGN_START = "CAMPAIGN_START", 
    t.RELAXED_MODE_START = "RELAXED_MODE_START", t.SHOP_BUY_SUCCESS = "SHOP_BUY_SUCCESS", 
    t.SHOP_CHANGE_SUCCESS = "SHOP_CHANGE_SUCCESS", t.SHOP_YULAN = "SHOP_YULAN", t.DUO_SHAN = "DUO_SHAN", 
    t.RANK_RESTART = "RANK_RESTART", t.GET_RELIVE = "GET_RELIVE", t.ACTIVE_PARAMS = "ACTIVE_PARAMS", 
    t.ADDSCOREEFFECT = "ADDSCOREEFFECT", t.SOUND_CHANGE = "SOUND_CHANGE", t.WATCH_VIDEO_GET_GOLD_OVER = "WATCH_VIDEO_GET_GOLD_OVER", 
    t.WATCH_VIDEO_GET_GOLD_FROM_SHOP = "WATCH_VIDEO_GET_GOLD_FROM_SHOP", t.WATCH_V_TRY_USE = "WATCH_V_TRY_USE", 
    t;
}();

e(I.prototype, "EventCons");

var O = function() {
    function t() {}
    return t.WEI_XIN = 1, t.FACE_FOOK = 2, t;
}();

e(O.prototype, "PlatformCons");

var x = function() {
    function t() {}
    return t.LOGIN_UP = 10001, t.LOGIN_DOWN = 10002, t.CREATE_ROOM_UP = 10003, t.CREATE_ROOM_DOWN = 10004, 
    t;
}();

e(x.prototype, "ProtocolType");

var N = function() {
    function t() {}
    return t.SHARE_IMG_PATH1 = "share6.jpg?v=1.6", t.SHARE_IMG_PATH2 = "share6.jpg?v=1.6", 
    t.SHARE_IMG_PATH3 = "share6.jpg?v=1.6", t.SHARE_IMG_PATH4 = "share6.jpg?v=1.6", 
    t;
}();

e(N.prototype, "ResPathCons");

var D = function() {
    function t() {}
    return t.ENEMY_BAO_TOU_RATE = 15, t.ENEMY_ATTACK_RATE = 4e3, t.BODY_ANCHOR_X = 124, 
    t.BODY_ANCHOR_Y = 254, t.ARM_ANCHOR_X = 104, t.ARM_ANCHOR_Y = 133, t.ARM_OFFSET_X = 40, 
    t.ARROW_W = 137, t.HP_MAX = 3, t;
}();

e(D.prototype, "RoleCons");

var B = function() {
    function t() {}
    return t.PLAYER = 1, t.MONSTER = 2, t;
}();

e(B.prototype, "RoleTypeCons");

var H = function() {
    function t() {}
    return t.ROLL_PRICE_SCORE_ARR = [ 0, 0, 2e3, 5e3 ], t.ROLE_ARR = [ 1, 2, 3 ], t.ROLE_NAME_ARR = [ "", "牛仔", "军人", "武神" ], 
    t.WEAPON_INFO_ARR = [ [], [ 1, 0, 0, 0 ], [ 2, 1, 1, 1800 ], [ 3, 1, 2, 2400 ], [ 4, 1, 4, 5200 ], [ 5, 1, 6, 9e3 ], [ 6, 1, 8, 12800 ], [ 7, 2, 1, 13e3 ], [ 8, 1, 8, -1 ], [ 9, 2, 2, 15e3 ], [ 10, 1, 10, 17e3 ], [ 11, 1, 10, 19e3 ] ], 
    t.TYPE_ROLE = 1, t.TYPE_WEAPON = 2, t.INVITE_GOLD = [ 800, 1200, 1500, 1900, 3e3 ], 
    t;
}();

e(H.prototype, "ShopCons");

var L = function() {
    function t() {}
    return t.HP_BAR1 = "resource/skins/HpBar1.exml", t.HP_BAR2 = "resource/skins/HpBar2.exml", 
    t.AlertItemSkin = "AlertItemSkin", t;
}();

e(L.prototype, "SkinCons");

var k = function() {
    function t() {}
    return t.STAND = 1, t.AIM = 2, t.ATTACK = 3, t;
}();

e(k.prototype, "StateCons");

var P = function() {
    function t() {}
    return t.EFFECT_ON = "effectOn", t.GAME_MAP_ID = "gameMapId", t;
}();

e(P.prototype, "StorageCons");

var V;

!function(t) {
    t[t.CampaignRewardView = 1e4] = "CampaignRewardView", t[t.MainUIView = 10001] = "MainUIView", 
    t[t.HomeUIView = 10002] = "HomeUIView", t[t.ShopView = 10003] = "ShopView", t[t.RankView = 10004] = "RankView", 
    t[t.GuideView = 10005] = "GuideView", t[t.CampaignReliveView = 10006] = "CampaignReliveView", 
    t[t.CampaignShareReliveView = 10007] = "CampaignShareReliveView", t[t.CampaignVideoView = 10008] = "CampaignVideoView", 
    t[t.GetReliveView = 10009] = "GetReliveView", t[t.PassCampaignView = 10010] = "PassCampaignView", 
    t[t.SignView = 10011] = "SignView", t[t.HongBaoMainView = 10012] = "HongBaoMainView", 
    t[t.HongBaoPostView = 10013] = "HongBaoPostView", t[t.InviteView = 10014] = "InviteView", 
    t[t.BuyPropView = 10015] = "BuyPropView";
}(V || (V = {}));

var U = function(t) {
    function e() {
        var e = t.call(this) || this;
        return e._modules = {}, e._openList = [], e.register(pt.NAME, pt), e.register(Lt.NAME, Lt), 
        e.register(Ct.NAME, Ct), e.register(Wt.NAME, Wt), e.register(Ut.NAME, Ut), e.register(St.NAME, St), 
        e.register(ct.NAME, ct), e.register(mt.NAME, mt), e.register(_t.NAME, _t), e.register(Et.NAME, Et), 
        e.register(qt.NAME, qt), e.register(vt.NAME, vt), e.register(It.NAME, It), e.register(Nt.NAME, Nt), 
        e.register(ht.NAME, ht), e;
    }
    return i(e, t), e.prototype.clear = function() {
        this._modules = {};
    }, e.prototype.register = function(t, e) {
        this.isExists(t) || (this._modules[t] = e);
    }, e.prototype.unregister = function(t) {
        this.isExists(t) && (this._modules[t].dispose(), this._modules[t] = null, delete this._modules[t]);
    }, e.prototype.isExists = function(t) {
        return null != this._modules[t];
    }, e.prototype.applyFunc = function(t) {
        for (var e = [], i = 1; i < arguments.length; i++) e[i - 1] = arguments[i];
        var n = this.getController(t);
        if (n) {
            for (var o = [], r = 1; r < arguments.length; r++) o[r - 1] = arguments[r];
            return n.applyFunc.apply(n, o);
        }
        return null;
    }, e.prototype.open = function(t, e) {
        if (void 0 === e && (e = null), this._openList[t]) this.close(t); else {
            var i = this._modules[t];
            if (i) {
                var n = new i(t);
                this._openList[t] = n, n.openView(e);
            }
        }
    }, e.prototype.close = function(t) {
        this._openList[t] && (this._openList[t].dispose(), this._openList[t] = null);
    }, e.prototype.getController = function(t) {
        return this._openList[t] ? this._openList[t] : null;
    }, e;
}(r);

e(U.prototype, "ControllerManager");

var G = function(t) {
    function e() {
        var e = t.call(this) || this;
        return e._views = {}, e._opens = [], e;
    }
    return i(e, t), e.prototype.clear = function() {
        this.closeAll(), this._views = {};
    }, e.prototype.register = function(t, e) {
        null != e && (this._views[t] || (this._views[t] = e));
    }, e.prototype.unregister = function(t) {
        this._views[t] && (this._views[t] = null, delete this._views[t]);
    }, e.prototype.destroy = function(t, e) {
        void 0 === e && (e = null);
        var i = this.getView(t);
        i && (this.isShow(t) && this.close(t), this.unregister(t), i.destroy(), i = null), 
        this.register(t, e);
    }, e.prototype.open = function(t) {
        for (var e = [], i = 1; i < arguments.length; i++) e[i - 1] = arguments[i];
        var n = this.getView(t);
        return null != n ? n.isShow() ? (n.open.apply(n, e), n) : (n.isInit() ? (n.addToParent(), 
        n.open.apply(n, e)) : n.loadResource(function() {
            n.setVisible(!1), n.addToParent();
        }.bind(this), function() {
            n.initUI(), n.initData(), n.open.apply(n, e), n.setVisible(!0);
        }.bind(this)), this._opens.push(t), n) : void 0;
    }, e.prototype.close = function(t) {
        for (var e = [], i = 1; i < arguments.length; i++) e[i - 1] = arguments[i];
        if (this.isShow(t)) {
            var n = this.getView(t);
            if (null != n) {
                var o = this._opens.indexOf(t);
                t >= 0 && this._opens.splice(o, 1), n.removeFromParent(), n.close.apply(n, e);
            }
        }
    }, e.prototype.closeView = function(t) {
        for (var e = [], i = 1; i < arguments.length; i++) e[i - 1] = arguments[i];
        for (var n = Object.keys(this._views), o = 0, r = n.length; r > o; o++) {
            var s = parseInt(n[o]);
            if (this._views[s] == t) return void this.close(s, e);
        }
    }, e.prototype.getView = function(t) {
        return this._views[t];
    }, e.prototype.closeAll = function() {
        for (;this._opens.length; ) this.close(this._opens[0]);
    }, e.prototype.currOpenNum = function() {
        return this._opens.length;
    }, e.prototype.isShow = function(t) {
        return -1 != this._opens.indexOf(t);
    }, e;
}(r);

e(G.prototype, "ViewManager");

var F = function() {
    function t() {}
    return t.initAD = function() {
        var e = this;
        this.isInit = !0, this.initBannerAd(), this.initBannerAd2(), this.videoAdGold = wx.createRewardedVideoAd({
            adUnitId: "adunit-f4c1ede8175214c1"
        }), this.videoAdGold.onClose(function(i) {
            i && i.isEnded || void 0 === i ? e.playingVideo == S.VIDEO_RELIVE ? (at.curr_relive_c = at.curr_relive_c + 1, 
            at.MessageCenter.dispatch(I.RELIVE_USE_PROP), at.ControllerManager.close(vt.NAME)) : e.playingVideo == S.VIDEO_GET_GOLD ? at.MessageCenter.dispatch(I.WATCH_VIDEO_GET_GOLD_OVER) : e.playingVideo == S.VIDEO_GET_TRY_USE && (at.ControllerManager.close(Wt.NAME), 
            at.MessageCenter.dispatch(I.WATCH_V_TRY_USE, t.tryRoleId, t.tryWeaponId)) : e.playingVideo == S.VIDEO_RELIVE ? at.AlertManger.show(g.SimpleAlert, "复活失败！看完视频才能复活呢！") : e.playingVideo == S.VIDEO_GET_GOLD ? at.AlertManger.show(g.SimpleAlert, "领取金币失败！看完视频才能领取哦！") : e.playingVideo == S.VIDEO_GET_TRY_USE && at.AlertManger.show(g.SimpleAlert, "试用失败！看完视频才能试用哦！");
        });
    }, t.showVideoAdGold = function(e) {
        var i = this;
        console.log("showVideoAdGold"), this.isInit && (this.playingVideo = e, this.videoAdGold.load().then(function() {
            return i.videoAdGold.show();
        }).catch(function(e) {
            t.nomoreVideos = !0, d.showWXModel("视频获取错误", "未获取到视频，很抱歉");
        }));
    }, t.showBannerAd = function() {
        this.isShowBanner1 && this.isInit && (t.nomoreBanner || this.bannerAd.show().catch(function(e) {
            console.log("bannerAd1 show err!"), t.nomoreBanner = !0;
        }));
    }, t.showBannerAd2 = function() {
        this.isInit && (t.nomoreBanner || this.bannerAd2.show().catch(function(e) {
            console.log("bannerAd2 show err!"), t.nomoreBanner = !0;
        }));
    }, t.initBannerAd = function() {
        var t = this;
        if (this.isShowBanner1) {
            var e = 350 * (at.stagewidth / 1334);
            300 > e && (e = 300);
            var i = .5 * (at.stagewidth - e), n = at.stageheight - 130;
            this.bannerAd = wx.createBannerAd({
                adUnitId: "adunit-0ec684667b0a4a2b",
                style: {
                    left: i,
                    top: n,
                    width: 350
                }
            }), this.bannerAd.onResize(function(e) {
                console.log("bannerAd1 onResize，res.width：" + e.width + " res.height：" + e.height), 
                t.bannerAd.style.left = .5 * (at.stagewidth - e.width), t.bannerAd.style.top = at.stageheight - e.height;
            }), this.bannerAd.onError(function(t) {
                console.log("bannerAd onError!");
            });
        }
    }, t.initBannerAd2 = function() {
        var t = this, e = 350 * (at.stagewidth / 1334);
        300 > e && (e = 300);
        var i = .5 * (at.stagewidth - e), n = at.stageheight - 130;
        this.bannerAd2 = wx.createBannerAd({
            adUnitId: "adunit-973221abf99499c2",
            style: {
                left: i,
                top: n,
                width: 350
            }
        }), this.bannerAd2.onResize(function(e) {
            console.log("bannerAd2 onResize，res.width：" + e.width + " res.height：" + e.height), 
            t.bannerAd2.style.left = .5 * (at.stagewidth - e.width), t.bannerAd2.style.top = at.stageheight - e.height;
        }), this.bannerAd2.onError(function(t) {
            console.log("bannerAd2 onError!");
        });
    }, t.hideBannerAd = function() {
        this.isShowBanner1 && this.isInit && (this.bannerAd.destroy(), this.initBannerAd(), 
        this.bannerAd.hide());
    }, t.hideBannerAd2 = function() {
        this.isInit && (this.bannerAd2.destroy(), this.initBannerAd2(), this.bannerAd2.hide());
    }, t.isInit = !1, t.nomoreVideos = !1, t.nomoreBanner = !1, t.isShowBanner1 = !0, 
    t;
}();

e(F.prototype, "ADUtil");

var W = function(e) {
    function r() {
        var t = e.call(this) || this;
        return t.attackTime = 0, t.tryRoleId = 0, t.tryWeaponId = 0, t.moveTime = 0, t.dropTime = 0, 
        t.myAttackTime = 0, t.myAttackDurTime = 5e3, t.isFirstEnter = !0, at.isGameOver = !1, 
        t.loadRes(), t;
    }
    return i(r, e), r.prototype.loadRes = function() {
        return n(this, void 0, void 0, function() {
            return o(this, function(t) {
                switch (t.label) {
                  case 0:
                    return [ 4, RES.loadGroup("ui", 0) ];

                  case 1:
                    return t.sent(), this.initUI(), [ 2 ];
                }
            });
        });
    }, r.prototype.initUI = function() {
        this.map = new te(), this.addChild(this.map), at.LayerManager.arrowLayer = new eui.Group(), 
        this.addChild(at.LayerManager.arrowLayer), at.LayerManager.roleLayer = new eui.Group(), 
        this.addChild(at.LayerManager.roleLayer), at.LayerManager.uiLayer = new eui.Group(), 
        this.addChild(at.LayerManager.uiLayer), at.LayerManager.rankLayer = new eui.Group(), 
        this.addChild(at.LayerManager.rankLayer), at.LayerManager.msgLayer = new eui.Group(), 
        at.LayerManager.msgLayer.touchEnabled = !1, at.LayerManager.msgLayer.touchChildren = !1, 
        this.addChild(at.LayerManager.msgLayer), this.addEvents(), d.getStorge(P.EFFECT_ON), 
        at.ControllerManager.open(Ct.NAME), at.ControllerManager.open(Lt.NAME), Pt.showChange(!1);
    }, r.prototype.addEvents = function() {
        at.MessageCenter.addListener(I.GAME_OVER, this.gameOver, this), at.MessageCenter.addListener(I.GAME_NOW_OVER, this.gameNowOver, this), 
        at.MessageCenter.addListener(I.GAME_RESTART, this.gameRestart, this), at.MessageCenter.addListener(I.RELIVE_USE_PROP, this.relive, this), 
        at.MessageCenter.addListener(I.CAMPAIGN_START, this.stimulusModeStart, this), at.MessageCenter.addListener(I.RELAXED_MODE_START, this.relaxedModeStart, this), 
        at.MessageCenter.addListener(I.RETURN_HOME, this.returnHome, this), at.MessageCenter.addListener(I.DUO_SHAN, this.duoShan, this), 
        at.MessageCenter.addListener(I.WATCH_V_TRY_USE, this.tryUseHandler, this);
    }, r.prototype.addBattleEvents = function() {
        this.addEventListener(t.TouchEvent.TOUCH_BEGIN, this.touchBeginHandler, this, !1), 
        this.addEventListener(t.TouchEvent.TOUCH_MOVE, this.touchMoveHandler, this, !1), 
        this.addEventListener(t.TouchEvent.TOUCH_END, this.touchEndHandler, this, !1), this.isFirstEnter || this.addEventListener(t.Event.ENTER_FRAME, this.enterFrameHandler, this);
    }, r.prototype.removeBattleEvents = function() {
        this.removeEventListener(t.TouchEvent.TOUCH_BEGIN, this.touchBeginHandler, this, !1), 
        this.removeEventListener(t.TouchEvent.TOUCH_MOVE, this.touchMoveHandler, this, !1), 
        this.removeEventListener(t.TouchEvent.TOUCH_END, this.touchEndHandler, this, !1), 
        this.removeEventListener(t.Event.ENTER_FRAME, this.enterFrameHandler, this);
    }, r.prototype.tryUseHandler = function(t, e) {
        this.tryRoleId = t, this.tryWeaponId = e, this.stimulusModeStart();
    }, r.prototype.gamePause = function() {
        at.isGameOver = !0, this.clear(), this.hasEventListener(t.Event.ENTER_FRAME) && this.removeEventListener(t.Event.ENTER_FRAME, this.enterFrameHandler, this);
    }, r.prototype.enterFrameStart = function() {
        at.isGameOver = !1, this.hasEventListener(t.Event.ENTER_FRAME) && this.removeEventListener(t.Event.ENTER_FRAME, this.enterFrameHandler, this), 
        this.addEventListener(t.Event.ENTER_FRAME, this.enterFrameHandler, this);
    }, r.prototype.duoShan = function(t) {
        this.me && !this.me.isDead && this.me.duoShan(t);
    }, r.prototype.returnHome = function() {
        F.showBannerAd(), this.removeBattleEvents(), Mt.showChange(!0), Pt.showChange(!1), 
        at.ArrowList.clear(), at.DropList.clear(), at.DisplayUtils.removeFromParent(this.me), 
        at.DisplayUtils.removeFromParent(this.enemy), this.map.changeMap("mainBg"), this.clearMyData();
    }, r.prototype.stimulusModeStart = function() {
        return n(this, void 0, void 0, function() {
            return o(this, function(t) {
                switch (t.label) {
                  case 0:
                    return at.battleMode = C.STIMULUS_MODE, RES.isGroupLoaded("ui2") ? [ 3, 2 ] : [ 4, RES.loadGroup("ui2", 0) ];

                  case 1:
                    return t.sent(), this.campaignStart(), [ 3, 3 ];

                  case 2:
                    this.campaignStart(), t.label = 3;

                  case 3:
                    return [ 2 ];
                }
            });
        });
    }, r.prototype.relaxedModeStart = function() {
        at.isMyRound = !0, this.myAttackTime = t.getTimer(), at.battleMode = C.RELAXED_MODE, 
        at.AlertManger.show(g.SimpleAlert, "我方回合"), this.campaignStart();
    }, r.prototype.changeMap = function() {
        "map1" == this.map.mapRes ? this.map.changeMap("map2") : "map2" == this.map.mapRes && this.map.changeMap("map1"), 
        d.setStorge(P.GAME_MAP_ID, this.map.mapRes);
    }, r.prototype.campaignStart = function() {
        if (F.hideBannerAd(), Mt.showChange(!1), Pt.showChange(!0), this.addBattleEvents(), 
        this.isFirstEnter && (at.ControllerManager.open(St.NAME), this.isFirstEnter = !1), 
        at.isDebug ? this.map.changeMap("map1") : d.getStorge(P.GAME_MAP_ID, this.setMap, this), 
        at.isGameOver = !1, at.ArrowList.list = [], null == this.me && (this.me = new re(!0), 
        this.me.x = 0, this.me.y = at.MathUtils.random(80, 140)), this.me.isDead && this.me.relive(), 
        0 != this.tryRoleId ? (this.me.changeRes(this.tryWeaponId, this.tryRoleId), this.tryWeaponId = 0, 
        this.tryRoleId = 0) : this.me.changeRes(at.myWeaponId, at.myRoleId), null == this.me.parent && at.LayerManager.roleLayer.addChild(this.me), 
        null == this.enemy) {
            this.enemy = new re();
            400, 600, this.enemy.x = at.MathUtils.random(400, 600), this.enemy.y = at.MathUtils.random(80, 140), 
            this.enemy.setDir(M.LEFT), this.enemyArr = [], this.enemyArr.push(this.enemy);
        }
        null == this.enemy.parent && at.LayerManager.roleLayer.addChild(this.enemy), this.me.enemy = this.enemy, 
        this.enemy.enemy = this.me, null == this.enemyAI && (this.enemyAI = new ee()), Pt.updateMyCampaign(at.campaignNum, 0);
    }, r.prototype.setMap = function(e, i) {
        t.log("param: " + e), 1 == e ? this.map.changeMap(i) : this.map.changeMap("map1");
    }, r.prototype.gameOver = function() {
        at.isGameOver = !0, this.clear(), this.clearSpeEff(), at.curr_relive_c < at.relive_d ? at.ControllerManager.open(vt.NAME) : at.curr_relive_b < at.relive_c ? at.ControllerManager.open(mt.NAME) : at.curr_relive_a < at.relive_b ? at.ControllerManager.open(ct.NAME) : at.ControllerManager.open(pt.NAME);
    }, r.prototype.gameNowOver = function() {
        at.isGameOver = !0, this.clear(), this.clearSpeEff(), at.ControllerManager.open(pt.NAME);
    }, r.prototype.clearSpeEff = function() {
        at.baotouNum = 0, at.isShowWoodDrop = !1, at.isRoleMove = !1, at.enemyMoveVY = 1, 
        at.dropDurTime = 1e4, at.dropVMin = 1, at.dropVMax = 2, this.enemy.setHp(D.HP_MAX), 
        this.enemy.attackTime = 0, this.enemy.baotouRate = D.ENEMY_BAO_TOU_RATE, at.enemyAttackRate = D.ENEMY_ATTACK_RATE;
    }, r.prototype.clearMyData = function() {
        at.isMyRound = !0, this.myAttackTime = t.getTimer(), at.myScore = 0, at.killNum = 0, 
        at.myPropLieDown = 0, Pt.updateMyCampaign(at.campaignNum, 0), at.curr_relive_a = 0, 
        at.curr_relive_b = 0, at.curr_relive_c = 0, this.me.removeProtect(), Pt.updateMyProtector(0);
    }, r.prototype.gameRestart = function() {
        at.isGameOver = !1, this.enterFrameStart(), this.me.isDead && this.me.relive(), 
        at.ArrowList.clear(), at.DropList.clear(), this.clearMyData(), this.clearSpeEff(), 
        at.battleMode == C.RELAXED_MODE && at.AlertManger.show(g.SimpleAlert, "我方回合");
    }, r.prototype.relive = function() {
        at.isGameOver = !1, this.me.isDead && this.me.relive(), at.ArrowList.clear(), at.DropList.clear(), 
        at.battleMode == C.RELAXED_MODE && at.AlertManger.show(g.SimpleAlert, "我方回合");
    }, r.prototype.touchBeginHandler = function(e) {
        at.isGameOver || (at.battleMode != C.RELAXED_MODE || at.isMyRound) && (t.getTimer() - this.attackTime < 600 || (this.attackTime = t.getTimer(), 
        this.me.isDead || (at.SoundManager.playEffect("pullbow"), this.shootStart = !0, 
        this.me.changeAction(T.ATTACK), null == this.startP && (this.startP = new t.Point()), 
        this.startP.x = e.stageX, this.startP.y = e.stageY, this.me.addArrow())));
    }, r.prototype.touchMoveHandler = function(e) {
        if (!at.isGameOver && this.shootStart && !this.me.isDead && null != this.me.arrow) {
            t.getTimer() - this.moveTime > 100 && (this.moveTime = t.getTimer(), this.myShape ? this.clear() : this.myShape = new t.Shape(), 
            this.myShape.graphics.lineStyle(10, 15697152, 1), this.myShape.graphics.moveTo(this.startP.x, this.startP.y), 
            this.myShape.graphics.lineTo(e.stageX, e.stageY), this.myShape.graphics.endFill(), 
            this.addChild(this.myShape));
            var i = e.stageY - this.startP.y, n = e.stageX - this.startP.x;
            this.me.setShootData(i, Math.abs(n));
            var o = Math.atan(i / n) / Math.PI * 180;
            isNaN(o) && (o = 0), this.me.setRotation(o), this.me.setArrowRotation(o), this.me.aimAngle = o;
        }
    }, r.prototype.touchEndHandler = function(t) {
        at.isGameOver || this.shootStart && (this.me.isDead || (this.shootStart = !1, this.me.changeAction(T.STAND), 
        this.clear(), this.me.attack(), at.battleMode == C.RELAXED_MODE && this.enemyRound()));
    }, r.prototype.clear = function() {
        this.myShape && this.myShape.parent && (this.myShape.parent.removeChild(this.myShape), 
        this.myShape.graphics.clear());
    }, r.prototype.enterFrameHandler = function() {
        for (var e = 0; e < at.ArrowList.list.length; e++) {
            var i = at.ArrowList.list[e];
            2 == i.state && i.update();
        }
        for (n = 0; n < at.DropList.list.length; n++) at.DropList.list[n].update();
        if (!at.isGameOver) {
            for (var n = 0; n < this.enemyArr.length; n++) {
                var o = this.enemyArr[n];
                o.isDead || this.enemyAI.doAI(o);
            }
            t.getTimer() - this.dropTime > at.dropDurTime && (this.dropTime = t.getTimer(), 
            at.DropList.addDrop()), at.battleMode == C.RELAXED_MODE && at.isMyRound && t.getTimer() - this.myAttackTime > this.myAttackDurTime && this.enemyRound();
        }
    }, r.prototype.enemyRound = function() {
        at.AlertManger.show(g.SimpleAlert, "敌方回合"), at.isMyRound = !1, this.enemy.state = k.AIM, 
        t.setTimeout(function() {
            this.enemy.state = k.ATTACK, this.enemy.attack(), this.myAttackTime = t.getTimer(), 
            at.isMyRound = !0, at.AlertManger.show(g.SimpleAlert, "我方回合");
        }, this, 3e3);
    }, r;
}(eui.Component);

e(W.prototype, "GameScene");

var Y = function(t) {
    function e() {
        return null !== t && t.apply(this, arguments) || this;
    }
    return i(e, t), e;
}(r);

e(Y.prototype, "LayerManager");

var K = function(e) {
    function n(t, i) {
        var n = e.call(this, t, i) || this;
        return n.skinName = "resource/skins/PanelSkin.exml", n;
    }
    return i(n, e), Object.defineProperty(n.prototype, "icon", {
        get: function() {
            return this._icon;
        },
        set: function(t) {
            this._icon = t, this.iconDisplay && (this.iconDisplay.source = this._icon);
        },
        enumerable: !0,
        configurable: !0
    }), Object.defineProperty(n.prototype, "btn", {
        get: function() {
            return this._btn;
        },
        set: function(t) {
            this._btn = t, this.button && (this.button.source = this._btn);
        },
        enumerable: !0,
        configurable: !0
    }), n.prototype.initUI = function() {
        e.prototype.initUI.call(this), this.closeBtn.addEventListener(t.TouchEvent.TOUCH_END, this.closeBtnClickHandler, this);
    }, n.prototype.initData = function() {
        e.prototype.initData.call(this), this.iconDisplay.source = this._icon, this.button.source = this._btn;
    }, n.prototype.closeBtnClickHandler = function(t) {
        at.ViewManager.closeView(this);
    }, n;
}(l);

e(K.prototype, "BasePanelView");

var X = function(e) {
    function n(i, n) {
        var o = e.call(this) || this;
        return o._resources = null, o._controller = i, o._myParent = n, o._isInit = !1, 
        at.stage.addEventListener(t.Event.RESIZE, o.onResize, o), o;
    }
    return i(n, e), n.prototype.setResources = function(t) {
        this._resources = t;
    }, Object.defineProperty(n.prototype, "myParent", {
        get: function() {
            return this._myParent;
        },
        enumerable: !0,
        configurable: !0
    }), n.prototype.isInit = function() {
        return this._isInit;
    }, n.prototype.applyFunc = function(t) {
        for (var e = [], i = 1; i < arguments.length; i++) e[i - 1] = arguments[i];
        return this._controller.applyFunc.apply(this._controller, arguments);
    }, n.prototype.isShow = function() {
        return null != this.stage && this.visible;
    }, n.prototype.addToParent = function() {
        this._myParent.addChild(this);
    }, n.prototype.removeFromParent = function() {
        at.DisplayUtils.removeFromParent(this);
    }, n.prototype.initUI = function() {
        this._isInit = !0;
    }, n.prototype.initData = function() {}, n.prototype.open = function() {
        for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];
    }, n.prototype.close = function() {
        for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];
    }, n.prototype.destroy = function() {
        this._controller = null, this._myParent = null, this._resources = null;
    }, n.prototype.onResize = function() {}, n.prototype.loadResource = function(t, e) {
        this._resources && this._resources.length > 0 ? at.ResourceUtils.loadResource(this._resources, [], function() {
            t(), e();
        }, null, this) : (t(), e());
    }, n.prototype.setVisible = function(t) {
        this.visible = t;
    }, n;
}(t.DisplayObjectContainer);

e(X.prototype, "BaseSpriteView", [ "IBaseView" ]);

var j = function() {
    function t() {}
    return t.encode = function(t) {
        return encode(t);
    }, t.decode = function(t) {
        return decode(t);
    }, t.getEnterParam = function() {
        return getEnterParam();
    }, t;
}();

e(j.prototype, "MsgPack");

var z = function(e) {
    function n() {
        return e.call(this) || this;
    }
    return i(n, e), n.prototype.decode = function(t) {
        return j.decode(t.bytes);
    }, n.prototype.encode = function(e) {
        var i = j.encode(e);
        return new t.ByteArray(i);
    }, n;
}(c);

e(z.prototype, "ByteArrayByMsgpack");

var q = function(e) {
    function n() {
        var t = e.call(this) || this;
        return t.createView(), t;
    }
    return i(n, e), n.prototype.createView = function() {
        this.myShape = new t.Shape(), this.myShape.graphics.beginFill(16777215, 1), this.myShape.graphics.drawRect(0, 0, at.stage.stageWidth, at.stage.stageHeight), 
        this.myShape.graphics.endFill(), this.myShape.x = 0, this.myShape.y = 0, this.addChildAt(this.myShape, 0), 
        this.textField = new t.TextField(), this.addChild(this.textField), this.textField.y = (at.stage.stageHeight >> 1) - 50, 
        this.textField.x = 0, this.textField.width = at.stage.stageWidth, this.textField.height = 100, 
        this.textField.textAlign = "center", this.textField.verticalAlign = "middle", this.textField.textColor = 0, 
        this.textField.text = "最强射击手";
    }, n.prototype.onProgress = function(t, e) {
        this.textField.text = "Loading..." + t + "/" + e, console.log("Loading..." + t + "/" + e);
    }, n.prototype.dispose = function() {}, n;
}(t.Sprite);

e(q.prototype, "LoadingUI", [ "RES.PromiseTaskReporter" ]);

var J = function(e) {
    function n() {
        var t = e.call(this) || this;
        return t._needReconnect = !1, t._maxReconnectCount = 10, t._reconnectCount = 0, 
        t;
    }
    return i(n, e), n.prototype.addEvents = function() {
        this._socket.addEventListener(t.ProgressEvent.SOCKET_DATA, this.onReceiveMessage, this), 
        this._socket.addEventListener(t.Event.CONNECT, this.onSocketOpen, this), this._socket.addEventListener(t.Event.CLOSE, this.onSocketClose, this), 
        this._socket.addEventListener(t.IOErrorEvent.IO_ERROR, this.onSocketError, this);
    }, n.prototype.removeEvents = function() {
        this._socket.removeEventListener(t.ProgressEvent.SOCKET_DATA, this.onReceiveMessage, this), 
        this._socket.removeEventListener(t.Event.CONNECT, this.onSocketOpen, this), this._socket.removeEventListener(t.Event.CLOSE, this.onSocketClose, this), 
        this._socket.removeEventListener(t.IOErrorEvent.IO_ERROR, this.onSocketError, this);
    }, n.prototype.onSocketOpen = function() {
        this._reconnectCount = 0, this._isConnecting = !0, this._connectFlag && this._needReconnect ? at.MessageCenter.dispatch(Z.SOCKET_RECONNECT) : at.MessageCenter.dispatch(Z.SOCKET_CONNECT), 
        this._connectFlag = !0, console.log("websocket open");
    }, n.prototype.onSocketClose = function() {
        this._isConnecting = !1, this._needReconnect ? (at.MessageCenter.dispatch(Z.SOCKET_START_RECONNECT), 
        this.reconnect()) : at.MessageCenter.dispatch(Z.SOCKET_CLOSE), console.log("websocket close");
    }, n.prototype.onSocketError = function() {
        this._needReconnect ? this.reconnect() : at.MessageCenter.dispatch(Z.SOCKET_NOCONNECT), 
        this._isConnecting = !1;
    }, n.prototype.onReceiveMessage = function(t) {
        this._msg.receive(this._socket);
    }, n.prototype.initServer = function(t, e, i) {
        this._host = t, this._port = e, this._msg = i;
    }, n.prototype.connect = function() {
        this._socket = new t.WebSocket(), this._msg instanceof c ? this._socket.type = t.WebSocket.TYPE_BINARY : this._socket.type = t.WebSocket.TYPE_STRING, 
        this.addEvents(), this._socket.connectByUrl(this._host + ":" + this._port);
    }, n.prototype.reconnect = function() {
        this.closeCurrentSocket(), ++this._reconnectCount < this._maxReconnectCount ? this.connect() : (this._reconnectCount = 0, 
        this._connectFlag ? at.MessageCenter.dispatch(Z.SOCKET_CLOSE) : at.MessageCenter.dispatch(Z.SOCKET_NOCONNECT));
    }, n.prototype.send = function(t) {
        this._isConnecting && this._msg.send(this._socket, t);
    }, n.prototype.close = function() {
        this._connectFlag = !1, this.closeCurrentSocket();
    }, n.prototype.closeCurrentSocket = function() {
        this.removeEvents(), this._socket.close(), this._socket = null, this._isConnecting = !1;
    }, n.prototype.isConnecting = function() {
        return this._isConnecting;
    }, n.prototype.debugInfo = function(t) {
        at.MessageCenter.dispatch(Z.SOCKET_DEBUG_INFO, t);
    }, n;
}(r);

e(J.prototype, "Socket");

var Z = function() {
    function t() {}
    return t.SOCKET_CONNECT = "SOCKET_CONNECT", t.SOCKET_RECONNECT = "SOCKET_RECONNECT", 
    t.SOCKET_START_RECONNECT = "SOCKET_START_RECONNECT", t.SOCKET_CLOSE = "SOCKET_CLOSE", 
    t.SOCKET_DATA = "SOCKET_DATA", t.SOCKET_NOCONNECT = "SOCKET_NOCONNECT", t.SOCKET_DEBUG_INFO = "SOCKET_DEBUG_INFO", 
    t;
}();

e(Z.prototype, "SocketConst");

var $ = function(e) {
    function r() {
        var t = null !== e && e.apply(this, arguments) || this;
        return t.getOpenIdCount = 0, t.extensionCount = 0, t.isActiveSendComp = !1, t.activeCount = 0, 
        t.versionCount = 0, t;
    }
    return i(r, e), r.prototype.createChildren = function() {
        e.prototype.createChildren.call(this), t.lifecycle.addLifecycleListener(function(t) {}), 
        t.lifecycle.onPause = function() {
            t.ticker.pause();
        }, t.lifecycle.onResume = function() {
            t.ticker.resume();
        };
        var i = new v();
        t.registerImplementation("eui.IAssetAdapter", i), t.registerImplementation("eui.IThemeAdapter", new rt()), 
        at.isDebug ? this.test_runGame() : this.runGame().catch(function(t) {
            console.log(t);
        });
    }, r.prototype.reqUserData = function() {
        return n(this, void 0, void 0, function() {
            var e, i, n, r, s, a, h;
            return o(this, function(o) {
                switch (o.label) {
                  case 0:
                    return st.AladinSDK.report(st.AladinSDK.reportTypes.LOGIN, ""), [ 4, platform.login() ];

                  case 1:
                    return e = o.sent(), [ 4, platform.getSystemInfo() ];

                  case 2:
                    return i = o.sent(), at.stagewidth = i.windowWidth, at.stageheight = i.windowHeight, 
                    at.logincode = e.code, i.system && (n = String(i.system), n = n.toLocaleUpperCase(), 
                    at.isIos = n.indexOf("IOS") >= 0), console.log("App.isIos:" + at.isIos), r = "?js_code=" + e.code, 
                    s = new t.HttpRequest(), s.responseType = t.HttpResponseType.TEXT, s.open(at.url + at.codeFuncName + String(at.gameRankId) + r, t.HttpMethod.GET), 
                    s.send(), s.addEventListener(t.Event.COMPLETE, this.onGetOpenIdComplete, this), 
                    s.addEventListener(t.IOErrorEvent.IO_ERROR, this.onGetOpenIdComplete, this), at.isDebug || (wx.onShow(this.getShowParams), 
                    (a = wx.getLaunchOptionsSync()) && a.shareTicket && (at.shareTicket = a.shareTicket), 
                    a && a.query && (h = a.query) && h.code && h.openid && (at.inviteCode = String(h.code), 
                    at.inviteOpenid = String(h.openid), console.log("inviteCode:" + at.inviteCode), 
                    console.log("inviteOpenid:" + at.inviteOpenid), at.sendInviteCode())), [ 2 ];
                }
            });
        });
    }, r.prototype.getShowParams = function(t) {
        if (t.shareTicket && (at.shareTicket = t.shareTicket), t && t.query) {
            var e = t.query;
            e && e.code && e.openid && (at.inviteCode = String(e.code), at.inviteOpenid = String(e.openid), 
            console.log("inviteCode:" + at.inviteCode), console.log("inviteOpenid:" + at.inviteOpenid), 
            at.sendInviteCode());
        }
    }, r.prototype.onGetOpenIdComplete = function(e) {
        if (!(++this.getOpenIdCount >= 6)) {
            var i = e.currentTarget;
            i.removeEventListener(t.Event.COMPLETE, this.onGetOpenIdComplete, this), i.removeEventListener(t.IOErrorEvent.IO_ERROR, this.onGetOpenIdComplete, this);
            try {
                var n = JSON.parse(i.response).openid;
                if (n) st.AladinSDK.report(st.AladinSDK.reportTypes.OPEN_ID, n), at.openid = n, 
                ve.getExtensionValue(this.onExtensionValueHandler, this); else {
                    o = "?js_code=" + at.logincode;
                    (i = new t.HttpRequest()).responseType = t.HttpResponseType.TEXT, i.open(at.url + at.codeFuncName + String(at.gameRankId) + o, t.HttpMethod.GET), 
                    i.send(), i.addEventListener(t.Event.COMPLETE, this.onGetOpenIdComplete, this), 
                    i.addEventListener(t.IOErrorEvent.IO_ERROR, this.onGetOpenIdComplete, this);
                }
            } catch (e) {
                var o = "?js_code=" + at.logincode;
                (i = new t.HttpRequest()).responseType = t.HttpResponseType.TEXT, i.open(at.url + at.codeFuncName + String(at.gameRankId) + o, t.HttpMethod.GET), 
                console.log(at.url + at.codeFuncName + String(at.gameRankId) + o), i.send(), i.addEventListener(t.Event.COMPLETE, this.onGetOpenIdComplete, this), 
                i.addEventListener(t.IOErrorEvent.IO_ERROR, this.onGetOpenIdComplete, this);
            }
        }
    }, r.prototype.runGame = function() {
        return n(this, void 0, void 0, function() {
            var t;
            return o(this, function(e) {
                switch (e.label) {
                  case 0:
                    return [ 4, this.loadResource() ];

                  case 1:
                    return e.sent(), (t = st.AladinSDK).init("wxa93d4530e975e7aa", "1.0.0", {
                        theme: t.Theme.YELLOW
                    }, function() {}), this.reqUserData(), [ 2 ];
                }
            });
        });
    }, r.prototype.test_runGame = function() {
        return n(this, void 0, void 0, function() {
            return o(this, function(t) {
                switch (t.label) {
                  case 0:
                    return [ 4, this.loadResource() ];

                  case 1:
                    return t.sent(), this.createGameScene(), [ 2 ];
                }
            });
        });
    }, r.prototype.onExtensionValueHandler = function(e, i) {
        if (i.extensionCount++, !(i.extensionCount >= 3)) {
            var n = JSON.parse(e);
            n && 1 == n.error ? ve.getExtensionValue(i.onExtensionValueHandler, i) : (at.myScoreMax = n.score, 
            at.myRank = n.FRank, at.parseExtensionValue(n.extensionValue), at.isSyncParams = !0, 
            t.log("App.myRank: " + at.myRank), console.log("getuserparams:"), i.createGameScene());
        }
    }, r.prototype.loadResource = function() {
        return n(this, void 0, void 0, function() {
            var t;
            return o(this, function(e) {
                switch (e.label) {
                  case 0:
                    return e.trys.push([ 0, 4, , 5 ]), at.stage = this.stage, [ 4, RES.loadConfig("resource/default.res.json", "resource/") ];

                  case 1:
                    return e.sent(), [ 4, this.loadTheme() ];

                  case 2:
                    return e.sent(), this.loadingView = new q(), this.stage.addChild(this.loadingView), 
                    [ 4, RES.loadGroup("ui", 0) ];

                  case 3:
                    return e.sent(), [ 3, 5 ];

                  case 4:
                    return t = e.sent(), console.error(t), [ 3, 5 ];

                  case 5:
                    return [ 2 ];
                }
            });
        });
    }, r.prototype.loadTheme = function() {
        var t = this;
        return new Promise(function(e, i) {
            new eui.Theme("resource/default.thm.json", t.stage).addEventListener(eui.UIEvent.COMPLETE, function() {
                e();
            }, t);
        });
    }, r.prototype.createGameScene = function() {
        at.stage = this.stage, this.stage.maxTouches = 1;
        var t = new W();
        this.addChild(t), this.loadingView && (this.loadingView.dispose(), this.stage.removeChild(this.loadingView)), 
        at.Init(t), at.isDebug || (this.initUserInfoBtn(), wx.onShareAppMessage(function() {
            return {
                title: String(at.shareValue[1]),
                imageUrl: at.cdnUrl + N.SHARE_IMG_PATH2
            };
        }), wx.showShareMenu({
            withShareTicket: !0,
            success: function(t) {},
            fail: function(t) {},
            complete: function(t) {}
        }));
    }, r.prototype.isHasUserInfo = function() {
        var t = wx.getStorageSync("userInfo");
        t ? (st.AladinSDK.report(st.AladinSDK.reportTypes.AUTH, ""), console.log(t), at.isHasUserInfo = !0, 
        at.userInfo = t, this.setActive(), at.sendInviteCode()) : (at.isHasUserInfo = !1, 
        this.uBtn.show(), this.umask = new eui.Rect(), this.umask.fillColor = 0, this.umask.fillAlpha = .8, 
        this.umask.width = at.stage.stageWidth, this.umask.height = at.stage.stageHeight, 
        this.umask.x = 0, this.umask.y = 0, this.umask.touchEnabled = !0, this.addChild(this.umask));
    }, r.prototype.initUserInfoBtn = function() {
        var t = this, e = at.stagewidth / at.stageW * 300, i = 77 * e / 300, n = (at.stagewidth - e) / 2, o = (at.stageheight - i) / 2 + 20;
        this.uBtn = wx.createUserInfoButton({
            type: "image",
            image: "http://res.mmiplay.com/wxgame/archer/userinfobtn.png",
            style: {
                left: n,
                top: o,
                width: e,
                height: i
            }
        }), this.uBtn.onTap(function(e) {
            e && e.userInfo && (st.AladinSDK.report(st.AladinSDK.reportTypes.AUTH, ""), at.isHasUserInfo = !0, 
            wx.setStorageSync("userInfo", e.userInfo), at.userInfo = e.userInfo, at.signature = e.signature, 
            at.sendInviteCode(), t.uBtn.destroy(), t.setActive(), t.umask && t.umask.parent && t.umask.parent.removeChild(t.umask));
        }), this.uBtn.hide(), this.isHasUserInfo();
    }, r.prototype.setActive = function() {
        1 != this.isActiveSendComp && (this.isActiveSendComp = !0, ve.commitActiveGame(at.myScoreMax, this.onActiveCompHandler, this));
    }, r.prototype.onActiveCompHandler = function(t, e) {
        if (e.activeCount++, !(e.activeCount >= 3)) {
            var i = JSON.parse(t);
            if (i && 1 == i.error) ve.commitActiveGame(at.myScoreMax, e.onActiveCompHandler, e); else if (i && 1 == i.status) {
                var n = i.FValue.split("@@");
                n.length >= 1 && n[0] && (at.isPassCheck = Number(n[0])), n.length >= 2 && n[1] && (at.relive_a = Number(n[1])), 
                n.length >= 3 && n[2] && (at.relive_b = Number(n[2])), n.length >= 4 && n[3] && (at.relive_c = Number(n[3])), 
                n.length >= 5 && n[4] && (at.relive_d = Number(n[4])), n.length >= 6 && n[5] && (at.relive_e = Number(n[5])), 
                n.length >= 7 && n[6] && (at.hongBaoScore = Number(n[6])), n.length >= 8 && n[7] && (at.hongBaoMoney = Number(n[7])), 
                n.length >= 9 && n[8] && (at.isShowBanner2 = Number(n[8]));
                var o = i.FShareValue;
                at.shareValue = o.split("@@"), e.setVersioninfo();
            } else ve.commitActiveGame(at.myScoreMax, e.onActiveCompHandler, e);
        }
    }, r.prototype.setVersioninfo = function() {
        ve.getVersionInfo(this.onVersionCompHandler, this);
    }, r.prototype.onVersionCompHandler = function(t, e) {
        if (e.versionCount++, !(e.versionCount >= 3)) {
            var i = JSON.parse(t);
            if (i && 0 == i.status) ve.getVersionInfo(e.onVersionCompHandler, e); else if (i && 1 == i.status) {
                var n = i.data;
                at.isPassCheck = Number(n.FShare), at.isKCHZSDK = Number(n.FSDK), F.isShowBanner1 = 1 == Number(n.FBanner), 
                0 == at.isPassCheck && (at.relive_a = 0, at.relive_b = 0, at.relive_c = 0, at.relive_d = 1, 
                at.relive_e = 5), at.MessageCenter.dispatch(I.ACTIVE_PARAMS), F.showBannerAd();
            }
        }
    }, r;
}(eui.UILayer);

e($.prototype, "Main");

var Q = function(t) {
    function e() {
        return t.call(this) || this;
    }
    return i(e, t), e.prototype.decode = function(t) {
        return JSON.parse(t);
    }, e.prototype.encode = function(t) {
        return JSON.stringify(t);
    }, e;
}(u);

e(Q.prototype, "UTFMsgByJson");

var tt = function() {
    function t() {}
    return t.prototype.getUserInfo = function() {
        return n(this, void 0, void 0, function() {
            return o(this, function(t) {
                return [ 2, {
                    nickName: "username"
                } ];
            });
        });
    }, t.prototype.login = function() {
        return n(this, void 0, void 0, function() {
            return o(this, function(t) {
                return [ 2 ];
            });
        });
    }, t.prototype.getSystemInfo = function() {
        return n(this, void 0, void 0, function() {
            return o(this, function(t) {
                return [ 2 ];
            });
        });
    }, t;
}();

e(tt.prototype, "DebugPlatform", [ "Platform" ]), window.platform || (window.platform = new tt());

var et = function(t) {
    function e() {
        var e = t.call(this) || this;
        return e._currBg = "", e;
    }
    return i(e, t), e.prototype.stop = function() {
        this._currSoundChannel && this._currSoundChannel.stop(), this._currSoundChannel = null, 
        this._currSound = null, this._currBg = "";
    }, e.prototype.play = function(t, e) {
        if (void 0 === e && (e = 1), this._currBg != t) {
            this.stop(), this._currBg = t;
            var i = this.getSound(t);
            i && this.playSound(i, e);
        }
    }, e.prototype.playSound = function(t, e) {
        this._currSound = t, this._currSoundChannel = this._currSound.play(0, e), this._currSoundChannel.volume = this._volume;
    }, e.prototype.setVolume = function(t) {
        this._volume = t, this._currSoundChannel && (this._currSoundChannel.volume = this._volume);
    }, e.prototype.loadedPlay = function(t, e) {
        void 0 === e && (e = 1), this._currBg == t && this.playSound(RES.getRes(t), e);
    }, e.prototype.checkCanClear = function(t) {
        return this._currBg != t;
    }, e;
}(p);

e(et.prototype, "SoundBg");

var it = function(t) {
    function e() {
        return t.call(this) || this;
    }
    return i(e, t), e.prototype.play = function(t) {
        var e = this.getSound(t);
        e && this.playSound(e);
    }, e.prototype.playSound = function(t) {
        t.play(0, 1).volume = this._volume;
    }, e.prototype.setVolume = function(t) {
        this._volume = t;
    }, e.prototype.loadedPlay = function(t) {
        this.playSound(RES.getRes(t));
    }, e;
}(p);

e(it.prototype, "SoundEffects");

var nt = function(t) {
    function e() {
        var e = t.call(this) || this;
        return e.bgOn = !0, e.effectOn = !0, e.bgVolume = .5, e.effectVolume = .5, e.bg = new et(), 
        e.bg.setVolume(e.bgVolume), e.effect = new it(), e.effect.setVolume(e.effectVolume), 
        e;
    }
    return i(e, t), e.prototype.playEffect = function(t) {
        this.effectOn && this.effect.play(t);
    }, e.prototype.playBg = function(t, e) {
        void 0 === e && (e = 1), this.currBg = t, this.bgOn && this.bg.play(t, e);
    }, e.prototype.stopBg = function() {
        this.bg.stop();
    }, e.prototype.setEffectOn = function(t) {
        this.effectOn = t;
    }, e.prototype.setBgOn = function(t) {
        this.bgOn = t, this.bgOn ? this.currBg && this.playBg(this.currBg) : this.stopBg();
    }, e.prototype.setBgVolume = function(t) {
        t = Math.min(t, 1), t = Math.max(t, 0), this.bgVolume = t, this.bg.setVolume(this.bgVolume);
    }, e.prototype.getBgVolume = function() {
        return this.bgVolume;
    }, e.prototype.setEffectVolume = function(t) {
        t = Math.min(t, 1), t = Math.max(t, 0), this.effectVolume = t, this.effect.setVolume(this.effectVolume);
    }, e.prototype.getEffectVolume = function() {
        return this.effectVolume;
    }, e.CLEAR_TIME = 18e4, e;
}(r);

e(nt.prototype, "SoundManager");

var ot = function() {
    return function() {};
}();

e(ot.prototype, "BasePoolVO");

!function(t) {
    var i = function() {
        function e() {}
        return e.init = function(e, i, n, o, r) {
            void 0 === n && (n = null), void 0 === o && (o = null), void 0 === r && (r = !0), 
            t.SDK.init(e, i, n, o, r);
        }, e.getOpen = function() {
            return t.Data.conf.allowShare;
        }, e.Report = function(e, i) {
            void 0 === i && (i = ""), t.Report.report(e, i);
        }, e.report = function(e, i) {
            void 0 === i && (i = ""), t.Report.report(e, i);
        }, e.reportWithAppId = function(e, i, n) {
            void 0 === n && (n = ""), t.Report.reportWithAppId(e, i, n);
        }, e.getMoreNode = function() {
            return t.More.getMoreNode();
        }, e.getBannerNode = function() {
            return t.Banner.getBannerNode();
        }, e.HideMore = function() {
            t.More.HideMore();
        }, e.hideMore = function() {
            t.More.HideMore();
        }, e.HideBanner = function() {
            t.Banner.HideBanner();
        }, e.hideBanner = function() {
            t.Banner.HideBanner();
        }, e.ShowMore = function() {
            t.More.ShowMore();
        }, e.showMore = function() {
            t.More.ShowMore();
        }, e.ShowBanner = function(e) {
            void 0 === e && (e = null), null != e && (t.Data.conf.gdt = e.gdt ? e.gdt : t.Data.conf.gdt), 
            t.Banner.ShowBanner();
        }, e.showBanner = function(e) {
            void 0 === e && (e = null), null != e && e.gdt && (t.Data.conf.gdt = e.gdt ? e.gdt : t.Data.conf.gdt), 
            t.Banner.ShowBanner();
        }, e.ShowDrawer = function(e) {
            void 0 === e && (e = null), t.Drawer.Show(e);
        }, e.HideDrawer = function() {
            t.Drawer.Hide();
        }, e.SetDrawerScale = function(e) {
            t.Drawer.SetScale(e);
        }, e.GetDrawerNode = function() {
            return t.Drawer.GetDrawerNode();
        }, e.reportTypes = t.Report.ReportTypes, e.ReportTypes = t.Report.ReportTypes, e.Theme = {
            BLUE: 1,
            YELLOW: 2,
            YH: 3
        }, e.getFavoNode = function() {
            return t.GuessLike.getFavoNode();
        }, e.showFavoNode = function() {
            return t.GuessLike.showFavoNode();
        }, e.hideFavoNode = function() {
            return t.GuessLike.hideFavoNode();
        }, e;
    }();
    t.AladinSDK = i, e(i.prototype, "aladin.AladinSDK");
}(st || (st = {}));

!function(i) {
    var n = function() {
        function e() {}
        return e.show = function(t) {
            t != i.Carousel.TYPES.BANNER || i.More.cache.banner_container.visible ? t == i.Carousel.TYPES.GDT && (i.GDT.data.adid || i.GDT.Run()) : (i.More.cache.banner_container.visible = !0, 
            i.Carousel.Run(t));
        }, e.HideMore = function() {
            e.hide(i.Carousel.TYPES.MORE);
        }, e.HideBanner = function() {
            e.hide(i.Carousel.TYPES.BANNER);
        }, e.ShowBanner = function() {
            e.show(i.Data.switches.isShowBanner ? i.Carousel.TYPES.BANNER : i.Carousel.TYPES.GDT);
        }, e.hide = function(t) {
            i.Carousel.StopNextTimer(t), t == i.Carousel.TYPES.MORE ? (e.cache.more_container.visible = !1, 
            i.Carousel.ClearAniTimer()) : (e.cache.banner_container.visible = !1, i.GDT.Hide());
        }, e.initNodes = function() {
            var n = new eui.Group();
            n.addEventListener(t.Event.ADDED_TO_STAGE, function() {
                i.Data.conf.stageWidth = n.stage.stageWidth, i.Data.conf.stageHeight = n.stage.stageHeight;
            }, this);
            var o = new eui.Image();
            o.name = "banner_node", o.addEventListener(t.TouchEvent.TOUCH_TAP, i.Carousel.BannerClick, this), 
            n.addChild(o), n.horizontalCenter = 0, e.cache.banner_node = o, e.cache.banner_container = n;
        }, e.getBannerNode = function() {
            return e.cache.banner_node || e.initNodes(), e.cache.banner_container;
        }, e._DownloadTexture = function(e, i, n) {
            var o = new t.ImageLoader();
            o.addEventListener(t.Event.COMPLETE, function(e) {
                var n = e.target.data, o = new t.Texture();
                o.bitmapData = n, i(o);
            }, this);
            var r = e;
            o.load(r);
        }, e.RenderTexture = function(t, n) {
            t == i.Carousel.TYPES.BANNER && e._DownloadTexture(n, e.DownloadBannerSuc, e.DownloadBannerFail);
        }, e.DownloadBannerSuc = function(t) {
            var n = e.cache.banner_node;
            n.width = e.cache.banner_container.width ? e.cache.banner_container.width : t.textureWidth, 
            n.height = e.cache.banner_container.height ? e.cache.banner_container.height : t.textureHeight, 
            n.texture = t, e.cache.banner_container.x || e.cache.banner_container.y || (e.cache.banner_container.x = (i.Data.conf.stageWidth - n.width) / 2, 
            e.cache.banner_container.y = i.Data.conf.stageHeight - n.height - 10), i.Carousel.StopNextTimer(i.Carousel.TYPES.BANNER), 
            i.Carousel.StartNextTimer(i.Carousel.TYPES.BANNER);
        }, e.DownloadBannerFail = function() {
            i.Carousel.Next(i.Carousel.TYPES.BANNER);
        }, e.cache = {
            banner_node: null,
            banner__node: null,
            texture_width: 144,
            texture_height: 144
        }, e;
    }();
    i.Banner = n, e(n.prototype, "aladin.Banner");
}(st || (st = {}));

!function(t) {
    var i = function() {
        function e() {}
        return e.Init = function() {
            t.Data.switches.isShowMore ? e.Run(e.TYPES.MORE) : t.More.hide(e.TYPES.MORE), t.Data.switches.isShowBanner ? e.Run(e.TYPES.BANNER) : t.Banner.hide(e.TYPES.BANNER), 
            t.Data.switches.isShowGDT && t.GDT.Run();
        }, e.Next = function(i) {
            if (i == e.TYPES.BANNER) {
                n = (e.data.current.banner + 1) % t.SDK.data.banner_list.length;
                if (e.data.current.banner == n) return;
                e.data.current.banner = n;
            } else {
                var n = (e.data.current.more + 1) % t.SDK.data.more_list.length;
                if (e.data.current.more == n) return;
                e.data.current.more = n;
            }
            e.Run(i);
        }, e.Run = function(i) {
            var n = i == e.TYPES.BANNER ? t.SDK.data.banner_list : t.SDK.data.more_list, o = i == e.TYPES.BANNER ? e.data.current.banner : e.data.current.more;
            n && n.length > 0 && i == e.TYPES.BANNER ? t.Banner.RenderTexture(i, n[o][4]) : n && n.length > 0 && i == e.TYPES.MORE && t.More.RenderTexture(i, n[o][4]);
        }, e.StartNextTimer = function(i) {
            var n = 1 == i ? t.Data.conf.interval : t.Data.conf.banner_interval, o = setTimeout(function() {
                e.Next(i);
            }, n);
            i == e.TYPES.BANNER ? e.data.timer.next_banner_timer = o : e.data.timer.next_more_timer = o;
        }, e.StopNextTimer = function(t) {
            t == e.TYPES.MORE && e.data.timer.next_more_timer ? (clearTimeout(e.data.timer.next_more_timer), 
            e.data.timer.next_more_timer = 0) : t == e.TYPES.BANNER && e.data.timer.next_banner_timer && (clearTimeout(e.data.timer.next_banner_timer), 
            e.data.timer.next_banner_timer = 0);
        }, e.ClearAniTimer = function() {
            e.data.timer.more_ani_timer && (clearInterval(e.data.timer.more_ani_timer), e.data.timer.more_ani_timer = 0), 
            e.data.timer.more_ani_finish_timer && (clearTimeout(e.data.timer.more_ani_finish_timer), 
            e.data.timer.more_ani_finish_timer = 0);
        }, e.MoreClick = function() {
            t.SDK.data.more_list[e.data.current.more], t.SDK._toMiniProgram(t.SDK.data.more_list[e.data.current.more]), 
            t.SDK.data.more_list.length > 1 && (e.StopNextTimer(e.TYPES.MORE), e.ClearAniTimer(), 
            e.Next(e.TYPES.MORE));
        }, e.BannerClick = function() {
            t.SDK.data.banner_list[e.data.current.banner], t.SDK._toMiniProgram(t.SDK.data.banner_list[e.data.current.banner]), 
            e.StopNextTimer(e.TYPES.BANNER), e.Next(e.TYPES.BANNER);
        }, e.TYPES = {
            MORE: 1,
            BANNER: 2,
            GDT: 3
        }, e.data = {
            current: {
                more: 0,
                banner: 0
            },
            timer: {
                more_ani_timer: 0,
                more_ani_finish_timer: 0,
                next_more_timer: 0,
                next_banner_timer: 0
            }
        }, e;
    }();
    t.Carousel = i, e(i.prototype, "aladin.Carousel");
}(st || (st = {}));

!function(t) {
    var i = function() {
        function t() {}
        return t.conf = {
            stage: null,
            sdk_version: "1.4.0",
            appid: "",
            base_url: "https://mprogram.boomegg.cn/sprogram/ads/c/ad/",
            reportUrl: "https://distribute-stats.boomegg.cn",
            TinySprite: "https://ad-static.boomegg.cn/imgs/sdks/sdk_v1.png",
            texture: null,
            theme: 2,
            more_width: 144,
            more_height: 144,
            interval: 1e4,
            banner_interval: 6e4,
            changelog: "",
            changelogArr: [],
            allowShare: 0,
            init_suc: !1,
            is_report: !0,
            windowWidth: 0,
            windowHeight: 0,
            default_params: {},
            gdt_pos_left: 0,
            gdt_pos_top: 0,
            gdt_pos_width: 300,
            gdt_pos_height: 100,
            coverleft: !1,
            coverright: !1,
            covertop: !1,
            coverbottom: !1,
            stageWidth: 0,
            stageHeight: 0,
            cb: null,
            openId: "",
            extraAppId: "",
            gdt: ""
        }, t.spriteConf = [ [ [ 319, 1, 115, 205 ], [ 121, 208, 118, 113 ], [ 57, 1, 51, 59 ] ], [ [ 209, 1, 108, 205 ], [ 241, 208, 133, 115 ], [ 4, 1, 51, 59 ] ], [ [ 110, 1, 97, 205 ], [ 1, 208, 118, 113 ], [ 1, 1, 51, 59 ] ] ], 
        t.maskSpriteConf = [ 1, 1, 1, 1 ], t.switches = {
            isShowMore: !1,
            isShowBanner: !1,
            isShowGDT: !1
        }, t;
    }();
    t.Data = i, e(i.prototype, "aladin.Data");
}(st || (st = {}));

!function(i) {
    var n = function() {
        function e() {}
        return e.Init = function() {
            var i = new eui.Group();
            i.name = "Drawer", i.addEventListener(t.Event.ADDED_TO_STAGE, function() {
                e.container.width = e.container.stage.stageWidth, e.container.height = e.container.stage.stageHeight, 
                e.container.addChild(e.dialaogGroup);
                var t = 1;
                t = e.container.stage.stageWidth > e.container.stage.stageHeight ? e.container.stage.stageHeight / 750 : e.container.stage.stageWidth / 750, 
                o.scaleX = o.scaleY = t, o.x = (e.container.stage.stageWidth - e.dialaogGroup.width * o.scaleX) / 2, 
                o.y = (e.container.stage.stageHeight - e.dialaogGroup.height * o.scaleY) / 2;
            }, i);
            var n = new eui.Image();
            n.name = "mask", i.addChild(n), n.left = 0, n.right = 0, n.top = 0, n.bottom = 0, 
            e.spriteCache[0] = n, n.addEventListener(t.TouchEvent.TOUCH_TAP, e.Hide, this);
            var o = new eui.Group();
            o.name = "BG_Group", o.width = 640, o.height = 666, e.dialaogGroup = o;
            var r = new eui.Image();
            o.addChild(r), r.percentWidth = 100, r.percentHeight = 100, e.spriteCache[1] = r;
            var s = new eui.Group();
            s.name = "ListContainer", s.width = 504, s.height = 608, o.addChild(s), s.x = 36, 
            s.y = 29, e.listContainerNodeCache = s;
            var a = new eui.Group();
            a.width = 55, a.height = 657, o.addChild(a), a.x = 584.31, a.y = 4.08, a.addEventListener(t.TouchEvent.TOUCH_TAP, e.Hide, this), 
            i.visible = !1, i.x = 0, i.y = 0, e.container = i, e.initSuc = !0;
        }, e.Show = function(t) {
            e.initSuc || e.Init(), e.container && e.isBgSuc && e.isIconSuc && (e.container.visible = !0, 
            i.Report.report(i.Report.ReportTypes.DRAWER_SHOW), t && (e.hideCallback = t));
        }, e.GetDrawerNode = function() {
            return e.initSuc || e.Init(), e.container;
        }, e.RenderBGTexture = function(n) {
            var o = i.Data.spriteConf[0];
            parseInt(i.Data.conf.theme) <= i.Data.spriteConf.length && (o = i.Data.spriteConf[parseInt(i.Data.conf.theme) - 1]);
            var r = i.Data.maskSpriteConf, s = (o[2], o[1]), a = new t.SpriteSheet(n), h = e.spriteCache[0], l = a.createTexture("mask_texture", r[0], r[1], r[2], r[3]);
            h.texture = l;
            var c = e.spriteCache[1], u = a.createTexture("bg_texture", s[0], s[1], s[2], s[3]);
            c.texture = u, c.scale9Grid = new t.Rectangle(27, 79, 7, 6), e.isBgSuc = !0;
        }, e.Hide = function() {
            if (console.log("hide ............"), e.container && (e.container.visible = !1, 
            e.hideCallback)) try {
                e.hideCallback(), e.hideCallback = null;
            } catch (t) {}
        }, e.Toggle = function() {
            e.container ? e.container.visible = !e.container.visible : console.log("not valid or no container");
        }, e.click = function(t) {
            console.log("clicked : " + t.target.name), console.log(t);
            var n = t.currentTarget.name;
            console.log("event name:" + n);
            for (var o = 0, r = e.data; o < r.length && "break" !== function(t) {
                if (console.log("check name:" + t[0] + "," + t[1]), console.log(t), t[0] + "_" + t[1] == n) {
                    var e = i.Utils.ParseNavigateParam(t);
                    return console.log("navigate data:"), console.log(e), wx.navigateToMiniProgram({
                        appId: e.appId,
                        path: e.path,
                        extraData: e.extraData,
                        success: function(t) {
                            i.Report.report(i.Report.ReportTypes.DRAWER_CLICK, e.target_appid);
                        },
                        complete: function(t) {
                            wx.hideLoading();
                        }
                    }), "break";
                }
            }(r[o]); o++) ;
        }, e.picLoaded = function() {}, e.SetScale = function(t) {
            e.spriteCache[1].scale = t;
        }, e.ImgLoadSuc = function(i) {
            console.log("load img suc " + e.currentLoadingTexture);
            var n = i.currentTarget, o = new t.Texture();
            if (o._setBitmapData(n.data), e.textureCache[e.currentLoadingTexture] = o, ++e.currentLoadingTexture >= e.data.length) e.initItemList(); else {
                var r = new t.ImageLoader();
                r.addEventListener(t.Event.COMPLETE, e.ImgLoadSuc, this), r.load(e.data[e.currentLoadingTexture][4]);
            }
        }, e.InitList = function(i) {
            console.log("init list "), e.data = i;
            var n = new t.ImageLoader();
            n.addEventListener(t.Event.COMPLETE, e.ImgLoadSuc, this), n.load(i[e.currentLoadingTexture][4]);
        }, e.initItemList = function() {
            for (var i = e.listContainerNodeCache, n = 0, o = 0, r = e.data; o < r.length; o++) {
                var s = r[o], a = new eui.Group();
                a.width = 144, a.height = 188, a.name = s[0] + "_" + s[1], a.addEventListener(t.TouchEvent.TOUCH_TAP, e.click, this);
                var h = new eui.Image();
                h.texture = e.textureCache[n];
                var l = new eui.Label();
                l.textAlign = t.HorizontalAlign.CENTER, l.verticalAlign = t.VerticalAlign.MIDDLE, 
                l.text = s[5], l.size = 25, l.width = 144, a.addChild(h), a.addChild(l), l.x = 0, 
                l.y = 155, i.addChild(a);
                var c = n % 3, u = Math.floor(n / 3);
                if (a.x = 180 * c, a.y = 203 * u, ++n >= 9) break;
            }
            e.isIconSuc = !0;
        }, e.container = null, e.initSuc = !1, e.data = [], e.spriteCache = [], e.listContainerNodeCache = null, 
        e.isBgSuc = !1, e.isIconSuc = !1, e.textureCache = [], e.currentLoadingTexture = 0, 
        e.hideCallback = null, e.dialaogGroup = null, e;
    }();
    i.Drawer = n, e(n.prototype, "aladin.Drawer");
}(st || (st = {}));

!function(t) {
    var i = function() {
        function e() {}
        return e.Run = function() {
            e.Next();
        }, e.Next = function() {
            e.data.adid && e.data.adid.destroy(), e.data.adid = wx.createBannerAd({
                adUnitId: t.Data.conf.gdt,
                style: {
                    left: t.Data.conf.gdt_pos_left,
                    width: t.Data.conf.gdt_pos_width,
                    top: t.Data.conf.gdt_pos_top
                }
            }), e.data.adid.onError(function() {
                console.log("onError");
            }), e.data.adid && (e.data.adid.onResize(function() {
                var i = 0, n = 0, o = t.Data.conf.coverright, r = t.Data.conf.coverleft, s = t.Data.conf.covertop;
                if (t.Data.conf.coverbottom, e.data.adid) {
                    var a = e.data.adid.style.realWidth, h = e.data.adid.style.realHeight;
                    n = s ? t.Data.conf.default_params.gdt_top : t.Data.conf.windowHeight - h - t.Data.conf.default_params.gdt_bottom, 
                    i = o || r ? !o && r ? t.Data.conf.default_params.gdt_left : t.Data.conf.windowWidth - a + t.Data.conf.default_params.gdt_right : (t.Data.conf.windowWidth - a) / 2, 
                    e.data.adid.style.left = i, e.data.adid.style.top = n;
                }
            }), e.data.adid.show()), e.data.timer = setTimeout(e.Next, t.Data.conf.banner_interval);
        }, e.StopTimer = function() {
            e.data.timer && (clearTimeout(e.data.timer), e.data.timer = 0);
        }, e.Hide = function() {
            e.data.adid && (e.data.adid.destroy(), e.data.adid = 0, e.StopTimer());
        }, e.data = {
            adid: void 0,
            timer: void 0
        }, e;
    }();
    t.GDT = i, e(i.prototype, "aladin.GDT");
}(st || (st = {}));

!function(i) {
    var n = function() {
        function e() {}
        return e.showFavoNode = function() {
            e.cache.LikeNodeGroup.visible || (e.cache.LikeNodeGroup.visible = !0, i.Report.report(i.Report.ReportTypes.LIKE_SHOW));
        }, e.hideFavoNode = function() {
            e.cache.LikeNodeGroup.visible && (e.cache.LikeNodeGroup.visible = !1);
        }, e.initNodes = function() {
            var t = new eui.Group(), i = new eui.Image();
            i.width = 600, i.height = 205, i.name = "GuessLikeNode", t.addChild(i), e.cache.favoNode = i, 
            e.cache.LikeNodeGroup = t;
        }, e.getFavoNode = function() {
            return e.cache.LikeNodeGroup || e.initNodes(), e.cache.LikeNodeGroup;
        }, e._DownloadTexture = function(e, i, n) {
            var o = e[4] ? e[4] : e[0], r = new t.ImageLoader();
            r.crossOrigin = "anonymous", r.addEventListener(t.Event.COMPLETE, function(n) {
                var o = n.target.data, r = new t.Texture();
                r.bitmapData = o, i(r, e);
            }, this);
            var s = o;
            r.load(s);
        }, e.RenderTexture = function(t) {
            e.cache.dataList = t;
            for (var i = 0; i < t.length; i++) 3 > i && e._DownloadTexture(t[i], e.DownloadLikeSuc, e.DownloadLikeFail);
        }, e.DownloadLikeFail = function() {}, e.DownloadLikeSuc = function(i, n) {
            e.cache.number < 3 ? e.cache.number++ : e.cache.number = 1;
            var o = new eui.Group(), r = new eui.Image(), s = new eui.Label();
            o.x = 100 + 164 * (e.cache.number - 1), o.addChild(r), o.addChild(s), o.width = e.cache.texture_width, 
            o.height = 205, e.cache.LikeNodeGroup.addChild(o), r.y = 18, s.y = 165, r.source = i, 
            r.visible = !0, r.name = n[1], r.width = e.cache.texture_width, r.height = e.cache.texture_height, 
            s.size = 25, s.text = n[5], s.horizontalCenter = 0, r.width = e.cache.texture_width, 
            r.height = e.cache.texture_height, r.addEventListener(t.TouchEvent.TOUCH_TAP, e.likeNodeClick, this);
        }, e.likeNodeClick = function(t) {
            for (var n = 0, o = e.cache.dataList; n < o.length; n++) {
                var r = o[n];
                if ("break" === function() {
                    if (r[1] == t.target.name) {
                        var e = i.Utils.ParseNavigateParam(r);
                        return wx.navigateToMiniProgram({
                            appId: e.appId,
                            path: e.path,
                            extraData: e.extraData,
                            success: function(t) {
                                i.Report.report(i.Report.ReportTypes.LIKE_CLICK, e.target_appid);
                            },
                            complete: function(t) {
                                wx.hideLoading();
                            }
                        }), "break";
                    }
                }()) break;
            }
        }, e._DownloadFavoTexture = function(t, e, n) {
            i.Data.conf.texture && e(i.Data.conf.texture, t);
        }, e.RenderTextureFavo = function() {
            e._DownloadFavoTexture(e.cache.favoUrl, e.DownloadFavoSuc, e.DownloadFavoFail);
        }, e.DownloadFavoFail = function() {}, e.DownloadFavoSuc = function(n) {
            var o = i.Data.spriteConf[0][0];
            parseInt(i.Data.conf.theme) <= i.Data.spriteConf.length && (o = i.Data.spriteConf[parseInt(i.Data.conf.theme) - 1][0]);
            var r = (new eui.Group(), new eui.Image(), e.cache.favoNode);
            r.width = 600, r.height = 205;
            var s = new t.Rectangle(86, 25, 4, 155);
            r.scale9Grid = s, n = new t.SpriteSheet(n).createTexture("mask_texture", o[0], o[1], o[2], o[3]), 
            r.source = n, r.visible = !0;
        }, e.cache = {
            more_container: null,
            more_node: null,
            mask: null,
            banner_container: null,
            banner_node: null,
            LikeNodeGroup: null,
            favoNode: null,
            number: 0,
            dataList: [],
            favoUrl: "",
            texture_width: 144,
            texture_height: 144
        }, e;
    }();
    i.GuessLike = n, e(n.prototype, "aladin.GuessLike");
}(st || (st = {}));

!function(t) {
    var i = function() {
        function e() {}
        return e.init = function() {
            e.share();
        }, e.share = function() {
            var e = wx.shareAppMessage;
            Object.defineProperty(wx, "shareAppMessage", {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                value: function() {
                    var i = (arguments[0] || {}).query || "";
                    if (!t.Utils._parseQueryString(i).Ads) {
                        var n = "";
                        i && (n = "&"), n += "Ads=a_Share&AdsPos=default", arguments[0].query = i + n;
                    }
                    if (arguments[0].success) {
                        var o = arguments[0].success;
                        arguments[0].success = function(e) {
                            t.Report.report(t.Report.ReportTypes.SHARE), o(e);
                        };
                    } else arguments[0].success = function(e) {
                        t.Report.report(t.Report.ReportTypes.SHARE);
                    };
                    return e.apply(this, arguments);
                }
            });
        }, e;
    }();
    t.Intercept = i, e(i.prototype, "aladin.Intercept");
}(st || (st = {}));

!function(i) {
    var n = function() {
        function e() {}
        return e.show = function(t) {
            t != i.Carousel.TYPES.MORE || e.cache.more_container.visible || (e.cache.more_container.visible = !0, 
            i.Carousel.Run(t));
        }, e.HideMore = function() {
            e.hide(i.Carousel.TYPES.MORE);
        }, e.ShowMore = function() {
            e.show(i.Carousel.TYPES.MORE);
        }, e.hide = function(t) {
            i.Carousel.StopNextTimer(t), t == i.Carousel.TYPES.MORE ? (e.cache.more_container.visible = !1, 
            i.Carousel.ClearAniTimer()) : (e.cache.banner_container.visible = !1, i.GDT.Hide());
        }, e.initNodes = function() {
            var n = new t.Rectangle(0, 0, 144, 144), o = new eui.Image();
            o.width = i.Data.conf.more_width, o.height = i.Data.conf.more_height, o.name = "more_game", 
            o.addEventListener(t.TouchEvent.TOUCH_TAP, i.Carousel.MoreClick, this);
            var r = new eui.Group();
            r.addChild(o), r.mask = n, e.cache.more_container = r, e.cache.more_node = o, e.cache.mask = n;
        }, e.getMoreNode = function() {
            return e.cache.more_node || e.initNodes(), e.cache.more_container;
        }, e._DownloadTexture = function(e, i, n) {
            var o = new t.ImageLoader();
            o.addEventListener(t.Event.COMPLETE, function(e) {
                var n = e.target.data, o = new t.Texture();
                o.bitmapData = n, i(o);
            }, this);
            var r = e;
            o.load(r);
        }, e.RenderTexture = function(t, n) {
            t == i.Carousel.TYPES.MORE && e._DownloadTexture(n, e.DownloadMoreSuc, e.DownloadMoreFail);
        }, e.DownloadMoreSuc = function(t) {
            e.cache.texture_height = t.textureHeight, e.cache.texture_width = t.textureWidth;
            var n = e.cache.more_node;
            n.width = t.textureWidth, n.height = t.textureHeight, n.anchorOffsetX = 0, n.anchorOffsetY = 0, 
            n.texture = t, i.Carousel.StartNextTimer(i.Carousel.TYPES.MORE), i.Carousel.ClearAniTimer(), 
            t.textureWidth > 1.5 * i.Data.conf.more_width && (i.Carousel.data.timer.more_ani_timer = setInterval(e.Animation, 60));
        }, e.DownloadMoreFail = function() {
            i.Carousel.Next(i.Carousel.TYPES.MORE);
        }, e.Animation = function() {
            var t = e.cache.more_node, n = t.anchorOffsetX + i.Data.conf.more_width;
            i.Data.conf.more_width + n <= e.cache.texture_width ? t.anchorOffsetX = n : (i.Carousel.ClearAniTimer(), 
            i.Carousel.data.timer.more_ani_finish_timer = setTimeout(e.AniFinish, 600));
        }, e.AniFinish = function() {
            e.cache.more_node.anchorOffsetX = 0, i.Carousel.data.timer.more_ani_timer = setInterval(e.Animation, 60);
        }, e.cache = {
            more_container: null,
            more_node: null,
            mask: null,
            mask_node: null,
            more__node: null,
            texture_width: 144,
            texture_height: 144
        }, e;
    }();
    i.More = n, e(n.prototype, "aladin.More");
}(st || (st = {}));

var rt = function() {
    function e() {}
    return e.prototype.getTheme = function(e, i, n, o) {
        function r(t) {
            i.call(o, t);
        }
        function s(t) {
            t.resItem.url == e && (RES.removeEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR, s, null), 
            n.call(o));
        }
        var a = this;
        "undefined" != typeof generateEUI ? t.callLater(function() {
            i.call(o, generateEUI);
        }, this) : "undefined" != typeof generateEUI2 ? RES.getResByUrl("resource/gameEui.json", function(e, n) {
            window.JSONParseClass.setData(e), r(e), t.callLater(function() {
                i.call(o, generateEUI2);
            }, a);
        }, this, RES.ResourceItem.TYPE_JSON) : (RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR, s, null), 
        RES.getResByUrl(e, r, this, RES.ResourceItem.TYPE_TEXT));
    }, e;
}();

e(rt.prototype, "ThemeAdapter", [ "eui.IThemeAdapter" ]);

var st;

!function(i) {
    var n = function() {
        function e() {}
        return e.init = function(t, n, o, r, s) {
            void 0 === s && (s = !0);
            var a = {
                gdt_left: -1,
                gdt_top: -1,
                gdt_bottom: 0,
                gdt_right: -1,
                gdt_widht: 300
            };
            i.Intercept.init(), i.Data.conf.cb = r, i.Data.conf.is_report = s, i.Report.commStr.version = n, 
            o && (a.gdt_left = void 0 != o.gdt_left ? o.gdt_left : a.gdt_left, a.gdt_top = void 0 != o.gdt_top ? o.gdt_top : a.gdt_top, 
            a.gdt_bottom = void 0 != o.gdt_bottom ? o.gdt_bottom : a.gdt_bottom, a.gdt_right = void 0 != o.gdt_right ? o.gdt_right : a.gdt_right, 
            a.gdt_widht = void 0 != o.gdt_widht ? o.gdt_widht : a.gdt_widht, i.Data.conf.theme = i.AladinSDK.Theme.BLUE, 
            o.theme && parseInt(o.theme) <= i.Data.spriteConf.length && (i.Data.conf.theme = parseInt(o.theme)));
            var h = wx.getSystemInfoSync();
            i.Data.conf.windowWidth = h.windowWidth, i.Data.conf.windowHeight = h.windowHeight, 
            i.Data.conf.default_params = a, e.setGDT_pos(a, a.gdt_widht, 108 * a.gdt_widht / 375), 
            e.data.isInited || (i.Data.conf.appid = t, e.data.isInited = !0, console.log("AladinSDK version(" + i.Data.conf.sdk_version + ") init success!"), 
            i.More.initNodes(), i.Banner.initNodes(), i.GuessLike.initNodes(), i.Drawer.Init(), 
            e.initData(), i.Data.conf.init_suc = !0, i.Report.initReportParam(), i.Report.report(i.Report.ReportTypes.SHOW));
        }, e.setGDT_pos = function(t, e, n) {
            var o = 0, r = 0, s = t.gdt_widht;
            r = -1 == t.gdt_top ? i.Data.conf.windowHeight - n - t.gdt_bottom : t.gdt_top, -1 == t.gdt_right && -1 == t.gdt_left ? o = (i.Data.conf.windowWidth - e) / 2 : -1 == t.gdt_right && -1 != t.gdt_left ? (i.Data.conf.coverleft = !0, 
            o = t.gdt_left) : (i.Data.conf.coverright = !0, o = i.Data.conf.windowWidth - e + t.gdt_right), 
            i.Data.conf.gdt_pos_left = o, i.Data.conf.gdt_pos_top = r, i.Data.conf.gdt_pos_width = s;
        }, e.initData = function() {
            wx.request({
                url: i.Data.conf.base_url + "get_moregame",
                header: {
                    "content-type": "application/x-www-form-urlencoded"
                },
                data: {
                    id: i.Data.conf.appid,
                    version: i.Report.commStr.version,
                    sdk_version: i.Data.conf.sdk_version
                },
                method: "get",
                success: function(n) {
                    if (n.data) {
                        var o = i.Data.conf.TinySprite, r = (i.Utils.GetImgType(o), new t.ImageLoader());
                        r.crossOrigin = "anonymous", r.addEventListener(t.Event.COMPLETE, function(o) {
                            var r = o.target.data, s = new t.Texture();
                            s.bitmapData = r, i.Data.conf.texture = s, i.Drawer.RenderBGTexture(s), e.parseData(n);
                        }, this);
                        var s = o;
                        r.load(s);
                    } else console.log("提示：未配置数据，请联系对接人");
                }
            });
        }, e.parseData = function(t) {
            if (t.data && t.data.data) {
                var n = t.data.data;
                if (i.Data.conf.allowShare = t.data.open, n.redirect && wx.navigateToMiniProgram({
                    appId: n.redirect,
                    path: "pages/index/index",
                    success: function() {},
                    complete: function() {}
                }), n.changelog && (i.Data.conf.changelog = n.changelog, n.changelog.indexOf("$$") ? i.Data.conf.changelogArr = n.changelog.split("$$") : i.Data.conf.changelogArr.push(n.changelog)), 
                n.interval && (i.Data.conf.interval = n.interval), n.banner_interval && (i.Data.conf.banner_interval = n.banner_interval), 
                n.sdk_version && n.sdk_version != i.Data.conf.sdk_version) {
                    var o = n.sdk_version.split("."), r = i.Data.conf.sdk_version.split("."), s = parseInt(r[0]), a = parseInt(r[1]), h = parseInt(r[2]), l = parseInt(o[0]), c = parseInt(o[1]), u = parseInt(o[2]);
                    l >= s && c >= a && u > h && (console.log("%c 请升级SDK版本：", "color:red;font-size:26px;font-weight:bold;"), 
                    console.log("%c 当前版本号：" + i.Data.conf.sdk_version, "color:#000;font-size:15px;"), 
                    console.log("%c 最新版本号：" + n.sdk_version, "color:#000;font-size:15px;"), console.log("%c 修改内容 ：", "color:#000;font-size:17px;"), 
                    i.Data.conf.changelogArr.forEach(function(t) {
                        console.log("%c     " + t, "color:#000;font-size:15px;");
                    }), console.log("%c 最新版本下载地址：http://ad-static.boomegg.cn/sdk/egret/" + n.sdk_version + ".zip", "color:#333;font-size:22px;font-weight:bold;"));
                }
                if (n.icons && n.icons.length > 0 && (e.data.more_list = n.icons, i.Data.switches.isShowMore = !0), 
                n.gdt && (i.Data.conf.gdt = n.gdt, i.Data.switches.isShowGDT = !0), n.bottoms && n.bottoms.length > 0 && (e.data.banner_list = n.bottoms, 
                i.Data.switches.isShowGDT || (i.Data.switches.isShowBanner = !0)), !(n.bottoms && 0 != n.bottoms.length || n.icons && 0 != n.icons.length || n.gdt && "" != n.gdt)) return console.log("提示：appid没配配置，请联系对接同学配置"), 
                void console.log(n);
                n.likes && n.likes.length > 0 && (i.GuessLike.showFavoNode(), i.GuessLike.RenderTextureFavo(), 
                i.GuessLike.RenderTexture(n.likes || [])), n.expands && n.expands.length > 0 && i.Drawer.InitList(n.expands), 
                i.Carousel.Init();
            } else console.log("get data error ...");
            i.Data.conf.cb && (console.log("cb called ......"), i.Data.conf.cb());
        }, e._preview = function(t, e) {
            i.Report.report(i.Report.ReportTypes.MORE_CLICK), wx.previewImage({
                urls: [ t ],
                success: function() {
                    i.Report.report(i.Report.ReportTypes.MORE_FOLD, e);
                }
            });
        }, e._toMiniProgram = function(t) {
            var e = i.Utils.ParseNavigateParam(t);
            wx.navigateToMiniProgram({
                appId: e.appId,
                path: e.path,
                extraData: e.extraData,
                success: function(t) {
                    i.Report.report(i.Report.ReportTypes.MORE_FOLD, e.target_appid);
                },
                complete: function(t) {
                    wx.hideLoading();
                }
            });
        }, e.data = {
            isInited: !1,
            more_list: [],
            banner_list: [],
            fn: null
        }, e;
    }();
    i.SDK = n, e(n.prototype, "aladin.SDK");
}(st || (st = {}));

var at = function() {
    function e() {}
    return e.getExtensionValue = function() {
        return e.gold + "@@" + e.reliveNum + "@@" + e.serverTimestamp + "@@" + e.getReliveNum + "@@" + e.myRoleId + "@@" + e.myWeaponId + "@@" + e.campaignNum + "@@" + e.gotWeaponArrStr + "@@" + e.gotRoleArrStr + "@@" + e.signDay + "@@" + e.signTimestamp + "@@" + e.videoCount + "@@" + e.videoTimestamp + "@@" + e.hongBaoStatus + "@@" + e.inviteAwardNum;
    }, e.parseExtensionValue = function(i) {
        if (i && "" != i && "0" != i && i && "0" != i) {
            var n = i.split("@@");
            n.length >= 1 && n[0] && (e.gold = Number(n[0])), n.length >= 2 && n[1] && (e.reliveNum = Number(n[1])), 
            n.length >= 3 && n[2] && (e.serverTimestamp = Number(n[2])), n.length >= 4 && n[3] && (e.getReliveNum = Number(n[3])), 
            n.length >= 5 && n[4] && (e.myRoleId = Number(n[4])), n.length >= 6 && n[5] && (e.myWeaponId = Number(n[5])), 
            n.length >= 7 && n[6] && (e.campaignNum = Number(n[6])), n.length >= 8 && n[7] && (e.gotWeaponArrStr = String(n[7])), 
            n.length >= 9 && n[8] && (e.gotRoleArrStr = String(n[8])), n.length >= 10 && n[9] && (e.signDay = Number(n[9])), 
            n.length >= 11 && n[10] && (e.signTimestamp = Number(n[10])), n.length >= 12 && n[11] && (e.videoCount = Number(n[11])), 
            n.length >= 13 && n[12] && (e.videoTimestamp = Number(n[12])), n.length >= 14 && n[13] && (e.hongBaoStatus = Number(n[13])), 
            n.length >= 15 && n[14] && (e.inviteAwardNum = Number(n[14])), e.gotWeaponArr = [], 
            e.gotRoleArr = [], "" != e.gotWeaponArrStr && (e.gotWeaponArr = e.gotWeaponArrStr.split("_"), 
            e.gotWeaponArrStr = Xt.rectityWeaponData()), "" != e.gotRoleArrStr && (e.gotRoleArr = e.gotRoleArrStr.split("_"), 
            e.gotRoleArrStr = Xt.rectityRoleData(), t.log("gotRoleArrStr：" + e.gotRoleArrStr));
        }
    }, Object.defineProperty(e, "myScore", {
        get: function() {
            return this._myScore;
        },
        set: function(t) {
            this._myScore = t, Pt.updateMyScore(t), t >= 100 && 500 > t ? (this.enemyAttackRate = 2e3, 
            this.isRoleMove = !0, this.enemyMoveVY = 1, this.gameScene.enemy.baotouRate = 10, 
            this.dropDurTime = 8e3, this.dropVMin = 1, this.dropVMax = 3) : t >= 500 && 1e3 > t ? (this.enemyAttackRate = 1500, 
            this.isRoleMove = !0, this.enemyMoveVY = 2, this.gameScene.enemy.baotouRate = 5, 
            this.dropDurTime = 5e3, this.dropVMin = 2, this.dropVMax = 4) : t >= 1e3 && 2e3 > t ? (this.isShowWoodDrop = !0, 
            this.enemyAttackRate = 1e3, this.isRoleMove = !0, this.enemyMoveVY = 2, this.gameScene.enemy.baotouRate = 4, 
            this.dropDurTime = 4500, this.dropVMin = 3, this.dropVMax = 4) : t >= 2e3 && 1e4 > t ? (this.isShowWoodDrop = !0, 
            this.enemyAttackRate = 700, this.isRoleMove = !0, this.enemyMoveVY = 3, this.gameScene.enemy.baotouRate = 4, 
            this.dropDurTime = 4e3, this.dropVMin = 3, this.dropVMax = 4) : t >= 1e4 && (this.isShowWoodDrop = !0, 
            this.enemyAttackRate = 500, this.isRoleMove = !0, this.enemyMoveVY = 4, this.gameScene.enemy.baotouRate = 3, 
            this.dropDurTime = 2e3, this.dropVMin = 3, this.dropVMax = 5);
        },
        enumerable: !0,
        configurable: !0
    }), Object.defineProperty(e, "myPropLieDown", {
        get: function() {
            return this._myPropLieDown;
        },
        set: function(t) {
            this._myPropLieDown = t, Pt.updateMyPropLieDown(t);
        },
        enumerable: !0,
        configurable: !0
    }), Object.defineProperty(e, "myGold", {
        get: function() {
            return this.gold;
        },
        set: function(t) {
            this.gold = t, Pt.updateMyGold(t), Mt.updateMyGold(t);
        },
        enumerable: !0,
        configurable: !0
    }), Object.defineProperty(e, "LayerManager", {
        get: function() {
            return Y.getInstance();
        },
        enumerable: !0,
        configurable: !0
    }), Object.defineProperty(e, "ArrowList", {
        get: function() {
            return $t.getInstance();
        },
        enumerable: !0,
        configurable: !0
    }), Object.defineProperty(e, "DropList", {
        get: function() {
            return Qt.getInstance();
        },
        enumerable: !0,
        configurable: !0
    }), Object.defineProperty(e, "MathUtils", {
        get: function() {
            return ue.getInstance();
        },
        enumerable: !0,
        configurable: !0
    }), Object.defineProperty(e, "DisplayUtils", {
        get: function() {
            return se.getInstance();
        },
        enumerable: !0,
        configurable: !0
    }), Object.defineProperty(e, "ResourceUtils", {
        get: function() {
            return ye.getInstance();
        },
        enumerable: !0,
        configurable: !0
    }), Object.defineProperty(e, "ViewManager", {
        get: function() {
            return G.getInstance();
        },
        enumerable: !0,
        configurable: !0
    }), Object.defineProperty(e, "MessageCenter", {
        get: function() {
            return de.getInstance(0);
        },
        enumerable: !0,
        configurable: !0
    }), Object.defineProperty(e, "TimerManager", {
        get: function() {
            return Ee.getInstance();
        },
        enumerable: !0,
        configurable: !0
    }), Object.defineProperty(e, "Socket", {
        get: function() {
            return J.getInstance();
        },
        enumerable: !0,
        configurable: !0
    }), Object.defineProperty(e, "ControllerManager", {
        get: function() {
            return U.getInstance();
        },
        enumerable: !0,
        configurable: !0
    }), Object.defineProperty(e, "AlertManger", {
        get: function() {
            return f.getInstance();
        },
        enumerable: !0,
        configurable: !0
    }), Object.defineProperty(e, "TickManager", {
        get: function() {
            return we.getInstance();
        },
        enumerable: !0,
        configurable: !0
    }), Object.defineProperty(e, "SoundManager", {
        get: function() {
            return nt.getInstance();
        },
        enumerable: !0,
        configurable: !0
    }), Object.defineProperty(e, "RandomUtils", {
        get: function() {
            return fe.getInstance();
        },
        enumerable: !0,
        configurable: !0
    }), Object.defineProperty(e, "EffectUtils", {
        get: function() {
            return ae.getInstance();
        },
        enumerable: !0,
        configurable: !0
    }), e.Init = function(t) {
        this.sizeScale = e.stageheight / 750, this.gameScene = t, e.TickManager.init(e.stage), 
        this.isDebug || F.initAD();
    }, e.onSocketConnect = function() {
        t.log("socket 连上"), e.MessageCenter.removeListener(Z.SOCKET_CONNECT, this.onSocketConnect, this);
    }, e.substitute = function(t) {
        for (var e = [], i = 1; i < arguments.length; i++) e[i - 1] = arguments[i];
        if (!t) return "";
        for (var n = 0; n < e.length; n++) t = t.replace(new RegExp("\\{rep" + (n + 1) + "\\}", "g"), e[n]);
        return t;
    }, e.getDateNumer = function(t) {
        var e = new Date(1e3 * t), i = e.getFullYear(), n = e.getMonth() + 1, o = e.getDate(), r = "", s = "";
        return r = 10 > n ? "0" + n : "" + n, s = 10 > o ? "0" + o : "" + o, Number(i + "" + r + s);
    }, e.sendInviteCode = function() {
        e.inviteCode && e.inviteOpenid && (e.inviteCode && e.inviteCode.length <= 0 || e.inviteOpenid && e.inviteOpenid.length <= 0 || e.inviteOpenid != e.openid && 1 != this.isInviteSendComp && (this.isInviteSendComp = !0, 
        ve.setinvitecode(e.inviteCode, e.inviteOpenid)));
    }, e.by10 = function(t) {
        return parseInt(t, 2);
    }, e.by2 = function(t) {
        var e = t.toString(2);
        if (e.length < 16) for (var i = 16 - e.length, n = 0; i > n; n++) e = "0" + e;
        return e;
    }, e.url = "https://services.mmiplay.com/WXApi/", e.isDebug = !1, e.GAMEVERSION = 2, 
    e.SIGNHEADER = "archer", e.SIGNSPIT1 = "&^%#@4*", e.SIGNSPIT2 = "#^&#*&*@*", e.SIGNSPIT3 = "oiujweru923", 
    e.SIGNSPIT4 = "*7868s%#^@af", e.SIGNSPIT5 = "5%asdf73&^%&#1", e.SIGNSPIT6 = "uiyuiysaf71%#$@", 
    e.codeFuncName = "getuserinfoforgame", e.gameRankId = 1, e.logincode = "", e.upVy = .2, 
    e.downVy = .2, e.stageW = 1334, e.stageH = 750, e.stagewidth = 0, e.stageheight = 0, 
    e.cdn = "", e.isIos = !0, e.isGameOver = !1, e._myPropLieDown = 0, e._myScore = 0, 
    e.myRank = 0, e.myScoreMax = 0, e.myRoleId = 0, e.myWeaponId = 0, e.campaignNum = 1, 
    e.gold = 0, e.reliveNum = 0, e.serverTimestamp = 0, e.getReliveNum = 0, e.gotWeaponArrStr = "", 
    e.gotRoleArrStr = "", e.signDay = 0, e.signTimestamp = 0, e.videoCount = 0, e.videoTimestamp = 0, 
    e.hongBaoStatus = 0, e.inviteAwardNum = 0, e.killNum = 0, e.baotouNum = 0, e.isShowWoodDrop = !1, 
    e.isRoleMove = !1, e.enemyAttackRate = 4e3, e.enemyMoveVY = 1, e.dropDurTime = 1e4, 
    e.dropVMin = 1, e.dropVMax = 2, e.cdnUrl = "http://res.mmiplay.com/wxgame/archer/", 
    e.shareTicket = "", e.inviteCode = "", e.inviteOpenid = "", e.battleMode = 1, e.extensionValue = "", 
    e.relive_a = 0, e.relive_b = 0, e.relive_c = 0, e.relive_d = 1, e.relive_e = 1, 
    e.curr_relive_a = 0, e.curr_relive_b = 0, e.curr_relive_c = 0, e.hongBaoScore = 99999, 
    e.hongBaoMoney = 1, e.isPassCheck = 0, e.isKCHZSDK = 0, e.isShowBanner2 = 0, e.isSyncParams = !1, 
    e.shareValue = [ "无敌是多么地寂寞！！！", "最强射击手，看看你能冲到第几名", "我拿到了{rep1}分，来挑战我吧！", "[有人@我]来吧，与我鄙视鄙视~~~" ], 
    e.openSound = "click1", e.closeSound = "click2", e.moneySound = "money", e.isHasUserInfo = !1, 
    e.sizeScale = 1, e.isInviteSendComp = !1, e;
}();

e(at.prototype, "App");

var ht = function(t) {
    function e(e) {
        var i = t.call(this, e) || this;
        return at.ViewManager.register(V.BuyPropView, new lt(i, at.LayerManager.uiLayer)), 
        i;
    }
    return i(e, t), e.prototype.openView = function(t) {
        at.ViewManager.open(V.BuyPropView);
    }, e.prototype.dispose = function() {
        at.ViewManager.destroy(V.BuyPropView), t.prototype.dispose.call(this);
    }, e.NAME = "BuyPropController", e;
}(a);

e(ht.prototype, "BuyPropController");

var lt = function(e) {
    function n(t, i) {
        var n = e.call(this, t, i, !0) || this;
        return n.protectNeedGold = 50, n.duoshanNeedGold = 30, n.BUY_PROTECT_MAX = 3, n.BUY_DUOSHAN_MAX = 3, 
        n.buyProtectNum = 0, n.buyDuoShanNum = 0, n.skinName = "BuyPropSkin", n;
    }
    return i(n, e), n.prototype.open = function() {
        for (var t = [], i = 0; i < arguments.length; i++) t[i] = arguments[i];
        e.prototype.open.call(this, t), this.buyProtectNum = 0, this.buyDuoShanNum = 0, 
        this.x = .5 * (at.stage.stageWidth - this.skin.width), this.y = .5 * (at.stage.stageHeight - this.skin.height), 
        this.duoshanBtn.label = this.duoshanNeedGold + "", this.protectBtn.label = this.protectNeedGold + "", 
        this.goldTxt.text = at.myGold + "", this.addEvents();
    }, n.prototype.addEvents = function() {
        this.closeBtn.addEventListener(t.TouchEvent.TOUCH_TAP, this.closeHandle, this), 
        this.protectBtn.addEventListener(t.TouchEvent.TOUCH_TAP, this.protectHandle, this), 
        this.duoshanBtn.addEventListener(t.TouchEvent.TOUCH_TAP, this.duoshanHandle, this), 
        this.addEventListener(t.TouchEvent.TOUCH_BEGIN, this.touchhanHandle, this);
    }, n.prototype.removeEvents = function() {
        this.closeBtn.removeEventListener(t.TouchEvent.TOUCH_TAP, this.closeHandle, this), 
        this.protectBtn.addEventListener(t.TouchEvent.TOUCH_TAP, this.protectHandle, this), 
        this.duoshanBtn.addEventListener(t.TouchEvent.TOUCH_TAP, this.duoshanHandle, this);
    }, n.prototype.touchhanHandle = function(t) {
        t.stopImmediatePropagation();
    }, n.prototype.protectHandle = function(t) {
        return at.SoundManager.playEffect(at.openSound), this.buyProtectNum >= this.BUY_PROTECT_MAX ? void at.AlertManger.show(g.SimpleAlert, "达到购买上限，请点击关闭按钮，进入游戏") : void (at.myGold >= this.protectNeedGold ? (this.buyProtectNum++, 
        at.myGold = at.myGold - this.protectNeedGold, this.goldTxt.text = at.myGold + "", 
        ve.setExtensionValue(at.getExtensionValue()), at.gameScene.me.addProtector(), at.AlertManger.show(g.SimpleAlert, "购买成功")) : at.AlertManger.show(g.SimpleAlert, "金币不够，邀请玩家获取大量金币"));
    }, n.prototype.duoshanHandle = function(t) {
        return at.SoundManager.playEffect(at.openSound), this.buyDuoShanNum >= this.BUY_DUOSHAN_MAX ? void at.AlertManger.show(g.SimpleAlert, "达到购买上限，请点击关闭按钮，进入游戏") : void (at.myGold >= this.duoshanNeedGold ? (this.buyDuoShanNum++, 
        at.myGold = at.myGold - this.duoshanNeedGold, this.goldTxt.text = at.myGold + "", 
        ve.setExtensionValue(at.getExtensionValue()), at.myPropLieDown = at.myPropLieDown + 1, 
        at.AlertManger.show(g.SimpleAlert, "购买成功")) : at.AlertManger.show(g.SimpleAlert, "金币不够，邀请玩家获取大量金币"));
    }, n.prototype.closeHandle = function(t) {
        at.SoundManager.playEffect(at.closeSound), at.ControllerManager.close(ht.NAME), 
        at.gameScene.enterFrameStart();
    }, n.prototype.destroy = function() {
        this.removeEvents(), e.prototype.destroy.call(this);
    }, n;
}(l);

e(lt.prototype, "BuyPropView");

var ct = function(t) {
    function e(e) {
        var i = t.call(this, e) || this;
        return at.ViewManager.register(V.CampaignReliveView, new ut(i, at.LayerManager.uiLayer)), 
        i;
    }
    return i(e, t), e.prototype.openView = function(t) {
        void 0 === t && (t = null), at.ViewManager.open(V.CampaignReliveView);
    }, e.prototype.dispose = function() {
        at.ViewManager.destroy(V.CampaignReliveView), t.prototype.dispose.call(this);
    }, e.NAME = "CampaignReliveController", e;
}(a);

e(ct.prototype, "CampaignReliveController");

var ut = function(e) {
    function n(t, i) {
        var n = e.call(this, t, i, !0) || this;
        return n.skinName = "CampaignReliveSkin", n;
    }
    return i(n, e), n.prototype.initUI = function() {
        e.prototype.initUI.call(this), at.reliveNum <= 0 && 1 == at.isPassCheck ? this.currentState = "share" : this.currentState = "relive", 
        this.addEvents(), this.propTxt.text = at.reliveNum + "";
    }, n.prototype.addEvents = function() {
        this.leaveBtn.addEventListener(t.TouchEvent.TOUCH_TAP, this.mBtnHandler, this), 
        this.reLiveBtn.addEventListener(t.TouchEvent.TOUCH_TAP, this.mBtnHandler, this);
    }, n.prototype.removeEvents = function() {
        this.leaveBtn.removeEventListener(t.TouchEvent.TOUCH_TAP, this.mBtnHandler, this), 
        this.reLiveBtn.removeEventListener(t.TouchEvent.TOUCH_TAP, this.mBtnHandler, this);
    }, n.prototype.open = function() {
        for (var t = [], i = 0; i < arguments.length; i++) t[i] = arguments[i];
        e.prototype.open.call(this, t), this.x = .5 * (at.stage.stageWidth - this.skin.width), 
        this.y = .5 * (at.stage.stageHeight - this.skin.height);
    }, n.prototype.mBtnHandler = function(t) {
        switch (t.currentTarget) {
          case this.leaveBtn:
            at.ControllerManager.close(ct.NAME), at.ControllerManager.open(pt.NAME);
            break;

          case this.reLiveBtn:
            if (at.reliveNum <= 0 && 1 == at.isPassCheck) return void wx.shareAppMessage({
                title: at.substitute(at.shareValue[3]),
                imageUrl: at.cdnUrl + N.SHARE_IMG_PATH4,
                query: "",
                success: function(t) {
                    at.reliveNum = Math.max(0, at.reliveNum - 1), ve.setExtensionValue(at.getExtensionValue()), 
                    at.curr_relive_a = at.curr_relive_a + 1, at.MessageCenter.dispatch(I.RELIVE_USE_PROP), 
                    at.ControllerManager.close(ct.NAME);
                },
                fail: function(t) {},
                complete: function(t) {}
            });
            at.reliveNum = Math.max(0, at.reliveNum - 1), ve.setExtensionValue(at.getExtensionValue()), 
            at.curr_relive_a = at.curr_relive_a + 1, at.MessageCenter.dispatch(I.RELIVE_USE_PROP), 
            at.ControllerManager.close(ct.NAME);
        }
    }, n.prototype.destroy = function() {
        this.removeEvents(), e.prototype.destroy.call(this);
    }, n;
}(l);

e(ut.prototype, "CampaignReliveView");

var pt = function(t) {
    function e(e) {
        var i = t.call(this, e) || this;
        return i.campaignRewardProxy = new dt(i), i.view = new gt(i, at.LayerManager.uiLayer), 
        at.ViewManager.register(V.CampaignRewardView, i.view), i;
    }
    return i(e, t), e.prototype.openView = function(t) {
        void 0 === t && (t = null), at.ViewManager.open(V.CampaignRewardView);
    }, e.prototype.getProxy = function() {
        return this.campaignRewardProxy;
    }, e.prototype.dispose = function() {
        this.campaignRewardProxy && (this.campaignRewardProxy.dispose(), this.campaignRewardProxy = null), 
        at.ViewManager.destroy(V.CampaignRewardView), t.prototype.dispose.call(this);
    }, e.NAME = "CampaignRewardController", e;
}(a);

e(pt.prototype, "CampaignRewardController");

var dt = function(t) {
    function e(e) {
        var i = t.call(this, e) || this;
        return i.addEvents(), i;
    }
    return i(e, t), e.prototype.addEvents = function() {}, e.prototype.removeEvents = function() {}, 
    e.prototype.getView = function() {
        return this._controller.getView();
    }, e.prototype.dispose = function() {
        this.removeEvents();
    }, e;
}(h);

e(dt.prototype, "CampaignRewardProxy");

var gt = function(e) {
    function n(t, i) {
        var n = e.call(this, t, i, !0) || this;
        return n.commitCount = 0, n.skinName = "CampaignRewardSkin", n.commitCount = 0, 
        n;
    }
    return i(n, e), n.prototype.initUI = function() {
        e.prototype.initUI.call(this), this.scoreTxt.text = at.myScore + "", at.myScoreMax < at.myScore ? (at.myScoreMax = at.myScore, 
        this.newGroup.visible = !0, at.EffectUtils.startFlicker(this.newGroup, 200)) : this.newGroup.visible = !1, 
        this.scoreMaxTxt.text = at.myScoreMax + "", this.awardBtn.visible = 1 == at.isPassCheck, 
        this.inviteBtn.visible = 1 == at.isPassCheck, this.xuanyaoBtn.visible = 0 == at.isPassCheck, 
        this.leftGourp.visible = !1, this.hongbaoBtn.visible = 1 == at.isPassCheck && 0 == at.hongBaoStatus, 
        this.hongbaoBtn.icon = "shoot_atlas.dian", this.inviteBtn.icon = "shoot_atlas.dian", 
        this.videoAwardBtn.icon = "", ve.commitRank(at.myScore, this.onRankCompHandler, this), 
        this.commitHandler(), this.clearCache(), this.showSmallFriendRankList(), this.addEvents();
    }, n.prototype.onRankCompHandler = function(t, e) {
        if (e.commitCount++, !(e.commitCount >= 3)) {
            var i = JSON.parse(t);
            i && 1 == i.error && ve.commitRank(at.myScore, e.onRankCompHandler, e);
        }
    }, n.prototype.commitHandler = function() {
        at.isDebug || wx.getOpenDataContext().postMessage({
            type: 1,
            score: at.myScore
        });
    }, n.prototype.clearCache = function() {
        at.isDebug || wx.getOpenDataContext().postMessage({
            type: 4
        });
    }, n.prototype.showSmallFriendRankList = function() {
        if (!at.isDebug) {
            var e = wx.getOpenDataContext(), i = new t.BitmapData(window.sharedCanvas);
            i.$deleteSource = !1;
            var n = new t.Texture();
            n._setBitmapData(i), this.bitmap = new t.Bitmap(n), this.bitmap.width = this.stage.stageWidth, 
            this.bitmap.height = this.stage.stageHeight, this.addChild(this.bitmap), t.startTick(function(e) {
                return t.WebGLUtils.deleteWebGLTexture(i.webGLTexture), i.webGLTexture = null, !1;
            }, this), e.postMessage({
                type: 5,
                isDisplay: !0,
                selfOpenId: at.openid,
                text: "hello",
                year: new Date().getFullYear()
            });
        }
    }, n.prototype.addEvents = function() {
        this.homeBtn.addEventListener(t.TouchEvent.TOUCH_TAP, this.mBtnHandler, this), this.worldRankBtn.addEventListener(t.TouchEvent.TOUCH_TAP, this.mBtnHandler, this), 
        this.shareBtn.addEventListener(t.TouchEvent.TOUCH_TAP, this.mBtnHandler, this), 
        this.awardBtn.addEventListener(t.TouchEvent.TOUCH_TAP, this.mBtnHandler, this), 
        this.restartBtn.addEventListener(t.TouchEvent.TOUCH_TAP, this.mBtnHandler, this), 
        this.xuanyaoBtn.addEventListener(t.TouchEvent.TOUCH_TAP, this.mBtnHandler, this), 
        this.newxuanyaoBtn.addEventListener(t.TouchEvent.TOUCH_TAP, this.mBtnHandler, this), 
        this.friendsRankBtn.addEventListener(t.TouchEvent.TOUCH_TAP, this.mBtnHandler, this), 
        this.hongbaoBtn.addEventListener(t.TouchEvent.TOUCH_TAP, this.mBtnHandler, this), 
        this.inviteBtn.addEventListener(t.TouchEvent.TOUCH_TAP, this.mBtnHandler, this), 
        this.videoAwardBtn.addEventListener(t.TouchEvent.TOUCH_TAP, this.mBtnHandler, this), 
        this.moreBtn.addEventListener(t.TouchEvent.TOUCH_TAP, this.mBtnHandler, this), at.MessageCenter.addListener(I.RANK_RESTART, this.rankRestart, this), 
        at.MessageCenter.addListener(I.WATCH_VIDEO_GET_GOLD_OVER, this.videoWatchOver, this);
    }, n.prototype.removeEvents = function() {
        this.homeBtn.removeEventListener(t.TouchEvent.TOUCH_TAP, this.mBtnHandler, this), 
        this.worldRankBtn.removeEventListener(t.TouchEvent.TOUCH_TAP, this.mBtnHandler, this), 
        this.shareBtn.removeEventListener(t.TouchEvent.TOUCH_TAP, this.mBtnHandler, this), 
        this.awardBtn.removeEventListener(t.TouchEvent.TOUCH_TAP, this.mBtnHandler, this), 
        this.restartBtn.removeEventListener(t.TouchEvent.TOUCH_TAP, this.mBtnHandler, this), 
        this.xuanyaoBtn.removeEventListener(t.TouchEvent.TOUCH_TAP, this.mBtnHandler, this), 
        this.newxuanyaoBtn.removeEventListener(t.TouchEvent.TOUCH_TAP, this.mBtnHandler, this), 
        this.friendsRankBtn.removeEventListener(t.TouchEvent.TOUCH_TAP, this.mBtnHandler, this), 
        this.hongbaoBtn.removeEventListener(t.TouchEvent.TOUCH_TAP, this.mBtnHandler, this), 
        this.inviteBtn.removeEventListener(t.TouchEvent.TOUCH_TAP, this.mBtnHandler, this), 
        this.videoAwardBtn.removeEventListener(t.TouchEvent.TOUCH_TAP, this.mBtnHandler, this), 
        this.moreBtn.removeEventListener(t.TouchEvent.TOUCH_TAP, this.mBtnHandler, this), 
        at.MessageCenter.removeListener(I.RANK_RESTART, this.rankRestart, this), at.MessageCenter.removeListener(I.WATCH_VIDEO_GET_GOLD_OVER, this.videoWatchOver, this);
    }, n.prototype.rankRestart = function() {
        var e = new t.BitmapData(window.sharedCanvas);
        e.$deleteSource = !1;
        var i = new t.Texture();
        i._setBitmapData(e), this.bitmap = new t.Bitmap(i), this.bitmap.width = this.stage.stageWidth, 
        this.bitmap.height = this.stage.stageHeight, this.addChild(this.bitmap), t.startTick(function(i) {
            return t.WebGLUtils.deleteWebGLTexture(e.webGLTexture), e.webGLTexture = null, !1;
        }, this), wx.getOpenDataContext().postMessage({
            type: 5,
            isDisplay: !0,
            selfOpenId: at.openid,
            text: "hello",
            year: new Date().getFullYear()
        });
    }, n.prototype.open = function() {
        for (var i = [], n = 0; n < arguments.length; n++) i[n] = arguments[n];
        e.prototype.open.call(this, i), this.checkVideoStatus(), this.x = .5 * (at.stage.stageWidth - this.skin.width), 
        this.y = .5 * (at.stage.stageHeight - this.skin.height), this.leftGourp.y = .5 * -(at.stage.stageHeight - this.skin.height) + 10, 
        this.gourp.y = this.gourp.y - 30, at.isIos && (this.gourp.scaleX = .8, this.gourp.scaleY = .8, 
        t.Tween.get(this.gourp).to({
            scaleX: 1,
            scaleY: 1
        }, 300, t.Ease.backOut)), this.moreBtn.visible = 1 == at.isKCHZSDK, this.moreBtn.y = 160, 
        at.stagewidth / at.stageheight >= 2 && (this.moreBtn.y = 120), 1 == at.isKCHZSDK && (st.AladinSDK.HideDrawer(), 
        at.stage.addChild(st.AladinSDK.GetDrawerNode()), st.AladinSDK.GetDrawerNode().x = 0, 
        st.AladinSDK.GetDrawerNode().y = 0, st.AladinSDK.SetDrawerScale(.7), st.AladinSDK.hideMore(), 
        this.addChild(st.AladinSDK.getMoreNode()), st.AladinSDK.getMoreNode().x = at.stage.stageWidth - 110, 
        st.AladinSDK.getMoreNode().y = 120, at.stagewidth / at.stageheight >= 2 && (st.AladinSDK.getMoreNode().y = 160), 
        st.AladinSDK.getMoreNode().scaleX = .7, st.AladinSDK.getMoreNode().scaleY = .7, 
        st.AladinSDK.ShowMore());
    }, n.prototype.checkVideoStatus = function() {
        ve.getServertime(this.getTimeCompVideo, this);
    }, n.prototype.getTimeCompVideo = function(t, e) {
        if (e.videoAwardBtn) {
            var i = Number(t), n = at.videoTimestamp;
            return at.getDateNumer(i) > at.getDateNumer(n) && e.videoAwardBtn && (e.videoAwardBtn.icon = "shoot_atlas.dian"), 
            at.videoCount >= at.relive_e ? void (e.videoAwardBtn.icon = "") : void (e.videoAwardBtn && (e.videoAwardBtn.icon = "shoot_atlas.dian"));
        }
    }, n.prototype.mBtnHandler = function(e) {
        switch (e.currentTarget) {
          case this.homeBtn:
            at.SoundManager.playEffect(at.closeSound), at.MessageCenter.dispatch(I.RETURN_HOME), 
            at.ControllerManager.close(pt.NAME);
            break;

          case this.restartBtn:
            at.SoundManager.playEffect(at.closeSound), at.MessageCenter.dispatch(I.GAME_RESTART), 
            at.ControllerManager.close(pt.NAME);
            break;

          case this.friendsRankBtn:
            if (t.getTimer() - this.friendTouchTime < 2e3) return;
            this.friendTouchTime = t.getTimer(), at.SoundManager.playEffect(at.openSound), this.clearSmallData(), 
            at.ControllerManager.open(Ut.NAME, 1);
            break;

          case this.worldRankBtn:
            at.ControllerManager.open(Ut.NAME, 3);
            break;

          case this.awardBtn:
            at.SoundManager.playEffect(at.openSound), at.shareTicket && at.shareTicket.length > 0 ? at.ControllerManager.open(Ut.NAME, 2) : wx.shareAppMessage({
                title: at.substitute(at.shareValue[3]),
                imageUrl: at.cdnUrl + N.SHARE_IMG_PATH4,
                query: "",
                success: function(t) {},
                fail: function(t) {},
                complete: function(t) {}
            });
            break;

          case this.shareBtn:
            at.SoundManager.playEffect(at.openSound), wx.shareAppMessage({
                title: String(at.shareValue[1]),
                imageUrl: at.cdnUrl + N.SHARE_IMG_PATH2,
                query: "",
                success: function(t) {
                    console.log(t);
                },
                fail: function(t) {},
                complete: function(t) {
                    console.log(t);
                }
            });
            break;

          case this.xuanyaoBtn:
          case this.newxuanyaoBtn:
            at.SoundManager.playEffect(at.openSound), wx.shareAppMessage({
                title: at.substitute(at.shareValue[2], at.myScoreMax),
                imageUrl: at.cdnUrl + N.SHARE_IMG_PATH3,
                query: "",
                success: function(t) {
                    console.log(t);
                },
                fail: function(t) {},
                complete: function(t) {
                    console.log(t);
                }
            });
            break;

          case this.hongbaoBtn:
            this.hongbaoBtn.icon = "", at.ControllerManager.open(It.NAME);
            break;

          case this.inviteBtn:
            this.inviteBtn.icon = "", at.ControllerManager.open(Nt.NAME, 1);
            break;

          case this.videoAwardBtn:
            if (t.getTimer() - this.videoBtnTouchTime < 2e3) return;
            t.log("touch!!!!!!!!!!!!!"), this.videoBtnTouchTime = t.getTimer(), ve.getServertime(this.getVideoTimeComp, this);
            break;

          case this.moreBtn:
            st.AladinSDK.ShowDrawer();
        }
    }, n.prototype.getVideoTimeComp = function(t, e) {
        var i = Number(t), n = at.videoTimestamp, o = at.getDateNumer(i), r = at.getDateNumer(n);
        return console.log(o), console.log(r), o > r && (at.videoTimestamp = i, at.videoCount = 0), 
        at.videoCount >= at.relive_e ? (at.AlertManger.show(g.SimpleAlert, "今日领取达到上限，明天在来"), 
        void (e.videoAwardBtn.visible = !0)) : void F.showVideoAdGold(S.VIDEO_GET_GOLD);
    }, n.prototype.videoWatchOver = function() {
        at.videoCount = at.videoCount + 1, at.myGold = at.myGold + zt.VIDEO_GOLD_ARR[at.videoCount - 1], 
        at.SoundManager.playEffect(at.moneySound), ve.setExtensionValue(at.getExtensionValue(), this, this.compset);
    }, n.prototype.compset = function(t, e) {
        console.log("完成一次领取"), at.AlertManger.show(g.SimpleAlert, "+" + zt.VIDEO_GOLD_ARR[at.videoCount - 1]), 
        e.videoAwardBtn.visible = !0, e.checkVideoStatus();
    }, n.prototype.clearSmallData = function() {
        at.isDebug || (this.bitmap && this.bitmap.parent.removeChild(this.bitmap), t.stopTick(function(t) {
            return !1;
        }, this), wx.getOpenDataContext().postMessage({
            type: 5,
            isDisplay: !1,
            selfOpenId: at.openid,
            text: "hello",
            year: new Date().getFullYear()
        }));
    }, n.prototype.destroy = function() {
        this.newGroup && at.EffectUtils.stopTween(this.newGroup), this.clearCache(), this.clearSmallData(), 
        this.removeEvents(), e.prototype.destroy.call(this);
    }, n;
}(l);

e(gt.prototype, "CampaignRewardView");

var mt = function(t) {
    function e(e) {
        var i = t.call(this, e) || this;
        return at.ViewManager.register(V.CampaignShareReliveView, new ft(i, at.LayerManager.uiLayer)), 
        i;
    }
    return i(e, t), e.prototype.openView = function(t) {
        void 0 === t && (t = null), at.ViewManager.open(V.CampaignShareReliveView);
    }, e.prototype.dispose = function() {
        at.ViewManager.destroy(V.CampaignShareReliveView), t.prototype.dispose.call(this);
    }, e.NAME = "CampaignShareReliveController", e;
}(a);

e(mt.prototype, "CampaignShareReliveController");

var ft = function(e) {
    function n(t, i) {
        var n = e.call(this, t, i, !0) || this;
        return n.skinName = "CampaignShareReliveSkin", n;
    }
    return i(n, e), n.prototype.initUI = function() {
        e.prototype.initUI.call(this), this.addEvents();
    }, n.prototype.open = function() {
        for (var i = [], n = 0; n < arguments.length; n++) i[n] = arguments[n];
        e.prototype.open.call(this, i), this.x = .5 * (at.stage.stageWidth - this.skin.width), 
        this.y = .5 * (at.stage.stageHeight - this.skin.height), at.isIos && (this.gourp.scaleX = .8, 
        this.gourp.scaleY = .8, t.Tween.get(this.gourp).to({
            scaleX: 1,
            scaleY: 1
        }, 300, t.Ease.backOut)), at.EffectUtils.startFlicker(this.shareBtn, 200);
    }, n.prototype.addEvents = function() {
        this.leaveBtn.addEventListener(t.TouchEvent.TOUCH_TAP, this.mBtnHandler, this), 
        this.shareBtn.addEventListener(t.TouchEvent.TOUCH_TAP, this.mBtnHandler, this);
    }, n.prototype.removeEvents = function() {
        this.leaveBtn.removeEventListener(t.TouchEvent.TOUCH_TAP, this.mBtnHandler, this), 
        this.shareBtn.removeEventListener(t.TouchEvent.TOUCH_TAP, this.mBtnHandler, this);
    }, n.prototype.mBtnHandler = function(t) {
        switch (t.currentTarget) {
          case this.leaveBtn:
            at.SoundManager.playEffect(at.closeSound), at.ControllerManager.close(mt.NAME), 
            at.curr_relive_a < at.relive_b ? at.ControllerManager.open(ct.NAME) : at.ControllerManager.open(pt.NAME);
            break;

          case this.shareBtn:
            at.SoundManager.playEffect(at.openSound), wx.shareAppMessage({
                title: at.substitute(at.shareValue[3]),
                imageUrl: at.cdnUrl + N.SHARE_IMG_PATH4,
                query: "",
                success: function(t) {
                    at.curr_relive_b = at.curr_relive_b + 1, at.MessageCenter.dispatch(I.RELIVE_USE_PROP), 
                    at.ControllerManager.close(mt.NAME);
                },
                fail: function(t) {},
                complete: function(t) {}
            });
        }
    }, n.prototype.destroy = function() {
        this.shareBtn && at.EffectUtils.stopTween(this.shareBtn), this.removeEvents(), e.prototype.destroy.call(this);
    }, n;
}(l);

e(ft.prototype, "CampaignShareReliveView");

var vt = function(t) {
    function e(e) {
        var i = t.call(this, e) || this;
        return at.ViewManager.register(V.CampaignVideoView, new yt(i, at.LayerManager.uiLayer)), 
        i;
    }
    return i(e, t), e.prototype.openView = function(t) {
        void 0 === t && (t = null), at.ViewManager.open(V.CampaignVideoView);
    }, e.prototype.dispose = function() {
        at.ViewManager.destroy(V.CampaignVideoView), t.prototype.dispose.call(this);
    }, e.NAME = "CampaignVideoController", e;
}(a);

e(vt.prototype, "CampaignVideoController");

var yt = function(e) {
    function n(t, i) {
        var n = e.call(this, t, i, !0) || this;
        return n.videoBtnTouchTime = 0, n.skinName = "CampaignVideoSkin", n;
    }
    return i(n, e), n.prototype.initUI = function() {
        var t = this;
        e.prototype.initUI.call(this), F.nomoreVideos && 1 == at.isPassCheck ? this.currentState = "share" : this.currentState = "video", 
        this.videoBtnTouchTime = 0, this.addEvents(), this.leaveBtn.visible = !1, 1 == at.isPassCheck ? setTimeout(function() {
            t.leaveBtn.visible = !0;
        }, 2e3) : this.leaveBtn.visible = !0;
    }, n.prototype.open = function() {
        for (var i = [], n = 0; n < arguments.length; n++) i[n] = arguments[n];
        e.prototype.open.call(this, i), this.x = .5 * (at.stage.stageWidth - this.skin.width), 
        this.y = .5 * (at.stage.stageHeight - this.skin.height), 1 == at.isShowBanner2 ? (F.showBannerAd2(), 
        F.nomoreBanner ? this.gourp.y = this.gourp.y - 20 : this.gourp.y = this.gourp.y - 20 - 150) : this.gourp.y = this.gourp.y - 20, 
        at.isIos && (this.gourp.scaleX = .8, this.gourp.scaleY = .8, t.Tween.get(this.gourp).to({
            scaleX: 1,
            scaleY: 1
        }, 300, t.Ease.backOut)), at.EffectUtils.startFlicker(this.shareBtn, 200);
    }, n.prototype.addEvents = function() {
        this.leaveBtn.addEventListener(t.TouchEvent.TOUCH_TAP, this.mBtnHandler, this), 
        this.shareBtn.addEventListener(t.TouchEvent.TOUCH_TAP, this.mBtnHandler, this);
    }, n.prototype.removeEvents = function() {
        this.leaveBtn.removeEventListener(t.TouchEvent.TOUCH_TAP, this.mBtnHandler, this), 
        this.shareBtn.removeEventListener(t.TouchEvent.TOUCH_TAP, this.mBtnHandler, this);
    }, n.prototype.mBtnHandler = function(e) {
        switch (e.currentTarget) {
          case this.leaveBtn:
            at.SoundManager.playEffect(at.closeSound), at.ControllerManager.close(vt.NAME), 
            at.curr_relive_b < at.relive_c ? at.ControllerManager.open(mt.NAME) : at.curr_relive_a < at.relive_b ? at.ControllerManager.open(ct.NAME) : at.ControllerManager.open(pt.NAME);
            break;

          case this.shareBtn:
            if (at.SoundManager.playEffect(at.openSound), F.nomoreVideos && 1 == at.isPassCheck) return void wx.shareAppMessage({
                title: at.substitute(at.shareValue[3]),
                imageUrl: at.cdnUrl + N.SHARE_IMG_PATH4,
                query: "",
                success: function(t) {
                    at.curr_relive_c = at.curr_relive_c + 1, at.MessageCenter.dispatch(I.RELIVE_USE_PROP), 
                    at.ControllerManager.close(vt.NAME);
                },
                fail: function(t) {},
                complete: function(t) {}
            });
            if (t.getTimer() - this.videoBtnTouchTime < 2e3) return;
            this.videoBtnTouchTime = t.getTimer(), F.showVideoAdGold(S.VIDEO_RELIVE);
        }
    }, n.prototype.destroy = function() {
        F.hideBannerAd2(), this.shareBtn && at.EffectUtils.stopTween(this.shareBtn), this.removeEvents(), 
        e.prototype.destroy.call(this);
    }, n;
}(l);

e(yt.prototype, "CampaignVideoView");

var _t = function(t) {
    function e(e) {
        var i = t.call(this, e) || this;
        return at.ViewManager.register(V.GetReliveView, new wt(i, at.LayerManager.uiLayer)), 
        i;
    }
    return i(e, t), e.prototype.openView = function(t) {
        void 0 === t && (t = null), at.ViewManager.open(V.GetReliveView);
    }, e.prototype.dispose = function() {
        at.ViewManager.destroy(V.GetReliveView), t.prototype.dispose.call(this);
    }, e.NAME = "GetReliveController", e;
}(a);

e(_t.prototype, "GetReliveController");

var wt = function(e) {
    function n(t, i) {
        var n = e.call(this, t, i, !0) || this;
        return n.skinName = "GetReliveSkin", n;
    }
    return i(n, e), n.prototype.initUI = function() {
        e.prototype.initUI.call(this), this.updateProp(), this.addEvents();
    }, n.prototype.updateProp = function() {
        this.isInit && (this.propTxt.text = at.reliveNum + "");
    }, n.prototype.addEvents = function() {
        this.closeBtn.addEventListener(t.TouchEvent.TOUCH_TAP, this.mBtnHandler, this), 
        this.shareBtn.addEventListener(t.TouchEvent.TOUCH_TAP, this.mBtnHandler, this), 
        at.MessageCenter.addListener(I.GET_RELIVE, this.getReLiveHandler, this);
    }, n.prototype.removeEvents = function() {
        this.closeBtn.removeEventListener(t.TouchEvent.TOUCH_TAP, this.mBtnHandler, this), 
        this.shareBtn.removeEventListener(t.TouchEvent.TOUCH_TAP, this.mBtnHandler, this), 
        at.MessageCenter.removeListener(I.GET_RELIVE, this.getReLiveHandler, this);
    }, n.prototype.open = function() {
        for (var t = [], i = 0; i < arguments.length; i++) t[i] = arguments[i];
        e.prototype.open.call(this, t), this.x = .5 * (at.stage.stageWidth - this.skin.width), 
        this.y = .5 * (at.stage.stageHeight - this.skin.height), at.EffectUtils.startFlicker(this.shareBtn, 200);
    }, n.prototype.mBtnHandler = function(t) {
        switch (t.currentTarget) {
          case this.closeBtn:
            at.SoundManager.playEffect(at.closeSound), at.ControllerManager.close(_t.NAME);
            break;

          case this.shareBtn:
            this.shareBtn.visible = !1, ve.getServertime(this.getTimeComp, this);
        }
    }, n.prototype.getTimeComp = function(t, e) {
        var i = Number(t), n = at.serverTimestamp;
        return at.getDateNumer(i) > at.getDateNumer(n) && (at.serverTimestamp = i, at.getReliveNum = 0), 
        at.getReliveNum >= at.relive_a ? (at.AlertManger.show(g.SimpleAlert, "今日领取达到上限，明天在来"), 
        void (e.shareBtn.visible = !0)) : void wx.shareAppMessage({
            title: at.substitute(at.shareValue[0], at.myScoreMax),
            imageUrl: at.cdnUrl + N.SHARE_IMG_PATH1,
            query: "",
            success: function(t) {
                at.MessageCenter.dispatch(I.GET_RELIVE);
            },
            fail: function(t) {
                e.shareBtn.visible = !0;
            },
            complete: function(t) {
                e.shareBtn.visible = !0;
            }
        });
    }, n.prototype.getReLiveHandler = function() {
        at.getReliveNum = at.getReliveNum + 1, at.reliveNum = at.reliveNum + 1, ve.setExtensionValue(at.getExtensionValue(), this, this.compset);
    }, n.prototype.compset = function(t, e) {
        at.AlertManger.show(g.SimpleAlert, "完成一次领取"), e.shareBtn.visible = !0, e.updateProp();
    }, n.prototype.destroy = function() {
        this.shareBtn && at.EffectUtils.stopTween(this.shareBtn), this.removeEvents(), e.prototype.destroy.call(this);
    }, n;
}(l);

e(wt.prototype, "GetReliveView");

var Et = function(t) {
    function e(e) {
        var i = t.call(this, e) || this;
        return at.ViewManager.register(V.PassCampaignView, new Tt(i, at.LayerManager.uiLayer)), 
        i;
    }
    return i(e, t), e.prototype.openView = function(t) {
        void 0 === t && (t = null), at.ViewManager.open(V.PassCampaignView, t);
    }, e.prototype.dispose = function() {
        at.ViewManager.destroy(V.PassCampaignView), t.prototype.dispose.call(this);
    }, e.NAME = "PassCampaignController", e;
}(a);

e(Et.prototype, "PassCampaignController");

var Tt = function(e) {
    function n(t, i) {
        var n = e.call(this, t, i, !0) || this;
        return n.skinName = "PassCampaignSkin", n;
    }
    return i(n, e), n.prototype.initUI = function() {
        e.prototype.initUI.call(this), this.addEvents();
    }, n.prototype.addEvents = function() {
        this.goBtn.addEventListener(t.TouchEvent.TOUCH_TAP, this.mBtnHandler, this);
    }, n.prototype.removeEvents = function() {
        this.goBtn.removeEventListener(t.TouchEvent.TOUCH_TAP, this.mBtnHandler, this);
    }, n.prototype.open = function() {
        for (var t = [], i = 0; i < arguments.length; i++) t[i] = arguments[i];
        e.prototype.open.call(this, t), this.goldTxt.text = "+" + t[0], this.guankaTxt.text = at.campaignNum + "", 
        at.myGold = at.myGold + t[0], this.x = .5 * (at.stage.stageWidth - this.skin.width), 
        this.y = .5 * (at.stage.stageHeight - this.skin.height), 1 == at.isShowBanner2 && (F.showBannerAd2(), 
        F.nomoreBanner ? this.groupC.y = 0 : this.groupC.y = -150), at.EffectUtils.startFlicker(this.goBtn, 200);
    }, n.prototype.mBtnHandler = function(t) {
        at.ControllerManager.close(Et.NAME), at.gameScene.enterFrameStart(), at.gameScene.changeMap();
    }, n.prototype.destroy = function() {
        F.hideBannerAd2(), this.goBtn && at.EffectUtils.stopTween(this.goBtn), this.removeEvents(), 
        e.prototype.destroy.call(this);
    }, n;
}(l);

e(Tt.prototype, "PassCampaignView");

var St = function(t) {
    function e(e) {
        var i = t.call(this, e) || this;
        return i.view = new At(i, at.LayerManager.uiLayer), at.ViewManager.register(V.GuideView, i.view), 
        i;
    }
    return i(e, t), e.prototype.openView = function(t) {
        void 0 === t && (t = null), at.ViewManager.open(V.GuideView);
    }, e.prototype.dispose = function() {
        at.ViewManager.destroy(V.GuideView), t.prototype.dispose.call(this);
    }, e.NAME = "GuideController", e;
}(a);

e(St.prototype, "GuideController");

var At = function(e) {
    function n(t, i) {
        var n = e.call(this, t, i, !0) || this;
        return n.skinName = "resource/skins/GuideSkin.exml", n;
    }
    return i(n, e), n.prototype.initUI = function() {
        e.prototype.initUI.call(this), this.addEvents();
    }, n.prototype.addEvents = function() {
        this.addEventListener(t.TouchEvent.TOUCH_BEGIN, this.closeHandle, this);
    }, n.prototype.removeEvents = function() {
        this.removeEventListener(t.TouchEvent.TOUCH_BEGIN, this.closeHandle, this);
    }, n.prototype.closeHandle = function() {
        at.ControllerManager.close(St.NAME), at.gameScene.enterFrameStart();
    }, n.prototype.open = function() {
        for (var t = [], i = 0; i < arguments.length; i++) t[i] = arguments[i];
        e.prototype.open.call(this, t), this.x = .5 * (at.stage.stageWidth - this.width), 
        this.y = .5 * (at.stage.stageHeight - this.height), at.TimerManager.doTimer(1e3, 0, this.timerHandler, this);
    }, n.prototype.timerHandler = function() {
        t.Tween.removeTweens(this.handImg), t.Tween.removeTweens(this.lineImg), this.handImg.x = 280, 
        this.lineImg.width = 40, this.lineImg.x = 92, t.Tween.get(this.handImg).to({
            x: 92
        }, 1e3), t.Tween.get(this.lineImg).to({
            width: 250
        }, 1e3);
    }, n.prototype.destroy = function() {
        this.removeEvents(), t.Tween.removeTweens(this.handImg), t.Tween.removeTweens(this.lineImg), 
        e.prototype.destroy.call(this);
    }, n;
}(l);

e(At.prototype, "GuideView");

var Ct = function(t) {
    function e(e) {
        var i = t.call(this, e) || this;
        return i.homeUIProxy = new Rt(i), i.view = new bt(i, at.LayerManager.uiLayer), at.ViewManager.register(V.HomeUIView, i.view), 
        i;
    }
    return i(e, t), e.prototype.openView = function(t) {
        void 0 === t && (t = null), at.ViewManager.open(V.HomeUIView);
    }, e.prototype.getProxy = function() {
        return this.homeUIProxy;
    }, e.prototype.dispose = function() {
        this.homeUIProxy && (this.homeUIProxy.dispose(), this.homeUIProxy = null), at.ViewManager.destroy(V.HomeUIView), 
        t.prototype.dispose.call(this);
    }, e.NAME = "HomeUIController", e;
}(a);

e(Ct.prototype, "HomeUIController");

var Rt = function(t) {
    function e(e) {
        var i = t.call(this, e) || this;
        return i.addEvents(), i;
    }
    return i(e, t), e.prototype.addEvents = function() {}, e.prototype.removeEvents = function() {}, 
    e.prototype.getView = function() {
        return this._controller.getView();
    }, e.prototype.dispose = function() {
        this.removeEvents();
    }, e;
}(h);

e(Rt.prototype, "HomeUIProxy");

var Mt = function() {
    function t() {}
    return t.showChange = function(t) {
        var e;
        (e = at.ControllerManager.getController(Ct.NAME).getView()) && (e.visible = t, t ? e.openHandler() : e.closeHandler());
    }, t.changeMyRole = function(t, e) {
        var i;
        (i = at.ControllerManager.getController(Ct.NAME).getView()) && i.changeMyRole(t, e);
    }, t.updateMyGold = function(t) {
        at.ControllerManager.getController(Ct.NAME).getView().updateMyGold(t);
    }, t.updateHongBaoShow = function(t) {
        at.ControllerManager.getController(Ct.NAME).getView().updateHongBaoShow(t);
    }, t;
}();

e(Mt.prototype, "HomeUIUtil");

var bt = function(e) {
    function n(t, i) {
        var n = e.call(this, t, i) || this;
        return n.skinName = "resource/skins/HomeUISkin.exml", n.pkModeBtn.filters = [ le.GRAY_FILTER ], 
        n.testBg && n.testBg.parent && n.testBg.parent.removeChild(n.testBg), n;
    }
    return i(n, e), n.prototype.initUI = function() {
        e.prototype.initUI.call(this), at.stagewidth / at.stageheight <= 2 ? this.rightC.y = 190 : this.rightC.y = 110, 
        this.videoBtnTouchTime = 0, this.getReliveBtn.visible = 1 == at.isPassCheck, this.inviteBtn.visible = 1 == at.isPassCheck, 
        this.hongbaoBtn.visible = 1 == at.isPassCheck && 0 == at.hongBaoStatus, at.isDebug && (this.getReliveBtn.visible = !0, 
        this.hongbaoBtn.visible = !0, this.inviteBtn.visible = !0), this.getReliveBtn.visible = !1, 
        this.signBtn.icon = "", this.hongbaoBtn.icon = "shoot_atlas.dian", this.inviteBtn.icon = "shoot_atlas.dian", 
        this.videoAwardBtn.icon = "", this.leftC.visible = !1, this.goldTxt.text = at.myGold + "", 
        this.soundChange(), this.addEvents(), this.moreBtn.visible = !1, at.EffectUtils.startFlicker(this.stimulusModeBtn, 300), 
        0 == at.videoCount ? this.jinduTxt.text = "0/3000" : 1 == at.videoCount ? this.jinduTxt.text = "1000/3000" : 2 == at.videoCount ? this.jinduTxt.text = "2000/3000" : 3 == at.videoCount ? this.jinduTxt.text = "3000/3000" : at.videoCount >= 4 && (this.jinduTxt.text = "4000/4000");
    }, n.prototype.updateMyGold = function(t) {
        this.goldTxt.text = t + "";
    }, n.prototype.updateHongBaoShow = function(t) {
        this.hongbaoBtn && (this.hongbaoBtn.visible = t);
    }, n.prototype.addEvents = function() {
        this.soundBtn.addEventListener(eui.UIEvent.CHANGE, this.soundChangeHandler, this), 
        this.stimulusModeBtn.addEventListener(t.TouchEvent.TOUCH_TAP, this.campaignStartHandler, this), 
        this.pkModeBtn.addEventListener(t.TouchEvent.TOUCH_TAP, this.pkModeHandler, this), 
        this.shopBtn.addEventListener(t.TouchEvent.TOUCH_TAP, this.shopHandler, this), this.friendsRankBtn.addEventListener(t.TouchEvent.TOUCH_TAP, this.btnHandler, this), 
        this.worldRankBtn.addEventListener(t.TouchEvent.TOUCH_TAP, this.btnHandler, this), 
        this.getReliveBtn.addEventListener(t.TouchEvent.TOUCH_TAP, this.btnHandler, this), 
        this.hongbaoBtn.addEventListener(t.TouchEvent.TOUCH_TAP, this.btnHandler, this), 
        this.signBtn.addEventListener(t.TouchEvent.TOUCH_TAP, this.btnHandler, this), this.videoAwardBtn.addEventListener(t.TouchEvent.TOUCH_TAP, this.btnHandler, this), 
        this.inviteBtn.addEventListener(t.TouchEvent.TOUCH_TAP, this.btnHandler, this), 
        this.shareBtn.addEventListener(t.TouchEvent.TOUCH_TAP, this.btnHandler, this), this.testBtn.addEventListener(t.TouchEvent.TOUCH_TAP, this.btnHandler, this), 
        this.moreBtn.addEventListener(t.TouchEvent.TOUCH_TAP, this.btnHandler, this), at.MessageCenter.addListener(I.ACTIVE_PARAMS, this.getActiveHandler, this), 
        at.MessageCenter.addListener(I.SOUND_CHANGE, this.soundChange, this), at.MessageCenter.addListener(I.WATCH_VIDEO_GET_GOLD_OVER, this.videoWatchOver, this), 
        at.MessageCenter.addListener(I.WATCH_VIDEO_GET_GOLD_FROM_SHOP, this.watchVideoFromShop, this);
    }, n.prototype.watchVideoFromShop = function() {
        ve.getServertime(this.getVideoTimeComp, this);
    }, n.prototype.soundChange = function() {
        at.SoundManager.effectOn ? this.soundBtn.selected = !1 : this.soundBtn.selected = !0;
    }, n.prototype.soundChangeHandler = function(t) {
        t.target.selected ? at.SoundManager.setEffectOn(!1) : at.SoundManager.setEffectOn(!0), 
        at.MessageCenter.dispatch(I.SOUND_CHANGE), d.setStorge(P.EFFECT_ON, at.SoundManager.effectOn);
    }, n.prototype.getActiveHandler = function(t) {
        at.isDebug || (this.getReliveBtn.visible = 1 == at.isPassCheck, this.inviteBtn.visible = 1 == at.isPassCheck, 
        this.hongbaoBtn.visible = 1 == at.isPassCheck && 0 == at.hongBaoStatus, at.isPassCheck, 
        1 == at.isKCHZSDK && (this.moreBtn.visible = !0, st.AladinSDK.hideMore(), st.AladinSDK.hideFavoNode(), 
        st.AladinSDK.HideDrawer(), this.addChild(st.AladinSDK.getMoreNode()), st.AladinSDK.getMoreNode().x = at.stage.stageWidth - 110, 
        st.AladinSDK.getMoreNode().y = 120, st.AladinSDK.getMoreNode().scaleX = .7, st.AladinSDK.getMoreNode().scaleY = .7, 
        F.isShowBanner1 || (this.addChild(st.AladinSDK.getFavoNode()), st.AladinSDK.getFavoNode().x = at.stage.stageWidth - 470, 
        st.AladinSDK.getFavoNode().y = at.stage.stageHeight - 152, at.stagewidth / at.stageheight < 2 && (st.AladinSDK.getFavoNode().y = at.stage.stageHeight - 152 - 20), 
        st.AladinSDK.getFavoNode().scaleX = .7, st.AladinSDK.getFavoNode().scaleY = .7), 
        at.stage.addChild(st.AladinSDK.GetDrawerNode()), st.AladinSDK.GetDrawerNode().x = 0, 
        st.AladinSDK.GetDrawerNode().y = 0, st.AladinSDK.SetDrawerScale(.7), st.AladinSDK.ShowMore(), 
        st.AladinSDK.showFavoNode()));
    }, n.prototype.openHandler = function() {
        at.isDebug || (1 == at.isKCHZSDK && (this.moreBtn.visible = !0, st.AladinSDK.hideMore(), 
        this.addChild(st.AladinSDK.getMoreNode()), st.AladinSDK.getMoreNode().x = at.stage.stageWidth - 110, 
        st.AladinSDK.getMoreNode().y = 120, st.AladinSDK.getMoreNode().scaleX = .7, st.AladinSDK.getMoreNode().scaleY = .7, 
        st.AladinSDK.ShowMore()), at.EffectUtils.startFlicker(this.stimulusModeBtn, 300));
    }, n.prototype.closeHandler = function() {
        this.stimulusModeBtn && at.EffectUtils.stopTween(this.stimulusModeBtn);
    }, n.prototype.loginDown = function() {}, n.prototype.removeEvents = function() {}, 
    n.prototype.btnHandler = function(e) {
        switch (at.SoundManager.playEffect(at.openSound), e.currentTarget) {
          case this.friendsRankBtn:
            at.ControllerManager.open(Ut.NAME, 1);
            break;

          case this.shareBtn:
            wx.shareAppMessage({
                title: at.substitute(at.shareValue[3]),
                imageUrl: at.cdnUrl + N.SHARE_IMG_PATH4,
                query: "",
                success: function(t) {},
                fail: function(t) {},
                complete: function(t) {}
            });
            break;

          case this.worldRankBtn:
            at.ControllerManager.open(Ut.NAME, 3);
            break;

          case this.getReliveBtn:
            at.ControllerManager.open(_t.NAME);
            break;

          case this.hongbaoBtn:
            this.hongbaoBtn.icon = "", at.ControllerManager.open(It.NAME);
            break;

          case this.signBtn:
            this.signBtn.icon = "", at.ControllerManager.open(qt.NAME);
            break;

          case this.videoAwardBtn:
            if (t.getTimer() - this.videoBtnTouchTime < 2e3) return;
            this.videoBtnTouchTime = t.getTimer(), ve.getServertime(this.getVideoTimeComp, this);
            break;

          case this.inviteBtn:
            this.inviteBtn.icon = "", at.ControllerManager.open(Nt.NAME, 1);
            break;

          case this.testBtn:
            wx.setStorageSync("hongbao", null);
            break;

          case this.moreBtn:
            st.AladinSDK.ShowDrawer(function() {
                F.showBannerAd();
            }), F.hideBannerAd();
        }
    }, n.prototype.getVideoTimeComp = function(t, e) {
        var i = Number(t), n = at.videoTimestamp;
        return at.getDateNumer(i) > at.getDateNumer(n) && (at.videoTimestamp = i, at.videoCount = 0), 
        at.videoCount >= at.relive_e ? (at.AlertManger.show(g.SimpleAlert, "今日领取达到上限，明天在来"), 
        void (e.videoAwardBtn.visible = !0)) : void F.showVideoAdGold(S.VIDEO_GET_GOLD);
    }, n.prototype.videoWatchOver = function() {
        at.ViewManager.isShow(V.CampaignRewardView) || (at.videoCount = at.videoCount + 1, 
        at.myGold = at.myGold + zt.VIDEO_GOLD_ARR[at.videoCount - 1], ve.setExtensionValue(at.getExtensionValue(), this, this.compset), 
        1 == at.videoCount ? this.jinduTxt.text = "1000/3000" : 2 == at.videoCount ? this.jinduTxt.text = "2000/3000" : 3 == at.videoCount ? this.jinduTxt.text = "3000/3000" : at.videoCount >= 4 && (this.jinduTxt.text = "4000/4000"));
    }, n.prototype.compset = function(t, e) {
        at.AlertManger.show(g.SimpleAlert, "+" + zt.VIDEO_GOLD_ARR[at.videoCount - 1]), 
        e.videoAwardBtn.visible = !0, e.checkVideoStatus();
    }, n.prototype.changeMyRole = function(t, e) {}, n.prototype.shopHandler = function() {
        at.SoundManager.playEffect(at.openSound), at.ControllerManager.open(Wt.NAME);
    }, n.prototype.pkModeHandler = function() {
        at.AlertManger.show(g.SimpleAlert, "暂未开放！");
    }, n.prototype.campaignStartHandler = function() {
        at.SoundManager.playEffect(at.openSound), at.MessageCenter.dispatch(I.CAMPAIGN_START);
    }, n.prototype.relaxedModeStartHandler = function() {
        at.MessageCenter.dispatch(I.RELAXED_MODE_START);
    }, n.prototype.open = function() {
        for (var t = [], i = 0; i < arguments.length; i++) t[i] = arguments[i];
        e.prototype.open.call(this, t), this.x = 0, this.y = 0, this.leftC.y = at.stage.stageHeight - this.leftC.height - 30, 
        this.moreBtn.y = at.stage.stageHeight - this.moreBtn.height - 50, this.checkVideoStatus();
    }, n.prototype.checkVideoStatus = function() {
        ve.getServertime(this.getTimeCompVideo, this);
    }, n.prototype.getTimeCompVideo = function(t, e) {
        if (e.videoAwardBtn) {
            var i = Number(t), n = at.videoTimestamp;
            return at.getDateNumer(i) > at.getDateNumer(n) && e.videoAwardBtn && (e.videoAwardBtn.icon = "shoot_atlas.dian"), 
            at.videoCount >= at.relive_e ? void (e.videoAwardBtn.icon = "") : void (e.videoAwardBtn && (e.videoAwardBtn.icon = "shoot_atlas.dian"));
        }
    }, n.prototype.close = function() {
        this.signBtn && (this.signBtn.icon = ""), this.videoAwardBtn && (this.videoAwardBtn.icon = ""), 
        this.hongbaoBtn && (this.hongbaoBtn.icon = ""), at.ControllerManager.close(Ct.NAME);
    }, n.prototype.destroy = function() {
        this.signBtn && (this.signBtn.icon = ""), this.videoAwardBtn && (this.videoAwardBtn.icon = ""), 
        this.hongbaoBtn && (this.hongbaoBtn.icon = ""), this.removeEvents(), e.prototype.destroy.call(this);
    }, n;
}(l);

e(bt.prototype, "HomeUIView");

var It = function(t) {
    function e(e) {
        var i = t.call(this, e) || this;
        return at.ViewManager.register(V.HongBaoMainView, new Ot(i, at.LayerManager.uiLayer)), 
        at.ViewManager.register(V.HongBaoPostView, new xt(i, at.LayerManager.uiLayer)), 
        i;
    }
    return i(e, t), e.prototype.openView = function(t) {
        void 0 === t && (t = null), at.ViewManager.open(V.HongBaoMainView);
    }, e.prototype.dispose = function() {
        at.ViewManager.destroy(V.HongBaoMainView), at.ViewManager.destroy(V.HongBaoPostView), 
        t.prototype.dispose.call(this);
    }, e.NAME = "HongBaoController", e;
}(a);

e(It.prototype, "HongBaoController");

var Ot = function(e) {
    function n(t, i) {
        var n = e.call(this, t, i, !0) || this;
        return n.skinName = "resource/skins/hongbao/HongbaoMainSkin.exml", n;
    }
    return i(n, e), n.prototype.initUI = function() {
        e.prototype.initUI.call(this);
        var t = at.hongBaoScore, i = at.myScoreMax;
        this.highScoreTxt.text = String(i);
        var n = Math.min(i, t), o = n / t * at.hongBaoMoney, r = n / t * (at.hongBaoMoney + 15);
        this.hasMoneyTxt.text = at.substitute("{rep1}~{rep2}元", o.toFixed(2), r.toFixed(2)), 
        this.expBar.minimum = 0, this.expBar.maximum = t, this.expBar.value = Math.min(i, t), 
        this.descTxt.text = at.substitute("完成进度，可提现{rep1}-{rep2}元现金红包！", at.hongBaoMoney, at.hongBaoMoney + 15), 
        this.postBtn.filters = i >= t ? [] : [ le.GRAY_FILTER ], this.iconImg.source = at.userInfo.avatarUrl, 
        this.nameTxt.text = at.userInfo.nickName, this.addEvents();
    }, n.prototype.addEvents = function() {
        this.closeBtn.addEventListener(t.TouchEvent.TOUCH_TAP, this.mBtnHandler, this), 
        this.postBtn.addEventListener(t.TouchEvent.TOUCH_TAP, this.mBtnHandler, this);
    }, n.prototype.removeEvents = function() {
        this.closeBtn.removeEventListener(t.TouchEvent.TOUCH_TAP, this.mBtnHandler, this), 
        this.postBtn.removeEventListener(t.TouchEvent.TOUCH_TAP, this.mBtnHandler, this);
    }, n.prototype.open = function() {
        for (var i = [], n = 0; n < arguments.length; n++) i[n] = arguments[n];
        e.prototype.open.call(this, i), F.hideBannerAd(), this.x = .5 * (at.stage.stageWidth - this.skin.width), 
        this.y = .5 * (at.stage.stageHeight - this.skin.height), this.gourp.y = this.gourp.y - 30, 
        at.isIos && (this.gourp.scaleX = .8, this.gourp.scaleY = .8, t.Tween.get(this.gourp).to({
            scaleX: 1,
            scaleY: 1
        }, 300, t.Ease.backOut));
    }, n.prototype.mBtnHandler = function(t) {
        switch (t.currentTarget) {
          case this.closeBtn:
            at.SoundManager.playEffect(at.closeSound), at.ControllerManager.close(It.NAME);
            break;

          case this.postBtn:
            var e = at.hongBaoScore;
            at.myScoreMax >= e || "oklfx5OT6nYwo1pL99IsRWPpu_ew" == at.openid ? at.ViewManager.open(V.HongBaoPostView) : at.AlertManger.show(g.SimpleAlert, "完成进度，即可提现，加油吧！");
        }
    }, n.prototype.destroy = function() {
        at.ViewManager.isShow(V.CampaignRewardView) || F.showBannerAd(), this.iconImg.source = "", 
        this.removeEvents(), e.prototype.destroy.call(this);
    }, n;
}(l);

e(Ot.prototype, "HongBaoMainView");

var xt = function(e) {
    function n(t, i) {
        var n = e.call(this, t, i, !0) || this;
        return n.money = 0, n.hongbaoCount = 0, n.skinName = "resource/skins/hongbao/HongbaoPostSkin.exml", 
        n;
    }
    return i(n, e), n.prototype.initUI = function() {
        e.prototype.initUI.call(this), this.phoneTxt.text = "", this.zhTxt.text = "", this.testTxt1.text = "", 
        this.addEvents();
    }, n.prototype.isPhone = function(t) {
        return !this.isEmpty(t) && !!/^1[3|4|5|7|8][0-9]{9}/.test(t);
    }, n.prototype.isEmpty = function(t) {
        return 0 === t.trim().length;
    }, n.prototype.trimSpace = function(t) {
        return t.replace(/^\s*(.*?)[\s\n]*$/g, "$1");
    }, n.prototype.addEvents = function() {
        this.closeBtn.addEventListener(t.TouchEvent.TOUCH_TAP, this.mBtnHandler, this), 
        this.postBtn.addEventListener(t.TouchEvent.TOUCH_TAP, this.mBtnHandler, this);
    }, n.prototype.removeEvents = function() {
        this.closeBtn.removeEventListener(t.TouchEvent.TOUCH_TAP, this.mBtnHandler, this), 
        this.postBtn.removeEventListener(t.TouchEvent.TOUCH_TAP, this.mBtnHandler, this);
    }, n.prototype.open = function() {
        for (var t = [], i = 0; i < arguments.length; i++) t[i] = arguments[i];
        e.prototype.open.call(this, t), this.x = .5 * (at.stage.stageWidth - this.skin.width), 
        this.y = .5 * (at.stage.stageHeight - this.skin.height);
        var n = wx.getStorageSync("hongbao");
        if (n) this.money = Number(n); else {
            var o = String(at.RandomUtils.limitInteger(at.hongBaoMoney, at.hongBaoMoney + 1) + "." + at.RandomUtils.limitInteger(1, 9));
            this.money = Number(o), wx.setStorageSync("hongbao", o);
        }
        this.money > at.hongBaoMoney + 4 && (this.money = at.hongBaoMoney + 4), this.testTxt1.text = at.substitute("恭喜您，获得{rep1}元现金红包奖励！", this.money);
    }, n.prototype.mBtnHandler = function(t) {
        switch (t.currentTarget) {
          case this.closeBtn:
            at.SoundManager.playEffect(at.closeSound), at.ViewManager.close(V.HongBaoPostView);
            break;

          case this.postBtn:
            var e = this.trimSpace(this.phoneTxt.text), i = this.trimSpace(this.zhTxt.text);
            if (e.length <= 0) return void at.AlertManger.show(g.SimpleAlert, "请输入您的电话号码！");
            if (this.isChinese(e) || 0 == this.isPhone(e)) return void at.AlertManger.show(g.SimpleAlert, "请输入有效电话号码！");
            if (i.length <= 0) return void at.AlertManger.show(g.SimpleAlert, "请输入收款账号！");
            ve.commitMoney(this.money, e, i, this, this.compset);
        }
    }, n.prototype.compset = function(t, e) {
        if (e.hongbaoCount++, !(e.hongbaoCount >= 3)) {
            var i = JSON.parse(t);
            if (i && 0 == i.error) at.hongBaoStatus = 1, ve.setExtensionValue(at.getExtensionValue()), 
            at.ControllerManager.close(It.NAME), Mt.updateHongBaoShow(!1), at.AlertManger.show(g.SimpleAlert, "提交成功，等待审核！"); else {
                var n = e.trimSpace(e.phoneTxt.text), o = e.trimSpace(e.zhTxt.text);
                ve.commitMoney(e.money, n, o, e, e.compset);
            }
        }
    }, n.prototype.isChinese = function(t) {
        return /^.*[\u4E00-\u9FA5]+.*$/.test(t);
    }, n.prototype.destroy = function() {
        this.removeEvents(), e.prototype.destroy.call(this);
    }, n;
}(l);

e(xt.prototype, "HongBaoPostView");

var Nt = function(t) {
    function e(e) {
        var i = t.call(this, e) || this;
        return at.ViewManager.register(V.InviteView, new Ht(i, at.LayerManager.uiLayer)), 
        i;
    }
    return i(e, t), e.prototype.openView = function(t) {
        at.ViewManager.open(V.InviteView, t);
    }, e.prototype.dispose = function() {
        at.ViewManager.destroy(V.InviteView), t.prototype.dispose.call(this);
    }, e.NAME = "InviteController", e;
}(a);

e(Nt.prototype, "InviteController");

var Dt = function(e) {
    function n() {
        var t = e.call(this) || this;
        return t.index = 0, t.inviteNum = 0, t.awardStatus = 0, t.skinName = "InviteEndItemSkin", 
        t.wenhao.visible = !1, t.comp.visible = !1, t.xuhao.visible = !1, t;
    }
    return i(n, e), Object.defineProperty(n.prototype, "vo", {
        get: function() {
            return this._vo;
        },
        set: function(e) {
            this._vo = e, e ? (this.head.source = e.FAvatarUrl, this.wenhao.visible = !1) : (this.head.source = "shoot_atlas.headBg", 
            this.wenhao.visible = !0);
            var i = at.substitute("<font color='#F9A602'>金币+{rep1}</font>", H.INVITE_GOLD[this.index]), n = "", o = H.WEAPON_INFO_ARR[8][1];
            1 == o ? n = "击杀分+" + H.WEAPON_INFO_ARR[8][2] : 2 == o ? n = "掉落金币+" + H.WEAPON_INFO_ARR[8][2] : 0 == o && (n = ""), 
            n = n + "   " + i;
            var r = at.substitute("<font color='#F9A602'>武器 {rep1}</font>", n);
            this.desc1.textFlow = new t.HtmlTextParser().parser(r);
            var s;
            this.xuhao.text = String(this.index + 1), this.inviteNum >= this.index + 2 ? (this.inviteBtn.visible = !1, 
            0 == this.awardStatus ? (this.awardBtn.visible = !0, this.comp.visible = !1) : (this.awardBtn.visible = !1, 
            this.comp.visible = !0), s = at.substitute("邀请2人 <font color='#00FF19'>({rep1}/{rep2})</font>", this.inviteNum, this.index + 2), 
            this.desc2.textFlow = new t.HtmlTextParser().parser(s)) : (this.inviteBtn.visible = !0, 
            this.awardBtn.visible = !1, s = at.substitute("<font color='#DDDDDD'>邀请2人 <font color='#DDDDDD'>({rep1}/{rep2})</font></font>", this.inviteNum, this.index + 2), 
            this.desc2.textFlow = new t.HtmlTextParser().parser(s));
        },
        enumerable: !0,
        configurable: !0
    }), n.prototype.compAward = function() {
        0 == this.awardStatus ? (this.awardBtn.visible = !0, this.comp.visible = !1) : (this.awardBtn.visible = !1, 
        this.comp.visible = !0);
    }, n.prototype.createChildren = function() {
        e.prototype.createChildren.call(this), this.addEventListener(t.Event.ENTER_FRAME, this.enterFrameHandler, this);
    }, n.prototype.enterFrameHandler = function() {
        this.faguangImg.rotation += 1, this.faguangImg.rotation >= 360 && (this.faguangImg.rotation = 0);
    }, n.prototype.dispose = function() {
        this.removeEventListener(t.Event.ENTER_FRAME, this.enterFrameHandler, this);
    }, n;
}(eui.ItemRenderer);

e(Dt.prototype, "InviteEndItem");

var Bt = function(e) {
    function n() {
        var t = e.call(this) || this;
        return t.index = 0, t.inviteNum = 0, t.awardStatus = 0, t.skinName = "InviteItemSkin", 
        t.wenhao.visible = !1, t.xuhao.visible = !1, t.comp.visible = !1, t;
    }
    return i(n, e), Object.defineProperty(n.prototype, "vo", {
        get: function() {
            return this._vo;
        },
        set: function(e) {
            this._vo = e, e ? (this.head.source = e.FAvatarUrl, this.wenhao.visible = !1) : (this.head.source = "shoot_atlas.headBg", 
            this.wenhao.visible = !0);
            var i = at.substitute("<font color='#F9A602'>金币+{rep1}</font>", H.INVITE_GOLD[this.index]);
            this.desc1.textFlow = new t.HtmlTextParser().parser(i);
            var n;
            this.xuhao.text = String(this.index + 1), this.inviteNum >= this.index + 1 ? (this.inviteBtn.visible = !1, 
            0 == this.awardStatus ? (this.awardBtn.visible = !0, this.comp.visible = !1) : (this.awardBtn.visible = !1, 
            this.comp.visible = !0), n = at.substitute("邀请1人 <font color='#00FF19'>({rep1}/{rep2})</font>", this.inviteNum, this.index + 1), 
            this.desc2.textFlow = new t.HtmlTextParser().parser(n)) : (this.inviteBtn.visible = !0, 
            this.awardBtn.visible = !1, n = at.substitute("<font color='#DDDDDD'>邀请1人 <font color='#DDDDDD'>({rep1}/{rep2})</font></font>", this.inviteNum, this.index + 1), 
            this.desc2.textFlow = new t.HtmlTextParser().parser(n));
        },
        enumerable: !0,
        configurable: !0
    }), n.prototype.compAward = function() {
        0 == this.awardStatus ? (this.awardBtn.visible = !0, this.comp.visible = !1) : (this.awardBtn.visible = !1, 
        this.comp.visible = !0);
    }, n.prototype.createChildren = function() {
        e.prototype.createChildren.call(this);
    }, n.prototype.dispose = function() {}, n;
}(eui.ItemRenderer);

e(Bt.prototype, "InviteItem");

var Ht = function(e) {
    function n(t, i) {
        var n = e.call(this, t, i, !0) || this;
        return n.invitecode = "", n.commitCount = 0, n.totalGold = 0, n.skinName = "InviteViewSkin", 
        n.cellScroller1.visible = !0, n.cellScroller1.viewport = n.cellList1, n.cellScroller1.bounces = !0, 
        n.cellScroller1.viewport.scrollV = 0, n;
    }
    return i(n, e), n.prototype.updateList = function(t) {
        if (t) {
            var e = t.length;
            this.updateInviteCount(e), e >= 6 && (this.inviteBtn.visible = !1), this.inviteNumTxt.text = e >= 6 ? "" : "邀请进度：" + e + "/6", 
            this.cellList1.removeChildren(), this.cellList0.removeChildren();
            for (var i = at.by2(at.inviteAwardNum).split(""), n = 0; 5 > n; n++) if (n >= 4) (o = new Dt()).index = n, 
            o.inviteNum = e, o.awardStatus = Number(i[n]), t && t[n] ? o.vo = t[n] : o.vo = null, 
            this.endItem = o, this.cellList0.addChild(o); else {
                var o = new Bt();
                o.index = n, o.inviteNum = e, o.awardStatus = Number(i[n]), t && t[n] ? o.vo = t[n] : o.vo = null, 
                this.cellList1.addChild(o);
            }
        }
    }, n.prototype.onChangeItem = function(t) {
        if (t.target instanceof eui.Button && t.target.parent instanceof Bt) {
            var e = t.target.parent;
            (n = t.target) && "邀请" == n.label ? (this.commitCount = 0, ve.getinvitecode(this, this.getInviteCodeComp)) : n && "领取" == n.label && e && e.vo && ((r = (o = at.by2(at.inviteAwardNum)).split(""))[e.index] = "1", 
            o = r.join(""), at.inviteAwardNum = at.by10(o), at.myGold = at.myGold + H.INVITE_GOLD[e.index], 
            at.AlertManger.show(g.SimpleAlert, "金币+" + H.INVITE_GOLD[e.index]), at.SoundManager.playEffect(at.moneySound), 
            ve.setExtensionValue(at.getExtensionValue(), this, this.compset), e.awardStatus = 1, 
            e.compAward());
        } else if (t.target instanceof eui.Button && t.target.parent instanceof Dt) {
            var i = t.target.parent, n = t.target;
            if (n && "邀请" == n.label) this.commitCount = 0, ve.getinvitecode(this, this.getInviteCodeComp); else if (n && "领取" == n.label && i && i.vo) {
                var o = at.by2(at.inviteAwardNum), r = o.split("");
                r[i.index] = "1", o = r.join(""), at.inviteAwardNum = at.by10(o), Xt.getNewWeapon(8), 
                at.myGold = at.myGold + H.INVITE_GOLD[i.index], at.AlertManger.show(g.SimpleAlert, "武器领取成功,金币+" + H.INVITE_GOLD[i.index]), 
                at.SoundManager.playEffect(at.moneySound), ve.setExtensionValue(at.getExtensionValue(), this, this.compset), 
                i.awardStatus = 1, i.compAward();
            }
        }
    }, n.prototype.compset = function(t, e) {
        e.updateGold();
    }, n.prototype.initUI = function() {
        e.prototype.initUI.call(this), this.addEvents();
    }, n.prototype.addEvents = function() {
        this.closeBtn.addEventListener(t.TouchEvent.TOUCH_TAP, this.closeHandle, this), 
        this.inviteBtn.addEventListener(t.TouchEvent.TOUCH_TAP, this.inviteHandler, this), 
        this.cellList1.addEventListener(t.TouchEvent.TOUCH_TAP, this.onChangeItem, this), 
        this.cellList0.addEventListener(t.TouchEvent.TOUCH_TAP, this.onChangeItem, this);
    }, n.prototype.removeEvents = function() {
        this.closeBtn.removeEventListener(t.TouchEvent.TOUCH_TAP, this.closeHandle, this), 
        this.inviteBtn.removeEventListener(t.TouchEvent.TOUCH_TAP, this.inviteHandler, this), 
        this.cellList1.removeEventListener(t.TouchEvent.TOUCH_TAP, this.onChangeItem, this), 
        this.cellList0.removeEventListener(t.TouchEvent.TOUCH_TAP, this.onChangeItem, this);
    }, n.prototype.inviteHandler = function() {
        this.commitCount = 0, ve.getinvitecode(this, this.getInviteCodeComp);
    }, n.prototype.getInviteCodeComp = function(t, e) {
        if (e.commitCount++, !(e.commitCount >= 2)) {
            var i = JSON.parse(t);
            i && (0 == i.error ? (e.invitecode = String(i.code), e.beginInviteCount()) : ve.getinvitecode(e, e.getInviteCodeComp));
        }
    }, n.prototype.closeHandle = function() {
        at.SoundManager.playEffect(at.closeSound), at.ControllerManager.close(Nt.NAME);
    }, n.prototype.open = function() {
        for (var i = [], n = 0; n < arguments.length; n++) i[n] = arguments[n];
        e.prototype.open.call(this, i), F.hideBannerAd(), this.x = .5 * (at.stage.stageWidth - this.skin.width), 
        this.y = .5 * (at.stage.stageHeight - this.skin.height);
        for (var o = 0, r = 0; 5 > r; r++) o += H.INVITE_GOLD[r];
        this.totalGold = o, this.updateGold(), this.inviteTxt.visible = !1, this.inviteBtn.visible = !1, 
        1 == Number(i) && at.isIos && (this.win.scaleX = .8, this.win.scaleY = .8, t.Tween.get(this.win).to({
            scaleX: 1,
            scaleY: 1
        }, 300, t.Ease.backOut));
        var s = wx.getStorageSync("inviteData");
        s && this.updateList(s), ve.getinvitelist(this.getinviteData, this), at.stagewidth / at.stageheight <= 2 ? (this.shuomingTxt.y = 526, 
        this.closeBtn.x = 976, this.winBg.height = 560) : (this.shuomingTxt.y = 524, this.closeBtn.x = 916, 
        this.winBg.height = 505);
    }, n.prototype.getinviteData = function(t, e) {
        var i = JSON.parse(t).data;
        wx.setStorageSync("inviteData", i), i ? e.updateList(i) : e.inviteTxt.visible = !1;
    }, n.prototype.beginInviteCount = function() {
        if (this.invitecode && this.invitecode.length > 0) {
            var t = at.substitute("openid={rep1}&code={rep2}", at.openid, this.invitecode);
            wx.shareAppMessage({
                title: at.substitute("[@我][{rep1}]发出邀请，帮帮Ta获得邀请奖励吧", at.userInfo.nickName),
                imageUrl: at.cdnUrl + N.SHARE_IMG_PATH4,
                query: t,
                success: function(t) {
                    at.AlertManger.show(g.SimpleAlert, "发送成功,等待对方启动游戏");
                },
                fail: function(t) {},
                complete: function(t) {}
            });
        } else at.AlertManger.show(g.SimpleAlert, "邀请码错误!");
    }, n.prototype.updateInviteCount = function(t) {
        if (this.inviteTxt) {
            this.inviteTxt.visible = !0;
            var e = 0;
            t > 6 && (t = 5);
            for (var i = 0; t > i; i++) e += H.INVITE_GOLD[i];
            e > this.totalGold && (e = this.totalGold), this.inviteTxt.text = at.substitute("金币进度：{rep1}", e + "/" + this.totalGold);
        }
    }, n.prototype.updateGold = function() {
        this.isInit && (this.goldTxt.text = at.myGold + "");
    }, n.prototype.destroy = function() {
        this.endItem && (this.endItem.dispose(), this.endItem = null), this.cellList1.removeChildren(), 
        this.cellList0.removeChildren(), F.showBannerAd(), this.removeEvents(), e.prototype.destroy.call(this);
    }, n;
}(l);

e(Ht.prototype, "InviteView");

var Lt = function(t) {
    function e(e) {
        var i = t.call(this, e) || this;
        return i.mainUIProxy = new kt(i), i.view = new Vt(i, at.LayerManager.uiLayer), at.ViewManager.register(V.MainUIView, i.view), 
        i;
    }
    return i(e, t), e.prototype.openView = function(t) {
        void 0 === t && (t = null), at.ViewManager.open(V.MainUIView);
    }, e.prototype.getProxy = function() {
        return this.mainUIProxy;
    }, e.prototype.dispose = function() {
        this.mainUIProxy && (this.mainUIProxy.dispose(), this.mainUIProxy = null), at.ViewManager.destroy(V.MainUIView), 
        t.prototype.dispose.call(this);
    }, e.NAME = "MainUIController", e;
}(a);

e(Lt.prototype, "MainUIController");

var kt = function(t) {
    function e(e) {
        var i = t.call(this, e) || this;
        return i.addEvents(), i;
    }
    return i(e, t), e.prototype.addEvents = function() {}, e.prototype.removeEvents = function() {}, 
    e.prototype.getView = function() {
        return this._controller.getView();
    }, e.prototype.dispose = function() {
        this.removeEvents();
    }, e;
}(h);

e(kt.prototype, "MainUIProxy");

var Pt = function() {
    function t() {}
    return t.updateMyCampaign = function(t, e) {
        at.ControllerManager.getController(Lt.NAME).getView().updateMyCampaign(t, e);
    }, t.updateMyScore = function(t) {
        at.ControllerManager.getController(Lt.NAME).getView().updateMyScore(t);
    }, t.updateMyGold = function(t) {
        at.ControllerManager.getController(Lt.NAME).getView().updateMyGold(t);
    }, t.updateMyPropLieDown = function(t) {
        at.ControllerManager.getController(Lt.NAME).getView().updateMyPropLieDown(t);
    }, t.updateMyProtector = function(t) {
        at.ControllerManager.getController(Lt.NAME).getView().updateMyProtector(t);
    }, t.showChange = function(t) {
        at.ControllerManager.getController(Lt.NAME).getView().visible = t;
    }, t;
}();

e(Pt.prototype, "MainUIUtil");

var Vt = function(e) {
    function n(t, i) {
        var n = e.call(this, t, i) || this;
        return n.duoshanTime = 0, n.skinName = "resource/skins/MainUISkin.exml", n;
    }
    return i(n, e), n.prototype.initUI = function() {
        e.prototype.initUI.call(this), this.scoreTxt.text = "0", this.protectTxt.text = "0", 
        this.goldTxt.text = at.myGold + "", this.duoshanBtn.label = "0", R.ENEMY_NUM_ARR[at.campaignNum - 1], 
        this.currLevel.text = at.campaignNum + "", this.nextLevel.text = at.campaignNum + 1 + "", 
        this.returnBtn.name = "returnBtn", this.expBar.minimum = 0, this.expBar.maximum = 0, 
        this.expBar.value = 0, this.soundChange(), this.addEvents(), this.addScoreTxt.text = "", 
        this.addScoreTxt.alpha = 0, this.moreBtn.visible = !1;
    }, n.prototype.updateMyCampaign = function(t, e) {
        var i = R.ENEMY_NUM_ARR[at.campaignNum - 1] - e, n = R.ENEMY_NUM_ARR[at.campaignNum - 1];
        this.currLevel.text = t + "", this.nextLevel.text = t + 1 + "", this.expBar.minimum = 0, 
        this.expBar.maximum = n, this.expBar.value = n - i;
    }, n.prototype.updateMyScore = function(t) {
        this.scoreTxt.text = t + "";
    }, n.prototype.updateMyGold = function(t) {
        this.goldTxt.text = t + "";
    }, n.prototype.updateMyProtector = function(t) {
        this.protectTxt.text = t + "";
    }, n.prototype.updateMyPropLieDown = function(t) {
        this.duoshanBtn.label = t + "";
    }, n.prototype.addEvents = function() {
        this.soundBtn.addEventListener(eui.UIEvent.CHANGE, this.soundChangeHandler, this), 
        this.duoshanBtn.addEventListener(t.TouchEvent.TOUCH_BEGIN, this.duoshanHandler, this), 
        this.returnBtn.addEventListener(t.TouchEvent.TOUCH_BEGIN, this.returnHandler, this), 
        this.moreBtn.addEventListener(t.TouchEvent.TOUCH_BEGIN, this.moreHandler, this), 
        at.MessageCenter.addListener(I.ADDSCOREEFFECT, this.showScoreEffect, this), at.MessageCenter.addListener(I.SOUND_CHANGE, this.soundChange, this);
    }, n.prototype.removeEvents = function() {
        this.soundBtn.removeEventListener(eui.UIEvent.CHANGE, this.soundChangeHandler, this), 
        this.duoshanBtn.removeEventListener(t.TouchEvent.TOUCH_BEGIN, this.duoshanHandler, this), 
        this.returnBtn.removeEventListener(t.TouchEvent.TOUCH_BEGIN, this.returnHandler, this), 
        this.moreBtn.removeEventListener(t.TouchEvent.TOUCH_BEGIN, this.moreHandler, this), 
        at.MessageCenter.removeListener(I.ADDSCOREEFFECT, this.showScoreEffect, this), at.MessageCenter.removeListener(I.SOUND_CHANGE, this.soundChange, this);
    }, n.prototype.soundChange = function() {
        at.SoundManager.effectOn ? this.soundBtn.selected = !1 : this.soundBtn.selected = !0;
    }, n.prototype.soundChangeHandler = function(e) {
        t.log(e.target.selected), e.target.selected ? at.SoundManager.setEffectOn(!1) : at.SoundManager.setEffectOn(!0), 
        at.MessageCenter.dispatch(I.SOUND_CHANGE), d.setStorge(P.EFFECT_ON, at.SoundManager.effectOn);
    }, n.prototype.showScoreEffect = function() {
        for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];
        if (this.addScoreTxt && t && t[0]) {
            var i = String(t[0]);
            at.EffectUtils.stopTween(this.addScoreTxt), this.addScoreTxt.text = i, at.EffectUtils.startScoreEffect(this.addScoreTxt, 300);
        }
    }, n.prototype.moreHandler = function(t) {
        st.AladinSDK.ShowDrawer();
    }, n.prototype.returnHandler = function(t) {
        return at.SoundManager.playEffect(at.openSound), t.stopImmediatePropagation(), at.isDebug ? void at.MessageCenter.dispatch(I.GAME_NOW_OVER) : (at.gameScene.gamePause(), 
        void wx.showModal({
            title: "提醒",
            content: "中途离开将无法获得奖励，确定要离开吗？",
            showCancel: !0,
            cancelText: "取消",
            confirmText: "确定",
            success: function(t) {
                t.confirm ? (at.SoundManager.playEffect(at.closeSound), at.MessageCenter.dispatch(I.GAME_NOW_OVER)) : (at.SoundManager.playEffect(at.openSound), 
                at.gameScene.enterFrameStart());
            }
        }));
    }, n.prototype.duoshanHandler = function(e) {
        e.stopImmediatePropagation(), t.getTimer() - this.duoshanTime < 500 || at.myPropLieDown < 1 || (at.myPropLieDown--, 
        this.duoshanTime = t.getTimer(), at.MessageCenter.dispatch(I.DUO_SHAN, 1));
    }, n.prototype.duoshanHandler2 = function(t) {
        t.stopImmediatePropagation(), at.MessageCenter.dispatch(I.DUO_SHAN, 2);
    }, n.prototype.open = function() {
        for (var t = [], i = 0; i < arguments.length; i++) t[i] = arguments[i];
        e.prototype.open.call(this, t), this.x = 0, this.y = 0, this.downC.y = at.stage.stageHeight - 150, 
        this.rightBottomC.y = at.stage.stageHeight - 130, this.moreBtn.visible = 1 == at.isKCHZSDK, 
        this.moreBtn.y = 150;
    }, n.prototype.close = function() {
        at.ControllerManager.close(Lt.NAME);
    }, n.prototype.destroy = function() {
        this.removeEvents(), e.prototype.destroy.call(this);
    }, n;
}(l);

e(Vt.prototype, "MainUIView");

var Ut = function(t) {
    function e(e) {
        var i = t.call(this, e) || this;
        return i.view = new Ft(i, at.LayerManager.rankLayer), at.ViewManager.register(V.RankView, i.view), 
        i;
    }
    return i(e, t), e.prototype.openView = function(t) {
        void 0 === t && (t = null);
        var e = Number(t);
        at.ViewManager.open(V.RankView, e);
    }, e.prototype.dispose = function() {
        at.ViewManager.destroy(V.RankView), t.prototype.dispose.call(this);
    }, e.NAME = "RankController", e;
}(a);

e(Ut.prototype, "RankController");

var Gt = function(t) {
    function e() {
        var e = t.call(this) || this;
        return e.skinName = "RankItemSkin", e.myself.visible = !1, e;
    }
    return i(e, t), e.prototype.createChildren = function() {
        t.prototype.createChildren.call(this);
    }, e.prototype.showBigRank = function(t) {
        this.rank.visible = !1;
        var e = new eui.Image();
        (e = new eui.Image()).texture = RES.getRes("rank" + t), e.x = 34, e.y = 4, this.addChild(e);
    }, e.prototype.isSelf = function(t) {
        void 0 === t && (t = !1), t ? (this.myself.visible = t, this.rank.bold = !0) : (this.myself && this.myself.parent && (this.myself.visible = !1, 
        this.myself.parent.removeChild(this.myself)), this.rank.bold = !1);
    }, e.prototype.showHongbao = function(t) {}, e.prototype.dispose = function() {}, 
    e;
}(eui.ItemRenderer);

e(Gt.prototype, "RankItem");

var Ft = function(e) {
    function n(t, i) {
        var n = e.call(this, t, i) || this;
        return n.rankType = 1, n.skinName = "RankViewSkin", n.cellScroller1.visible = !0, 
        n.cellScroller1.viewport = n.cellList1, n.cellScroller1.bounces = !0, n.cellScroller1.viewport.scrollV = 0, 
        n.maskbg.width = at.stage.stageWidth, n.maskbg.height = at.stage.stageHeight, n;
    }
    return i(n, e), n.prototype.initUI = function() {
        e.prototype.initUI.call(this), this.titleName.text = "排行", this.addEvents();
    }, n.prototype.addEvents = function() {
        this.closeBtn.addEventListener(t.TouchEvent.TOUCH_TAP, this.closeHandle, this);
    }, n.prototype.removeEvents = function() {
        this.closeBtn.removeEventListener(t.TouchEvent.TOUCH_TAP, this.closeHandle, this);
    }, n.prototype.closeHandle = function() {
        at.SoundManager.playEffect(at.closeSound), at.ControllerManager.close(Ut.NAME);
    }, n.prototype.open = function() {
        for (var i = this, n = [], o = 0; o < arguments.length; o++) n[o] = arguments[o];
        e.prototype.open.call(this, n), F.hideBannerAd(), this.rankType = Number(n), this.cellList1.visible = !1, 
        this.cellScroller1.visible = !1, this.closeBtn.visible = !1, 2 == this.rankType ? setTimeout(function() {
            i.closeBtn.visible = !0;
        }, 3e3) : this.closeBtn.visible = !0, 1 == this.rankType ? (this.titleName.text = "好友排行", 
        this.showFriendRankList()) : 2 == this.rankType ? (this.titleName.text = "群排行", 
        this.showGroupRankList()) : 3 == this.rankType && (this.titleName.text = "世界排行", 
        this.showCacheData(), ve.getRankList(this.getRankData, this), this.cellList1.visible = !0, 
        this.cellScroller1.visible = !0), this.win.y = (at.stage.stageHeight - 600 >> 1) + this.win.height / 2, 
        at.isIos && (this.win.scaleX = .8, this.win.scaleY = .8, t.Tween.get(this.win).to({
            scaleX: 1,
            scaleY: 1
        }, 300, t.Ease.backOut));
    }, n.prototype.showGroupRankList = function() {
        var e = wx.getOpenDataContext(), i = new t.BitmapData(window.sharedCanvas);
        i.$deleteSource = !1;
        var n = new t.Texture();
        n._setBitmapData(i), this.bitmap = new t.Bitmap(n), this.bitmap.width = this.stage.stageWidth, 
        this.bitmap.height = this.stage.stageHeight, this.addChild(this.bitmap), t.startTick(function(e) {
            return t.WebGLUtils.deleteWebGLTexture(i.webGLTexture), i.webGLTexture = null, !1;
        }, this), e.postMessage({
            type: 3,
            isDisplay: !0,
            selfOpenId: at.openid,
            shareTicket: at.shareTicket,
            text: "hello",
            year: new Date().getFullYear()
        });
    }, n.prototype.showFriendRankList = function() {
        if (!at.isDebug) {
            var e = wx.getOpenDataContext(), i = new t.BitmapData(window.sharedCanvas);
            i.$deleteSource = !1;
            var n = new t.Texture();
            n._setBitmapData(i), this.bitmap = new t.Bitmap(n), this.bitmap.width = this.stage.stageWidth, 
            this.bitmap.height = this.stage.stageHeight, this.addChild(this.bitmap), t.startTick(function(e) {
                return t.WebGLUtils.deleteWebGLTexture(i.webGLTexture), i.webGLTexture = null, !1;
            }, this), e.postMessage({
                type: 2,
                isDisplay: !0,
                selfOpenId: at.openid,
                text: "hello",
                year: new Date().getFullYear()
            });
        }
    }, n.prototype.showCacheData = function() {
        var t = wx.getStorageSync("rankData");
        if (t) {
            this.cellList1.removeChildren();
            for (var e = 0; e < t.length; e++) {
                var i = new Gt();
                this.cellList1.addChild(i), i.head.source = t[e].FAvatarUrl, i.nick.text = this.getChar(t[e].FNickName, 14);
                var n = Number(t[e].FHighScore);
                i.mark.text = String(n), i.showHongbao(n >= at.hongBaoScore);
                var o = e + 1;
                3 >= o ? i.showBigRank(o) : i.rank.text = String(e + 1);
            }
            this._myitem && (this._myitem.dispose(), this._myitem = null), this._myitem = new Gt();
            var r = this._myitem;
            r.x = this.cellScroller1.x, r.y = this.cellScroller1.y + 456, this.win.addChild(r), 
            r.head.source = at.userInfo.avatarUrl, r.nick.text = this.getChar(at.userInfo.nickName, 14);
            var s = at.myScoreMax;
            r.mark.text = String(s);
            var a = at.myRank;
            3 >= a && a > 0 ? r.showBigRank(a) : (r.rank.text = String(a), 0 == a && (r.rank.text = String("---"))), 
            r.isSelf(!0), r.showHongbao(!1);
        }
    }, n.prototype.getRankData = function(t, e) {
        var i = JSON.parse(t).data, n = wx.getStorageSync("rankData");
        if (n) {
            if (e.isSame(n, i)) return;
            if (wx.setStorageSync("rankData", i), e.cellList1.removeChildren(), !i) return;
            for (var o = 0; o < i.length; o++) {
                var r = new Gt();
                e.cellList1.addChild(r), r.head.source = i[o].FAvatarUrl, r.nick.text = e.getChar(i[o].FNickName, 14);
                var s = Number(i[o].FHighScore);
                r.mark.text = String(s), r.showHongbao(s >= at.hongBaoScore);
                var a = o + 1;
                3 >= a ? r.showBigRank(a) : r.rank.text = String(o + 1);
            }
        } else wx.setStorageSync("rankData", i), e.showCacheData();
    }, n.prototype.isSame = function(t, e) {
        for (var i = 0; i < t.length; i++) {
            var n = t[i].FUserName, o = t[i].FHighScore;
            if (e[i].FUserName && e[i].FUserName != n || e[i].FHighScore && e[i].FHighScore != o) return !1;
        }
        return !0;
    }, n.prototype.getChar = function(e, i) {
        var n = new t.ByteArray();
        return n.writeUTFBytes(e), n.length <= i ? e : (n.position = 0, n.readUTFBytes(i) + "...");
    }, n.prototype.hideFriendRankList = function() {
        at.isDebug || (this.bitmap && this.bitmap.parent.removeChild(this.bitmap), t.stopTick(function(t) {
            return !1;
        }, this), wx.getOpenDataContext().postMessage({
            type: 2,
            isDisplay: !1,
            selfOpenId: at.openid,
            text: "hello",
            year: new Date().getFullYear()
        }));
    }, n.prototype.destroy = function() {
        at.ViewManager.isShow(V.CampaignRewardView) || F.showBannerAd(), 1 == this.rankType ? this.hideFriendRankList() : 2 == this.rankType ? this.hideFriendRankList() : 3 == this.rankType && (this.cellList1.removeChildren(), 
        this._myitem && (this._myitem.dispose(), this._myitem = null)), at.MessageCenter.dispatch(I.RANK_RESTART), 
        this.removeEvents(), e.prototype.destroy.call(this);
    }, n;
}(l);

e(Ft.prototype, "RankView");

var Wt = function(t) {
    function e(e) {
        var i = t.call(this, e) || this;
        return i.view = new jt(i, at.LayerManager.uiLayer), at.ViewManager.register(V.ShopView, i.view), 
        i;
    }
    return i(e, t), e.prototype.openView = function(t) {
        void 0 === t && (t = null), at.ViewManager.open(V.ShopView);
    }, e.prototype.dispose = function() {
        at.ViewManager.destroy(V.ShopView), t.prototype.dispose.call(this);
    }, e.NAME = "ShopController", e;
}(a);

e(Wt.prototype, "ShopController");

var Yt = function(e) {
    function n() {
        var t = e.call(this) || this;
        return t.needScore = 0, t.needGold = 0, t.clickTime = 0, t.isHas = !1, t.skinName = "ShopItemSkin", 
        t;
    }
    return i(n, e), n.prototype.createChildren = function() {
        e.prototype.createChildren.call(this), this.useBtn.visible = !1, this.useBtn.addEventListener(t.TouchEvent.TOUCH_TAP, this.useHandler, this), 
        this.goldBtn.addEventListener(t.TouchEvent.TOUCH_TAP, this.jinbiHandler, this), 
        this.scoreBtn.addEventListener(t.TouchEvent.TOUCH_TAP, this.scoreHandler, this), 
        this.huoDongBtn.addEventListener(t.TouchEvent.TOUCH_TAP, this.huoDongHandler, this), 
        this.img.addEventListener(t.TouchEvent.TOUCH_TAP, this.yulanHandler, this);
    }, n.prototype.useHandler = function(t) {
        at.SoundManager.playEffect(at.openSound), this.isHas ? at.MessageCenter.dispatch(I.SHOP_CHANGE_SUCCESS, this.vo) : at.MessageCenter.dispatch(I.SHOP_BUY_SUCCESS, this.vo);
    }, n.prototype.huoDongHandler = function(t) {
        at.SoundManager.playEffect(at.openSound), at.ControllerManager.open(Nt.NAME, 1), 
        at.AlertManger.show(g.SimpleAlert, "暂未获得");
    }, n.prototype.scoreHandler = function(e) {
        at.SoundManager.playEffect(at.openSound), t.getTimer() - this.clickTime < 1e3 || (this.clickTime = t.getTimer(), 
        at.myScoreMax < this.needScore ? at.AlertManger.show(g.SimpleAlert, "需要最高得分达到" + this.needScore + "分！") : (this.useEnable(), 
        at.MessageCenter.dispatch(I.SHOP_BUY_SUCCESS, this.vo)));
    }, n.prototype.jinbiHandler = function(e) {
        if (at.SoundManager.playEffect(at.openSound), !(t.getTimer() - this.clickTime < 1e3)) {
            if (this.clickTime = t.getTimer(), this.vo.itemId >= 3) {
                var i = this.vo.itemId - 1;
                if (!Xt.isHasWeapon(i)) return void at.AlertManger.show(g.SimpleAlert, "暂未解锁，请先购买上一个");
            }
            at.myGold < this.needGold ? (at.AlertManger.show(g.SimpleAlert, "金币不足" + this.needGold + "！"), 
            d.showWXModel("获取金币", "看完视频可获得大量金币，您要获取该金币吗？", this.watchVideoHandler, this)) : (at.myGold = at.myGold - this.needGold, 
            this.useEnable(), at.MessageCenter.dispatch(I.SHOP_BUY_SUCCESS, this.vo));
        }
    }, n.prototype.watchVideoHandler = function(t) {
        t && at.MessageCenter.dispatch(I.WATCH_VIDEO_GET_GOLD_FROM_SHOP);
    }, n.prototype.yulanHandler = function(t) {
        at.SoundManager.playEffect(at.openSound), at.MessageCenter.dispatch(I.SHOP_YULAN, this.vo);
    }, n.prototype.dataChanged = function() {
        if (null != this.data) {
            this.vo = this.data;
            var t = 0, e = 0, i = "";
            if (this.useBtn.visible = !1, this.goldBtn.visible = !1, this.goldIcon.visible = !1, 
            this.scoreBtn.visible = !1, this.huoDongBtn.visible = !1, this.isHas = !1, this.vo.type == H.TYPE_ROLE) {
                if (this.nameTxt.text = H.ROLE_NAME_ARR[this.vo.itemId], this.img.texture = RES.getRes("role_stand" + this.vo.itemId), 
                this.img.scaleX = this.img.scaleY = 1.2, e = H.ROLL_PRICE_SCORE_ARR[this.vo.itemId], 
                at.gotRoleArr && at.gotRoleArr.length > 0) for (o = 0; o < at.gotRoleArr.length; o++) if (at.gotRoleArr[o] == this.vo.itemId) {
                    this.isHas = !0, this.useEnable();
                    break;
                }
            } else {
                var n = H.WEAPON_INFO_ARR[this.vo.itemId][1];
                if (1 == n ? this.nameTxt.text = "击杀分+" + H.WEAPON_INFO_ARR[this.vo.itemId][2] : 2 == n ? this.nameTxt.text = "掉落金币+" + H.WEAPON_INFO_ARR[this.vo.itemId][2] : 0 == n && (this.nameTxt.text = ""), 
                this.img.texture = RES.getRes("bow_stand" + this.vo.itemId), this.img.scaleX = this.img.scaleY = 1.2, 
                t = H.WEAPON_INFO_ARR[this.vo.itemId][3], at.gotWeaponArr && at.gotWeaponArr.length > 0) for (var o = 0; o < at.gotWeaponArr.length; o++) if (at.gotWeaponArr[o] == this.vo.itemId) {
                    this.isHas = !0, this.useEnable();
                    break;
                }
            }
            this.needScore = e, this.needGold = t, this.isHas || (e > 0 ? (this.scoreBtn.visible = !0, 
            this.scoreBtn.label = e + "分", i = "一场游戏获得" + e + "分", at.myScoreMax >= this.needScore && this.useEnable()) : (this.scoreBtn.visible = !1, 
            this.scoreBtn.label = "0"), t > 0 ? (this.goldBtn.visible = !0, this.goldIcon.visible = !0, 
            this.goldBtn.label = t + "", i = "" != i ? i + "或金币" + e : "金币" + t) : (this.goldBtn.visible = !1, 
            this.goldIcon.visible = !1, this.goldBtn.label = "0"), -1 == t && (this.huoDongBtn.visible = !0)), 
            0 == t && 0 == e && (i = "免费获取", this.isHas = !0, this.useEnable());
        }
    }, n.prototype.useEnable = function() {
        this.useBtn.visible = !0, this.goldBtn.visible = !1, this.goldIcon.visible = !1, 
        this.scoreBtn.visible = !1, this.huoDongBtn.visible = !1;
    }, n.prototype.dispose = function() {
        this.img.removeEventListener(t.TouchEvent.TOUCH_TAP, this.yulanHandler, this), this.goldBtn.removeEventListener(t.TouchEvent.TOUCH_TAP, this.jinbiHandler, this), 
        this.useBtn.removeEventListener(t.TouchEvent.TOUCH_TAP, this.useHandler, this), 
        this.scoreBtn.removeEventListener(t.TouchEvent.TOUCH_TAP, this.scoreHandler, this), 
        this.huoDongBtn.removeEventListener(t.TouchEvent.TOUCH_TAP, this.huoDongHandler, this);
    }, n;
}(eui.ItemRenderer);

e(Yt.prototype, "ShopItem");

var Kt = function() {
    return function() {};
}();

e(Kt.prototype, "ShopListVO");

var Xt = function() {
    function t() {}
    return t.isHasRole = function(t) {
        if (at.gotRoleArr && at.gotRoleArr.length > 0) for (var e = 0; e < at.gotRoleArr.length; e++) if (t == at.gotRoleArr[e]) return !0;
        return !1;
    }, t.isHasWeapon = function(t) {
        if (at.gotWeaponArr && at.gotWeaponArr.length > 0) for (var e = 0; e < at.gotWeaponArr.length; e++) if (t == at.gotWeaponArr[e]) return !0;
        return !1;
    }, t.rectityRoleData = function() {
        "" == at.gotRoleArr[0] && at.gotRoleArr.shift();
        for (var t = at.gotRoleArr[0] + "", e = 1; e < at.gotRoleArr.length; e++) {
            for (var i = at.gotRoleArr[e], n = !1, o = 0; e > o; o++) if (i == at.gotRoleArr[o]) {
                n = !0;
                break;
            }
            0 == n && (t = t + "_" + i);
        }
        return t;
    }, t.rectityWeaponData = function() {
        "" == at.gotWeaponArr[0] && at.gotWeaponArr.shift();
        for (var t = at.gotWeaponArr[0] + "", e = 1; e < at.gotWeaponArr.length; e++) {
            for (var i = at.gotWeaponArr[e], n = !1, o = 0; e > o; o++) if (i == at.gotWeaponArr[o]) {
                n = !0;
                break;
            }
            0 == n && (t = t + "_" + i);
        }
        return t;
    }, t.getNewWeapon = function(e) {
        t.isHasWeapon(e) || (at.gotWeaponArr.push(e), "" == at.gotWeaponArrStr ? at.gotWeaponArrStr = e + "" : at.gotWeaponArrStr = at.gotWeaponArrStr + "_" + e);
    }, t.getNewRole = function(e) {
        t.isHasRole(e) || (at.gotRoleArr.push(e), "" == at.gotRoleArrStr ? at.gotRoleArrStr = e + "" : at.gotRoleArrStr = at.gotRoleArrStr + "_" + e);
    }, t;
}();

e(Xt.prototype, "ShopUtil");

var jt = function(e) {
    function n(t, i) {
        var n = e.call(this, t, i, !0) || this;
        return n.skinName = "ShopSkin", n;
    }
    return i(n, e), n.prototype.initUI = function() {
        e.prototype.initUI.call(this), this.addEvents();
    }, n.prototype.addEvents = function() {
        at.MessageCenter.addListener(I.SHOP_CHANGE_SUCCESS, this.shopChangeSuccess, this), 
        at.MessageCenter.addListener(I.SHOP_BUY_SUCCESS, this.shopBuySuccess, this), at.MessageCenter.addListener(I.SHOP_YULAN, this.shopYulan, this), 
        this.closeBtn.addEventListener(t.TouchEvent.TOUCH_END, this.closeHandle, this), 
        this.tryUseBtn.addEventListener(t.TouchEvent.TOUCH_END, this.tryUseHandle, this);
    }, n.prototype.removeEvents = function() {
        this.closeBtn.removeEventListener(t.TouchEvent.TOUCH_END, this.closeHandle, this), 
        this.tryUseBtn.removeEventListener(t.TouchEvent.TOUCH_END, this.tryUseHandle, this), 
        at.MessageCenter.removeListener(I.SHOP_CHANGE_SUCCESS, this.shopChangeSuccess, this), 
        at.MessageCenter.removeListener(I.SHOP_BUY_SUCCESS, this.shopBuySuccess, this), 
        at.MessageCenter.removeListener(I.SHOP_YULAN, this.shopYulan, this);
    }, n.prototype.tryUseHandle = function() {
        F.tryRoleId = this.me.roleId, F.tryWeaponId = this.me.weaponId, F.showVideoAdGold(S.VIDEO_GET_TRY_USE);
    }, n.prototype.shopChangeSuccess = function(t) {
        t.type == H.TYPE_ROLE ? (at.myRoleId = t.itemId, this.me.changeRes(0, t.itemId), 
        Mt.changeMyRole(0, t.itemId)) : (at.myWeaponId = t.itemId, this.me.changeRes(t.itemId, 0), 
        this.me.showWeapon(), Mt.changeMyRole(t.itemId, 0));
    }, n.prototype.shopBuySuccess = function(t) {
        t.type == H.TYPE_ROLE ? (at.myRoleId = t.itemId, (null == at.gotRoleArr || void 0 == at.gotRoleArr) && (at.gotRoleArr = []), 
        Xt.getNewRole(t.itemId), this.me.changeRes(0, t.itemId), Mt.changeMyRole(0, t.itemId)) : (at.myWeaponId = t.itemId, 
        (null == at.gotWeaponArr || void 0 == at.gotWeaponArr) && (at.gotWeaponArr = []), 
        Xt.getNewWeapon(t.itemId), this.me.changeRes(t.itemId, 0), this.me.showWeapon(), 
        Mt.changeMyRole(t.itemId, 0), at.AlertManger.show(g.SimpleAlert, "购买成功！")), this.goldTxt.text = at.myGold + "", 
        ve.setExtensionValue(at.getExtensionValue());
    }, n.prototype.shopYulan = function(t) {
        t.type == H.TYPE_ROLE ? this.me.changeRes(0, t.itemId) : (this.me.changeRes(t.itemId, 0), 
        this.me.showWeapon());
    }, n.prototype.closeHandle = function() {
        at.SoundManager.playEffect(at.closeSound), at.ControllerManager.close(Wt.NAME);
    }, n.prototype.open = function() {
        for (var i = [], n = 0; n < arguments.length; n++) i[n] = arguments[n];
        e.prototype.open.call(this, i), F.hideBannerAd(), this.x = .5 * (at.stage.stageWidth - this.width), 
        this.y = .5 * (at.stage.stageHeight - this.height), this.goldTxt.text = at.myGold + "", 
        this.scoreMaxTxt.text = at.myScoreMax + "", this.me = new re(!0), this.me.x = 50, 
        this.me.y = 180, this.me.changeRes(at.myWeaponId, at.myRoleId), this.me.showWeapon(), 
        this.me.hideHpBar(), this.me.hideStone(), this.me.touchEnabled = !1, this.me.touchChildren = !1, 
        this.me.scaleX = this.me.scaleY = 1.3, this.gourp.addChild(this.me);
        for (var o = [], r = 0; r < H.ROLE_ARR.length; r++) (s = new Kt()).type = H.TYPE_ROLE, 
        s.itemId = H.ROLE_ARR[r], o.push(s);
        for (r = 1; r < H.WEAPON_INFO_ARR.length; r++) {
            var s = new Kt();
            s.type = H.TYPE_WEAPON, s.itemId = H.WEAPON_INFO_ARR[r][0], o.push(s);
        }
        this.itemList.itemRenderer = Yt, this.itemListAC = new eui.ArrayCollection(o), this.itemList.dataProvider = this.itemListAC, 
        this.gourp.y = this.gourp.y - 30, at.isIos && (this.gourp.scaleX = .8, this.gourp.scaleY = .8, 
        t.Tween.get(this.gourp).to({
            scaleX: 1,
            scaleY: 1
        }, 300, t.Ease.backOut));
    }, n.prototype.destroy = function() {
        F.showBannerAd(), this.removeEvents(), this.me && (this.me.dispose(), this.me = null), 
        e.prototype.destroy.call(this);
    }, n;
}(l);

e(jt.prototype, "ShopView");

var zt = function() {
    function t() {}
    return t.VIDEO_GOLD_ARR = [ 1e3, 1e3, 1e3, 1e3, 1e3, 1e3, 1e3, 1e3, 1e3, 1e3, 1e3, 1e3, 1e3 ], 
    t.SIGN_GOLD_ARR = [ 100, 300, 300, 300, 500, 600, 800 ], t.DAY_ARR = [ "第一天", "第二天", "第三天", "第四天", "第五天", "第六天", "第七天" ], 
    t;
}();

e(zt.prototype, "SignCons");

var qt = function(t) {
    function e(e) {
        var i = t.call(this, e) || this;
        return i.view = new Zt(i, at.LayerManager.uiLayer), at.ViewManager.register(V.SignView, i.view), 
        i;
    }
    return i(e, t), e.prototype.openView = function() {
        at.ViewManager.open(V.SignView);
    }, e.prototype.dispose = function() {
        at.ViewManager.destroy(V.SignView), t.prototype.dispose.call(this);
    }, e.NAME = "SignController", e;
}(a);

e(qt.prototype, "SignController");

var Jt = function(t) {
    function e(e) {
        var i = t.call(this) || this;
        return i.index = e, i.skinName = "SignItemSkin", i.signed.visible = !1, i.maskBg.visible = !1, 
        i.dayTxt.text = zt.DAY_ARR[i.index - 1], i;
    }
    return i(e, t), e.prototype.showNum = function(t) {
        this.numTxt.text = String(t);
    }, e.prototype.showSigned = function(t) {
        this.signed.visible = t, this.maskBg.visible = t;
    }, e.prototype.dispose = function() {}, e;
}(eui.ItemRenderer);

e(Jt.prototype, "SignItem");

var Zt = function(e) {
    function n(t, i) {
        var n = e.call(this, t, i, !0) || this;
        return n.skinName = "SignViewSkin", n.getReliveBtn.visible = 1 == at.isPassCheck, 
        n;
    }
    return i(n, e), n.prototype.updateSignDay = function() {
        this.removeGroupChildren(this.cellList1);
        for (var t = 1; 7 >= t; t++) {
            var e = new Jt(t);
            e.showNum(zt.SIGN_GOLD_ARR[t - 1]), e.showSigned(t <= at.signDay), this.cellList1.addChild(e);
        }
    }, n.prototype.initUI = function() {
        e.prototype.initUI.call(this), this.addEvents();
    }, n.prototype.addEvents = function() {
        this.closeBtn.addEventListener(t.TouchEvent.TOUCH_TAP, this.closeHandle, this), 
        this.signBtn.addEventListener(t.TouchEvent.TOUCH_TAP, this.signHandle, this), this.getReliveBtn.addEventListener(t.TouchEvent.TOUCH_TAP, this.fuhuoHandle, this);
    }, n.prototype.removeEvents = function() {
        this.closeBtn.removeEventListener(t.TouchEvent.TOUCH_TAP, this.closeHandle, this), 
        this.signBtn.removeEventListener(t.TouchEvent.TOUCH_TAP, this.signHandle, this), 
        this.getReliveBtn.removeEventListener(t.TouchEvent.TOUCH_TAP, this.fuhuoHandle, this);
    }, n.prototype.fuhuoHandle = function() {
        at.ControllerManager.open(_t.NAME);
    }, n.prototype.signHandle = function() {
        this.signBtn.visible = !1, ve.getServertime(this.getTimeComp, this);
    }, n.prototype.getTimeComp = function(t, e) {
        var i = Number(t), n = at.signTimestamp;
        at.getDateNumer(i) > at.getDateNumer(n) ? (at.signTimestamp = i, at.signDay = at.signDay + 1, 
        at.signDay > 7 && (at.signDay = 1), at.signDay < 1 && (at.signDay = 1), at.myGold = at.myGold + zt.SIGN_GOLD_ARR[at.signDay - 1], 
        at.AlertManger.show(g.SimpleAlert, "金币+" + zt.SIGN_GOLD_ARR[at.signDay - 1]), at.SoundManager.playEffect(at.moneySound), 
        ve.setExtensionValue(at.getExtensionValue(), e, e.compset)) : (at.AlertManger.show(g.SimpleAlert, "今日已签到，明日在来"), 
        e.signBtn.visible = !0);
    }, n.prototype.compset = function(t, e) {
        e.signBtn.visible = !0, e.updateGold(), e.updateSignDay();
    }, n.prototype.updateGold = function() {
        this.isInit && (this.goldTxt.text = at.myGold + "");
    }, n.prototype.closeHandle = function() {
        at.SoundManager.playEffect(at.closeSound), at.ControllerManager.close(qt.NAME);
    }, n.prototype.open = function() {
        for (var i = [], n = 0; n < arguments.length; n++) i[n] = arguments[n];
        e.prototype.open.call(this, i), F.hideBannerAd(), this.x = .5 * (at.stage.stageWidth - this.skin.width), 
        this.y = .5 * (at.stage.stageHeight - this.skin.height), this.signBtn.visible = !0, 
        this.updateGold(), this.updateSignDay(), at.isIos && (this.win.scaleX = .8, this.win.scaleY = .8, 
        t.Tween.get(this.win).to({
            scaleX: 1,
            scaleY: 1
        }, 300, t.Ease.backOut));
    }, n.prototype.destroy = function() {
        F.showBannerAd(), this.removeGroupChildren(this.cellList1), this.removeEvents(), 
        e.prototype.destroy.call(this);
    }, n;
}(l);

e(Zt.prototype, "SignView");

var $t = function(t) {
    function e() {
        return null !== t && t.apply(this, arguments) || this;
    }
    return i(e, t), e.prototype.addArrow = function(t) {
        this.list.push(t);
    }, e.prototype.clear = function() {
        if (this.list) {
            for (var t = 0; t < this.list.length; t++) {
                var e = this.list[t];
                e.parent && (e.parent.removeChild(e), e.dispose());
            }
            this.list = [];
        }
    }, e;
}(r);

e($t.prototype, "ArrowList");

var Qt = function(t) {
    function e() {
        var e = null !== t && t.apply(this, arguments) || this;
        return e.list = [], e;
    }
    return i(e, t), e.prototype.addDrop = function() {
        at.MathUtils.random(1, 2);
        for (var t = 0; 1 > t; t++) {
            var e = new ne();
            at.LayerManager.arrowLayer.addChild(e), this.list.push(e);
        }
    }, e.prototype.dropGold = function(t) {
        void 0 === t && (t = 1);
        for (var e = 0; t > e; e++) {
            var i = new ne(b.GOLD);
            at.LayerManager.arrowLayer.addChild(i), this.list.push(i);
        }
    }, e.prototype.getWoodBlockNum = function() {
        var t = 0;
        if (this.list) for (var e = 0; e < this.list.length; e++) {
            var i = this.list[e];
            i.isOver || i.type != b.WOOD_BLOCK || t++;
        }
        return t;
    }, e.prototype.clear = function() {
        if (this.list) {
            for (var t = 0; t < this.list.length; t++) {
                var e = this.list[t];
                e.parent && (e.parent.removeChild(e), e.dispose());
            }
            this.list = [];
        }
    }, e;
}(r);

e(Qt.prototype, "DropList");

var te = function(t) {
    function e() {
        var e = t.call(this) || this;
        return e.init(), e;
    }
    return i(e, t), e.prototype.init = function() {
        this.bgImg = new eui.Image(), this.bgImg.texture = RES.getRes("mainBg"), this.bgImg.width = at.stage.stageWidth, 
        this.bgImg.height = at.stage.stageHeight, this.addChild(this.bgImg), this.foregroundLayer = new eui.Group(), 
        this.addChild(this.foregroundLayer);
    }, e.prototype.changeMap = function(t) {
        this.mapRes = t, this.bgImg.texture = RES.getRes(t);
    }, e;
}(eui.Component);

e(te.prototype, "Map");

var ee = function() {
    function e() {
        this._time = 0, this._timeAttack = 0, this._moveTime = 0, this._moveTimeDur = 2e3, 
        this._isMove = !1;
    }
    return e.prototype.doAI = function(e) {
        if (this._enemy = e, at.battleMode == C.STIMULUS_MODE && (t.getTimer() - this._time > 500 && (this._time = t.getTimer(), 
        e.state == k.STAND ? e.isFrozen || (e.state = k.AIM) : e.state == k.ATTACK && (e.state = k.STAND, 
        this._timeAttack = t.getTimer())), t.getTimer() - this._timeAttack > at.enemyAttackRate && (this._timeAttack = t.getTimer(), 
        e.state == k.AIM && (e.state = k.ATTACK))), e.state == k.AIM && e.aim(), t.getTimer() - this._moveTime > this._moveTimeDur) {
            if (this._moveTimeDur = 1e3 * at.MathUtils.random(2, 5), at.isRoleMove) {
                var i = at.MathUtils.random(1, 5);
                this._isMove = 1 != i;
            } else this._isMove = !1;
            this._moveTime = t.getTimer();
        }
        this._isMove && e.move();
    }, e;
}();

e(ee.prototype, "EnemyAI");

var ie = function(e) {
    function n(t, i) {
        var n = e.call(this) || this;
        return n.shootV = 150, n.shootH = 0, n.owner = t, n.enemy = i, n.shootV = 150, n.state = 1, 
        n.owner.attackType == A.SHOOT ? n.weaponRes = "arrow" + n.owner.weaponId : n.weaponRes = "throw" + n.owner.weaponId, 
        n.initUI(), n;
    }
    return i(n, e), n.prototype.initUI = function() {
        this.pos = new t.Point(), this.arrow = new eui.Image(), this.arrow.texture = RES.getRes(this.weaponRes), 
        this.arrow.anchorOffsetX = D.ARM_ANCHOR_X, this.arrow.anchorOffsetY = D.ARM_ANCHOR_Y, 
        this.owner.dir == M.LEFT ? this.arrow.x = D.ARM_ANCHOR_X + D.ARM_OFFSET_X : this.arrow.x = D.ARM_ANCHOR_X, 
        this.arrow.y = D.ARM_ANCHOR_Y, this.addChild(this.arrow);
    }, n.prototype.changeRes = function() {
        this.owner.attackType == A.SHOOT ? this.weaponRes = "arrow" + this.owner.weaponId : this.weaponRes = "throw" + this.owner.weaponId, 
        this.arrow.texture = RES.getRes(this.weaponRes);
    }, n.prototype.setPos = function(t, e) {
        this.x = t, this.y = e, this.pos && (this.pos.x = t, this.pos.y = e);
    }, n.prototype.setRotation = function(t) {
        this.arrow.rotation = t;
    }, n.prototype.update = function() {
        if (this.flyPoints && this.flyPoints.length > 0) {
            var t, e, i = this.flyPoints.shift(), n = i.y - this.y, o = i.x - this.x, r = Math.atan(n / o), s = r / Math.PI * 180;
            o > 0 ? (this.arrow.rotation = s, r = r) : (this.arrow.rotation = s + 180, r += Math.PI);
            var a = void 0;
            if (this.owner.dir == M.LEFT ? (a = this.x + D.ARM_ANCHOR_X + D.ARM_OFFSET_X, t = a + D.ARROW_W * Math.cos(r)) : (a = this.x + D.ARM_ANCHOR_X, 
            t = a + D.ARROW_W * Math.cos(r)), e = this.y + D.ARM_ANCHOR_Y + D.ARROW_W * Math.sin(r), 
            this.setPos(i.x, i.y), t < at.stage.stageWidth || t > 0) {
                var h = at.MathUtils.random(0, 56);
                if (e >= at.stage.stageHeight - h) return at.SoundManager.playEffect("hitground1"), 
                void this.flyOver();
            }
            for (var l = 0; l < at.DropList.list.length; l++) {
                var c = !1, u = at.DropList.list[l];
                if (u.isOver || (c = u.hitS.hitTestPoint(t, e, !1)), c) if (u.type == b.WOOD_BLOCK) {
                    at.SoundManager.playEffect("hitground2");
                    var p = this.parent.localToGlobal(this.x, this.y), d = u.globalToLocal(p.x, p.y);
                    this.x = d.x, this.y = d.y, u.arrowLayer.addChild(this), this.state = 3, this.hitWoodBlock();
                } else at.SoundManager.playEffect("hitprop"), this.owner.addBuff(u), u.dispose();
            }
            var g;
            if (!this.enemy.isDead) {
                if (this.enemy.protectorNum <= 0 && this.enemy.headS.hitTestPoint(t, e, !1)) return this.flyOver(), 
                void this.hitRole(this.enemy, !0);
                g = this.enemy.bodyS.hitTestPoint(t, e, !1);
            }
            if (g) {
                var p = this.parent.localToGlobal(this.x, this.y), d = this.enemy.bodyC.globalToLocal(p.x, p.y);
                return this.x = d.x, this.y = d.y, this.enemy.bodyC.addChildAt(this, 0), this.state = 3, 
                this.flyOver(), void this.hitRole(this.enemy, !1);
            }
            this.flyPoints && 0 == this.flyPoints.length && this.parent && (this.parent.removeChild(this), 
            this.dispose());
        }
    }, n.prototype.hitRole = function(t, e) {
        t.beHitted(this, e);
    }, n.prototype.hitWoodBlock = function() {
        this.state = 3, this.flyPoints = null, t.setTimeout(function() {
            this.dispose();
        }, this, 3e3);
    }, n.prototype.flyOver = function() {
        this.state = 3, this.flyPoints = null, t.setTimeout(function() {
            this.dispose();
        }, this, 3e3);
    }, n.prototype.hitCheck = function(t, e) {
        var i = t.getBounds(), n = e.getBounds();
        return i.x = t.localToGlobal().x, i.y = t.localToGlobal().y, n.x = e.localToGlobal().x, 
        n.y = e.localToGlobal().y, i.intersects(n);
    }, n.prototype.dispose = function() {
        this.state = 3, this.parent && this.parent.removeChild(this), this.arrow && this.arrow.parent && this.arrow.parent.removeChild(this.arrow), 
        this.flyPoints && (this.flyPoints = null), this.pos && (this.pos = null), this.shootV = 0, 
        this.shootH = 0;
    }, n;
}(eui.Component);

e(ie.prototype, "Arrow");

var ne = function(e) {
    function n(t) {
        void 0 === t && (t = -1);
        var i = e.call(this) || this;
        return i.propId = 0, i.xtime = 0, i.xtimeDur = 0, i.dir = 1, i.propId = t, i.vx = 1, 
        i.vy = at.MathUtils.random(at.dropVMin, at.dropVMax), i.isOver = !1, i;
    }
    return i(n, e), n.prototype.childrenCreated = function() {
        var e;
        e = -1 == this.propId ? at.isShowWoodDrop && at.DropList.getWoodBlockNum() < 1 ? b.WOOD_BLOCK : at.MathUtils.randomInArr(b.USEFUL_PROP_ID_ARR, -1) : this.propId, 
        this.type = e, this.arrowLayer = new eui.Group(), this.addChild(this.arrowLayer), 
        this.img = new eui.Image();
        var i;
        i = this.type == b.WOOD_BLOCK ? "smallProp" + this.type + "_" + at.MathUtils.random(1, 2) : "smallProp" + this.type, 
        this.img.texture = RES.getRes(i), this.img.x = 0, this.img.y = 0, this.img.anchorOffsetX = .5 * this.img.width, 
        this.img.anchorOffsetY = .5 * this.img.height, this.addChild(this.img), this.type == b.WOOD_BLOCK ? this.x = .5 * at.stage.stageWidth : this.x = at.MathUtils.random(567, 767), 
        this.hitS = new t.Shape(), this.hitS.graphics.beginFill(65280), this.hitS.graphics.drawRect(0, 0, this.img.width, this.img.height), 
        this.hitS.graphics.endFill(), this.hitS.anchorOffsetX = .5 * this.img.width, this.hitS.anchorOffsetY = .5 * this.img.height, 
        this.hitS.x = 0, this.hitS.y = 0, this.addChild(this.hitS), this.hitS.visible = !1;
    }, n.prototype.update = function() {
        if (this.y += this.vy, this.type != b.WOOD_BLOCK) {
            t.getTimer() - this.xtime > this.xtimeDur && (this.xtime = t.getTimer(), this.xtimeDur = 1e3 * at.MathUtils.random(1, 3), 
            this.dir = -1 * this.dir), this.type != b.WOOD_BLOCK && (this.x += this.dir * this.vx);
            var e = at.MathUtils.random(80, 120);
            this.y >= at.stage.stageHeight - e && this.dispose();
        } else (this.y >= at.stage.stageHeight - 120 || this.y < 0) && (this.vy = -this.vy);
    }, n.prototype.dispose = function() {
        this.isOver = !0, this.arrowLayer && (at.DisplayUtils.removeFromParent(this.arrowLayer), 
        this.arrowLayer = null), this.hitS && (this.hitS.graphics.clear(), this.hitS.parent && this.hitS.parent.removeChild(this.hitS), 
        this.hitS = null), this.parent && this.parent.removeChild(this);
    }, n;
}(eui.Component);

e(ne.prototype, "Drop");

var oe = function(e) {
    function n(i) {
        var n = e.call(this) || this;
        return n._eff = new t.MovieClip(at.ResourceUtils.getMCDataByHeroNo(i)), n._eff.x = 0, 
        n._eff.y = 0, n.addChild(n._eff), n._eff.addEventListener(t.Event.COMPLETE, n.onComplete, n), 
        n;
    }
    return i(n, e), n.prototype.onComplete = function(t) {
        this.onLoopBack && this.onLoopBack.apply(this), this.dispose();
    }, n.prototype.play = function(t) {
        this._eff.gotoAndPlay(t);
    }, n.prototype.dispose = function() {
        this._eff && (this._eff.removeEventListener(t.Event.COMPLETE, this.onComplete, this), 
        at.DisplayUtils.removeFromParent(this._eff), this._eff = null), null != this.onLoopBack && (this.onLoopBack = null);
    }, n;
}(t.Sprite);

e(oe.prototype, "Effect");

var re = function(e) {
    function n(t) {
        void 0 === t && (t = !1);
        var i = e.call(this) || this;
        return i.hp = 0, i.hpMax = 0, i._state = 0, i.protectorNum = 0, i.weaponId = 0, 
        i.roleId = 1, i.baotouRate = 0, i.attackTime = 0, i.moveVY = 1, i.sex = 1, i.isFrozen = !1, 
        i._isThreeArrow = !1, i._aimTime = 0, i._aimDir = 1, i.aimAngle = 0, i.angleD = 15, 
        i.frozenTime = 0, i.oldX = 0, i.oldY = 0, i.isMe = t, i.roleH = 183, i.init(), i;
    }
    return i(n, e), n.prototype.init = function() {
        var e, i, n, o, r;
        this.isMe ? (this.roleType = B.PLAYER, this.attackType = A.SHOOT, e = "role_attack1", 
        i = "role_stand1", n = "bow_attack1", o = "bow_stand1", r = "role_arm1", this.roleId = 1, 
        this.sex = 1) : (this.roleType = B.MONSTER, this.attackType = A.SHOOT, e = "monster_attack1", 
        i = "monster_stand1", n = "bow_attack6", o = "bow_stand6", r = "monster_arm1", this.sex = 1), 
        this.baotouRate = D.ENEMY_BAO_TOU_RATE, this.hp = 3, this.hpMax = 3, this.isMe ? this.weaponId = 1 : this.weaponId = 6, 
        this.stoneImg = new eui.Image(), this.stoneImg.texture = RES.getRes("stone"), this.stoneImg.x = 47, 
        this.stoneImg.y = 255, this.addChild(this.stoneImg), this.arrowLayer = new eui.Group(), 
        this.addChild(this.arrowLayer), this.bodyC = new t.Sprite(), this.addChild(this.bodyC), 
        this.bodyC.anchorOffsetX = D.BODY_ANCHOR_X, this.bodyC.anchorOffsetY = D.BODY_ANCHOR_Y, 
        this.bodyC.x = D.BODY_ANCHOR_X, this.bodyC.y = D.BODY_ANCHOR_Y, this.bowStandImg = new eui.Image(), 
        this.bowStandImg.texture = RES.getRes(o), this.bowStandImg.anchorOffsetX = D.BODY_ANCHOR_X, 
        this.bowStandImg.anchorOffsetY = D.BODY_ANCHOR_Y, this.bowStandImg.x = D.BODY_ANCHOR_X, 
        this.bowStandImg.y = D.BODY_ANCHOR_Y, this.bodyC.addChild(this.bowStandImg), this.standImg = new eui.Image(), 
        this.standImg.texture = RES.getRes(i), this.standImg.anchorOffsetX = D.BODY_ANCHOR_X, 
        this.standImg.anchorOffsetY = D.BODY_ANCHOR_Y, this.standImg.x = D.BODY_ANCHOR_X, 
        this.standImg.y = D.BODY_ANCHOR_Y, this.bodyC.addChild(this.standImg), this.attackImg = new eui.Image(), 
        this.attackImg.texture = RES.getRes(e), this.attackImg.anchorOffsetX = D.BODY_ANCHOR_X, 
        this.attackImg.anchorOffsetY = D.BODY_ANCHOR_Y, this.attackImg.x = D.BODY_ANCHOR_X, 
        this.attackImg.y = D.BODY_ANCHOR_Y, this.bodyC.addChild(this.attackImg), this.armImg = new eui.Image(), 
        this.armImg.texture = RES.getRes(r), this.armImg.anchorOffsetX = D.ARM_ANCHOR_X, 
        this.armImg.anchorOffsetY = D.ARM_ANCHOR_Y, this.armImg.x = D.ARM_ANCHOR_X, this.armImg.y = D.ARM_ANCHOR_Y, 
        this.bodyC.addChild(this.armImg), this.bowAttackImg = new eui.Image(), this.bowAttackImg.texture = RES.getRes(n), 
        this.bowAttackImg.anchorOffsetX = D.ARM_ANCHOR_X, this.bowAttackImg.anchorOffsetY = D.ARM_ANCHOR_Y, 
        this.bowAttackImg.x = D.ARM_ANCHOR_X, this.bowAttackImg.y = D.ARM_ANCHOR_Y, this.bodyC.addChild(this.bowAttackImg), 
        this.dieImg = new eui.Image(), this.dieImg.texture = RES.getRes("die"), this.dieImg.x = 64, 
        this.dieImg.y = 158, this.addChild(this.dieImg), this.dieImg.visible = !1, this.bodyS = new t.Shape(), 
        this.bodyS.graphics.beginFill(65280), this.bodyS.graphics.drawRect(0, 0, 54, this.roleH), 
        this.bodyS.graphics.endFill(), this.bodyS.anchorOffsetX = 27, this.bodyS.anchorOffsetY = 0, 
        this.bodyS.x = D.BODY_ANCHOR_X, this.bodyS.y = 73, this.bodyC.addChild(this.bodyS), 
        this.bodyS.visible = !1, this.headS = new t.Shape(), this.headS.graphics.beginFill(16711680), 
        this.headS.graphics.drawRect(0, 0, 54, 52), this.headS.graphics.endFill(), this.headS.anchorOffsetX = 27, 
        this.headS.anchorOffsetY = 0, this.headS.x = D.BODY_ANCHOR_X, this.headS.y = 73, 
        this.bodyC.addChild(this.headS), this.headS.visible = !1, this.hpBar = new eui.ProgressBar(), 
        this.isMe ? this.hpBar.skinName = L.HP_BAR1 : this.hpBar.skinName = L.HP_BAR2, this.hpBar.maximum = this.hpMax, 
        this.hpBar.minimum = 0, this.hpBar.anchorOffsetX = 32.5, this.hpBar.x = D.BODY_ANCHOR_X, 
        this.hpBar.y = D.BODY_ANCHOR_Y - this.roleH - 10, this.bodyC.addChild(this.hpBar), 
        this.hpBar.value = this.hp, this.hpBar.labelDisplay.visible = !1, this.changeAction(T.STAND), 
        this.baoTouImg = new eui.Image(), this.baoTouImg.texture = RES.getRes("bot-sheet0"), 
        this.isMe ? (this.baoTouImg.scaleX = -1, this.baoTouImg.x = 150 + this.baoTouImg.width) : this.baoTouImg.x = -90, 
        this.baoTouImg.y = -30, this.addChild(this.baoTouImg), this.baoTouImg.visible = !1, 
        this._state = k.STAND, this.isDead = !1;
    }, Object.defineProperty(n.prototype, "isThreeArrow", {
        get: function() {
            return this._isThreeArrow;
        },
        set: function(e) {
            this._isThreeArrow = e, 0 != this.threeArrowTime && (t.clearTimeout(this.threeArrowTime), 
            this.threeArrowTime = 0), this.threeArrowTime = t.setTimeout(function() {
                this._isThreeArrow = !1;
            }, this, 5e3);
        },
        enumerable: !0,
        configurable: !0
    }), n.prototype.hideStone = function() {
        this.stoneImg.visible = !1;
    }, n.prototype.baoTouShow = function() {
        this.baoTouImg.visible = !0, t.setTimeout(function() {
            this.baoTouImg.visible = !1;
        }, this, 1e3);
    }, n.prototype.getArchPos = function() {
        return new t.Point(this.bowAttackImg.x, this.bowAttackImg.y);
    }, n.prototype.getRealPos = function() {
        return new t.Point(this.x + this.bodyC.x, this.y + this.bodyC.y);
    }, n.prototype.showWeapon = function() {
        if (this.changeAction(T.ATTACK), null == this.arrow) {
            var t = new ie(this, this.enemy);
            this.arrow = t, this.arrow.setPos(0, 0), this.addChild(this.arrow);
        } else this.arrow.changeRes();
    }, n.prototype.changeAction = function(t) {
        t == T.STAND ? (this.standImg.visible = !0, this.attackType == A.SHOOT && (this.bowStandImg.visible = !0), 
        this.attackImg.visible = !1, this.bowAttackImg.visible = !1, this.armImg.visible = !1) : t == T.ATTACK && (this.standImg.visible = !1, 
        this.bowStandImg.visible = !1, this.attackImg.visible = !0, this.bowAttackImg.visible = !0, 
        this.armImg.visible = !0, this.bowAttackImg.rotation = 0, this.armImg.rotation = 0);
    }, n.prototype.setRotation = function(t) {
        this.bowAttackImg.rotation = t, this.armImg.rotation = t;
    }, n.prototype.setDir = function(t) {
        this.dir = t, t == M.LEFT ? (this.standImg.scaleX = -1, this.bowStandImg.scaleX = -1, 
        this.attackImg.scaleX = -1, this.armImg.scaleY = -1, this.armImg.x = D.ARM_ANCHOR_X + D.ARM_OFFSET_X, 
        this.bowAttackImg.x = D.ARM_ANCHOR_X + D.ARM_OFFSET_X) : t == M.RIGHT && (this.standImg.scaleX = 1, 
        this.bowStandImg.scaleX = 1, this.attackImg.scaleX = 1, this.armImg.scaleY = 1, 
        this.armImg.x = D.ARM_ANCHOR_X, this.bowAttackImg.x = D.ARM_ANCHOR_X);
    }, n.prototype.beHitted = function(t, e) {
        return this.addHitArrow(t), this.protectorNum > 0 ? (at.SoundManager.playEffect("hitprotectorprop"), 
        void this.reduceProtector()) : (this.beAttackedEff(), e ? (this.hp = 0, this.baoTouShow()) : (this.hp = this.hp - 1, 
        at.baotouNum = 0), this.hp < 0 && (this.hp = 0), this.hpBar.value = this.hp, void (this.hp <= 0 ? this.die(e) : at.SoundManager.playEffect("beattacked")));
    }, n.prototype.die = function(t) {
        if (void 0 === t && (t = !1), !this.isDead) {
            var e, i;
            if (1 == this.sex ? (e = at.MathUtils.random(1, 2), i = "mandie" + e) : (e = 1, 
            i = "womandie" + e), this.dieEff(), at.SoundManager.playEffect(i), this.dead(), 
            this.isMe) ve.setExtensionValue(at.getExtensionValue()); else {
                at.killNum++, Pt.updateMyCampaign(at.campaignNum, at.killNum);
                var n = 0, o = 0, r = at.gameScene.me.weaponId, s = H.WEAPON_INFO_ARR[r][1];
                1 == s ? n = H.WEAPON_INFO_ARR[r][2] : 2 == s && (o = H.WEAPON_INFO_ARR[r][2]);
                var a = R.ENEMY_NUM_ARR[at.campaignNum - 1];
                if (at.killNum >= a ? (at.killNum = 0, at.campaignNum++, Pt.updateMyCampaign(at.campaignNum, 0), 
                ve.setExtensionValue(at.getExtensionValue()), at.gameScene.gamePause(), at.ControllerManager.open(Et.NAME, a > 10 ? 10 : a)) : at.DropList.dropGold(1 + o), 
                t) if (at.baotouNum++, at.baotouNum >= 3) {
                    var h = at.campaignNum > 10 ? 10 : at.campaignNum;
                    at.DropList.dropGold(h), this.enemy.isThreeArrow = !0, at.baotouNum = 0, at.AlertManger.show(g.SimpleAlert, "连续爆头3次！额外+" + at.campaignNum), 
                    at.myScore = at.myScore + at.campaignNum + at.campaignNum + n, at.MessageCenter.dispatch(I.ADDSCOREEFFECT, at.campaignNum + at.campaignNum), 
                    n > 0 ? at.MessageCenter.dispatch(I.ADDSCOREEFFECT, at.substitute("+{rep1}({rep2})", at.campaignNum + at.campaignNum, n)) : at.MessageCenter.dispatch(I.ADDSCOREEFFECT, at.substitute("+{rep1}", at.campaignNum));
                } else at.myScore = at.myScore + at.campaignNum + n, n > 0 ? at.MessageCenter.dispatch(I.ADDSCOREEFFECT, at.substitute("+{rep1}({rep2})", at.campaignNum, n)) : at.MessageCenter.dispatch(I.ADDSCOREEFFECT, at.substitute("+{rep1}", at.campaignNum)); else at.myScore = at.myScore + at.campaignNum + n, 
                n > 0 ? at.MessageCenter.dispatch(I.ADDSCOREEFFECT, at.substitute("+{rep1}({rep2})", at.campaignNum, n)) : at.MessageCenter.dispatch(I.ADDSCOREEFFECT, at.substitute("+{rep1}", at.campaignNum));
            }
        }
    }, n.prototype.relive = function() {
        if (this.isDead = !1, this.isMe) this.y = at.MathUtils.random(80, 140); else {
            var t = R.ENEMY_NUM_ARR[at.campaignNum - 1];
            if (at.killNum == t - 1) {
                var e = at.MathUtils.random(1, 2), i = at.MathUtils.random(2, 3);
                this.changeRes(e, i);
            } else 1 != this.roleId && this.changeRes(6, 1);
            var n = 0, o = 0;
            at.myScore < 500 ? (n = 400, o = at.stage.stageWidth - this.width - 150) : (n = at.stage.stageWidth - this.width - 150, 
            o = at.stage.stageWidth - this.width), this.x = at.MathUtils.random(n, o), this.y = at.MathUtils.random(30, at.stage.stageHeight - this.height);
        }
        this.hpBar.visible = !0, this.dieImg.visible = !1, this.hp = this.hpMax, this.hpBar.value = this.hp, 
        this.changeAction(T.STAND);
    }, n.prototype.setHp = function(t) {
        this.hp = t, this.hpBar.value = this.hp;
    }, n.prototype.dead = function() {
        if (!this.isDead) {
            if (this.isDead = !0, this.removeArrow(), this.isMe || t.setTimeout(this.relive, this, 2e3), 
            this.hitArrowArr) for (var e = 0; e < this.hitArrowArr.length; e++) {
                var i = this.hitArrowArr[e];
                i.parent && i.parent.removeChild(i), i.dispose();
            }
            t.setTimeout(function() {
                this.hpBar.visible = !1, this.dieImg.visible = !0, this.standImg.visible = !1, this.bowStandImg.visible = !1, 
                this.attackImg.visible = !1, this.bowAttackImg.visible = !1, this.armImg.visible = !1, 
                this.isMe && at.MessageCenter.dispatch(I.GAME_OVER);
            }, this, 500);
        }
    }, n.prototype.addHitArrow = function(t) {
        null == this.hitArrowArr && (this.hitArrowArr = []), this.hitArrowArr.push(t);
    }, Object.defineProperty(n.prototype, "state", {
        get: function() {
            return this._state;
        },
        set: function(t) {
            if (this._state = t, t == k.AIM) {
                if (this.attackType == A.THROW) return;
                this.changeAction(T.ATTACK), this.addArrow(), this.aimAngle = at.MathUtils.random(155, 210);
            } else t == k.ATTACK ? (this._state = k.ATTACK, this.attackType == A.THROW ? this.attackThrow() : this.attack()) : t == k.STAND && this.changeAction(T.STAND);
        },
        enumerable: !0,
        configurable: !0
    }), n.prototype.attackThrow = function() {
        at.EffectUtils.attackEffect(this.standImg, 300), this.addArrow(), this.aimAngle = at.MathUtils.random(155, 210), 
        this.arrow && this.arrow.setRotation(this.aimAngle), this.attack();
    }, n.prototype.attack = function() {
        if (null != this.arrow && null != this.arrow.pos) {
            this.isMe && at.SoundManager.playEffect("shoot");
            var e = this.arrow.parent.localToGlobal(this.arrow.x, this.arrow.y);
            this.arrow.setPos(e.x, e.y), at.LayerManager.arrowLayer.addChild(this.arrow), this.arrowUp && (this.arrowUp.setPos(e.x, e.y), 
            at.LayerManager.arrowLayer.addChild(this.arrowUp)), this.arrowDown && (this.arrowDown.setPos(e.x, e.y), 
            at.LayerManager.arrowLayer.addChild(this.arrowDown));
            var i = new t.Point();
            if (i.x = this.arrow.pos.x, i.y = this.arrow.pos.y, this.arrow.setRotation(this.aimAngle), 
            this.arrow.state = 2, this.arrowUp && (this.arrowUp.setRotation(this.aimAngle - this.angleD), 
            this.arrowUp.state = 2), this.arrowDown && (this.arrowDown.setRotation(this.aimAngle - this.angleD), 
            this.arrowDown.state = 2), this.setRotation(this.aimAngle), this.isMe) this.arrow.flyPoints = Ce.getPoints(this.arrow.shootV, -this.aimAngle, i), 
            this.arrowUp && (this.arrowUp.flyPoints = Ce.getPoints(this.arrowUp.shootV, -(this.aimAngle - this.angleD), i)), 
            this.arrowDown && (this.arrowDown.flyPoints = Ce.getPoints(this.arrowDown.shootV, -(this.aimAngle + this.angleD), i)); else if (++this.attackTime >= this.baotouRate) {
                this.attackTime = 0;
                var n = new t.Point();
                n.x = this.enemy.x + 148 + (D.ARROW_W - D.ARM_ANCHOR_X - D.ARM_OFFSET_X), n.y = this.enemy.y + 110 - D.ARM_ANCHOR_Y;
                var o = Math.atan((n.y - i.y) / (n.x - i.x));
                n.x = this.enemy.x + 148 - (D.ARM_ANCHOR_X + D.ARM_OFFSET_X - Math.abs(D.ARROW_W * Math.cos(o))), 
                n.y = this.enemy.y + 110 - D.ARM_ANCHOR_Y + D.ARROW_W * Math.sin(o), this.arrow.flyPoints = Ce.getLinePoints(i, n);
            } else this.arrow.flyPoints = Ce.getPoints(this.arrow.shootV, -this.aimAngle, i);
            this.changeAction(T.STAND);
        }
    }, n.prototype.aim = function() {
        this.attackType != A.THROW && (t.getTimer() - this._aimTime > 1e3 && (this._aimTime = t.getTimer(), 
        1 == at.MathUtils.random(1, 2) ? this._aimDir = 1 : this._aimDir = -1), 1 == this._aimDir ? this.aimAngle += .5 : this.aimAngle -= .5, 
        this.aimAngle <= 155 ? this._aimDir = 1 : this.aimAngle > 210 && (this._aimDir = -1), 
        this.arrow && this.arrow.setRotation(this.aimAngle), this.setRotation(this.aimAngle));
    }, n.prototype.addArrow = function() {
        this.arrow && 1 == this.arrow.state && (this.arrow.dispose(), this.arrow = null), 
        this.arrowUp && 1 == this.arrowUp.state && (this.arrowUp.dispose(), this.arrowUp = null), 
        this.arrowDown && 1 == this.arrowDown.state && (this.arrowDown.dispose(), this.arrowDown = null);
        var t = new ie(this, this.enemy);
        if (this.arrow = t, this.arrow.setPos(0, 0), this.addChild(this.arrow), at.ArrowList.addArrow(this.arrow), 
        this.isThreeArrow) {
            var e = new ie(this, this.enemy);
            this.arrowUp = e, this.arrowUp.setPos(0, 0), this.addChild(this.arrowUp), at.ArrowList.addArrow(this.arrowUp), 
            this.arrowUp.setRotation(-this.angleD);
            var i = new ie(this, this.enemy);
            this.arrowDown = i, this.arrowDown.setPos(0, 0), this.addChild(this.arrowDown), 
            at.ArrowList.addArrow(this.arrowDown), this.arrowDown.setRotation(this.angleD);
        } else this.arrowUp && (this.arrowUp = null), this.arrowDown && (this.arrowDown = null);
    }, n.prototype.setShootData = function(t, e) {
        this.arrow.shootH = t, this.arrow.shootV = Math.abs(e), this.arrow.shootV < 150 && (this.arrow.shootV = 150), 
        this.arrow.shootV > 300 && (this.arrow.shootV = 300), this.arrow.shootV = this.arrow.shootV / 300 * 250, 
        this.arrowUp && (this.arrowUp.shootH = t, this.arrowUp.shootV = Math.abs(e), this.arrowUp.shootV < 150 && (this.arrowUp.shootV = 150), 
        this.arrowUp.shootV > 300 && (this.arrowUp.shootV = 300), this.arrowUp.shootV = this.arrowUp.shootV / 300 * 250), 
        this.arrowDown && (this.arrowDown.shootH = t, this.arrowDown.shootV = Math.abs(e), 
        this.arrowDown.shootV < 150 && (this.arrowDown.shootV = 150), this.arrowDown.shootV > 300 && (this.arrowDown.shootV = 300), 
        this.arrowDown.shootV = this.arrowDown.shootV / 300 * 250);
    }, n.prototype.setArrowRotation = function(t) {
        this.arrow.setRotation(t), this.arrowUp && this.arrowUp.setRotation(t - this.angleD), 
        this.arrowDown && this.arrowDown.setRotation(t + this.angleD);
    }, n.prototype.addBuff = function(t) {
        if (t.type == b.GOLD) this.isMe && (at.myGold = at.myGold + 1); else if (t.type == b.PROTECTOR) this.addProtector(); else if (t.type == b.DODGE_LIE_DOWN) this.isMe && (at.myPropLieDown = at.myPropLieDown + 1); else if (t.type == b.FROZEN) this.isMe && this.enemy.setFrozen(); else if (t.type == b.BOMB) {
            var e;
            (e = new oe("baozha")).x = t.x, e.y = t.y, e.play("baozha"), at.LayerManager.arrowLayer.addChild(e), 
            this.enemy.protectorNum > 0 ? (at.SoundManager.playEffect("hitprotectorprop"), this.enemy.reduceProtector()) : this.enemy.die();
        }
    }, n.prototype.removeArrow = function() {
        this.arrow && (this.arrow.dispose(), this.arrow = null), this.arrowUp && (this.arrowUp.dispose(), 
        this.arrowUp = null), this.arrowDown && (this.arrowDown.dispose(), this.arrowDown = null);
    }, n.prototype.setFrozen = function() {
        this.isFrozen = !0, this.state = k.STAND, this.removeArrow(), null == this.frozenImg && (this.frozenImg = new eui.Image(), 
        this.frozenImg.texture = RES.getRes("prop5"), this.frozenImg.anchorOffsetX = .5 * this.frozenImg.width, 
        this.frozenImg.anchorOffsetY = this.frozenImg.height - 10, this.frozenImg.x = this.standImg.x, 
        this.frozenImg.y = this.standImg.y), null == this.frozenImg.parent && this.addChild(this.frozenImg), 
        this.frozenTime > 0 && (t.clearTimeout(this.frozenTime), this.frozenTime = 0), this.frozenTime = t.setTimeout(this.setUnfrozen, this, 3e3);
    }, n.prototype.setUnfrozen = function() {
        this.frozenTime = 0, this.isFrozen = !1, this.frozenImg && this.frozenImg.parent && this.frozenImg.parent.removeChild(this.frozenImg);
    }, n.prototype.addProtector = function() {
        this.protectorNum += 1, null == this.protectorImg && (this.protectorImg = new eui.Image(), 
        this.protectorImg.texture = RES.getRes("protector"), this.protectorImg.anchorOffsetX = .5 * this.protectorImg.width, 
        this.protectorImg.anchorOffsetY = this.protectorImg.height - 10, this.protectorImg.x = this.standImg.x, 
        this.protectorImg.y = this.standImg.y), null == this.protectorImg.parent && this.addChild(this.protectorImg), 
        this.isMe && Pt.updateMyProtector(this.protectorNum);
    }, n.prototype.reduceProtector = function() {
        --this.protectorNum < 0 && (this.protectorNum = 0), 0 == this.protectorNum && this.protectorImg && this.protectorImg.parent && this.protectorImg.parent.removeChild(this.protectorImg), 
        this.isMe && Pt.updateMyProtector(this.protectorNum);
    }, n.prototype.removeProtect = function() {
        this.protectorNum = 0, this.protectorImg && this.protectorImg.parent && this.protectorImg.parent.removeChild(this.protectorImg);
    }, n.prototype.move = function() {
        this.isFrozen || (this.y >= at.stage.stageHeight - this.height ? this.moveVY = -at.enemyMoveVY : this.y < 0 && (this.moveVY = at.enemyMoveVY), 
        this.y += this.moveVY);
    }, n.prototype.hideHpBar = function() {
        this.hpBar.visible = !1;
    }, n.prototype.changeRes = function(t, e) {
        if (void 0 === e && (e = 0), 0 != e && (this.roleId = e, this.roleType == B.MONSTER ? (1 == e ? (this.attackType = A.SHOOT, 
        this.attackImg.texture = RES.getRes("monster_attack" + e), this.armImg.texture = RES.getRes("monster_arm" + e), 
        this.armImg.visible = !0, this.attackImg.visible = !0, this.bowStandImg.visible = !0, 
        this.bowAttackImg.visible = !0) : (this.armImg.visible = !1, this.attackImg.visible = !1, 
        this.bowStandImg.visible = !1, this.bowAttackImg.visible = !1, this.attackType = A.THROW), 
        this.standImg.texture = RES.getRes("monster_stand" + e)) : (this.standImg.texture = RES.getRes("role_stand" + e), 
        this.attackImg.texture = RES.getRes("role_attack" + e), this.armImg.texture = RES.getRes("role_arm" + e)), 
        3 == this.roleId ? this.sex = 2 : this.sex = 1), 0 != t) {
            if (this.weaponId = t, this.roleType == B.MONSTER && this.attackType == A.THROW) return;
            this.bowStandImg.texture = RES.getRes("bow_stand" + t), this.bowAttackImg.texture = RES.getRes("bow_attack" + t);
        }
    }, n.prototype.duoShan = function(e) {
        this.isDead || (at.SoundManager.playEffect("dodge"), t.Tween.removeTweens(this.bodyC), 
        this.oldX = this.x, this.oldY = this.y, 2 == e ? this.y < .5 * at.stageH ? this.y = at.stageH - this.height : this.y = 0 : this.bodyC.rotation = 90, 
        t.setTimeout(function() {
            2 == e ? t.Tween.get(this).to({
                x: this.oldX,
                y: this.oldY
            }, 600, t.Ease.backOut) : t.Tween.get(this.bodyC).to({
                rotation: 0
            }, 600, t.Ease.backOut);
        }, this, 500));
    }, n.prototype.beAttackedEff = function() {
        0 != this.bodycTime1 && (t.clearTimeout(this.bodycTime1), this.bodycTime1 = 0), 
        t.Tween.removeTweens(this.bodyC), this.bodyC.rotation = 5, this.bodycTime1 = t.setTimeout(function() {
            t.Tween.get(this.bodyC).to({
                rotation: 0
            }, 600, t.Ease.backOut);
        }, this, 100);
    }, n.prototype.dieEff = function() {
        0 != this.bodycTime2 && (t.clearTimeout(this.bodycTime2), this.bodycTime2 = 0), 
        t.Tween.get(this.bodyC, {
            loop: !0
        }).to({
            alpha: 0
        }, 100).to({
            alpha: 1
        }, 100), this.bodycTime2 = t.setTimeout(function() {
            at.EffectUtils.stopTween(this.bodyC), this.bodyC.alpha = 1;
        }, this, 600);
    }, n.prototype.dispose = function() {}, n;
}(eui.Component);

e(re.prototype, "Role");

var se = function(e) {
    function n() {
        return e.call(this) || this;
    }
    return i(n, e), n.prototype.createBitmap = function(e) {
        var i = new t.Bitmap(), n = RES.getRes(e);
        return i.texture = n, i;
    }, n.prototype.createEuiImage = function(t) {
        var e = new eui.Image(), i = RES.getRes(t);
        return e.source = i, e;
    }, n.prototype.removeFromParent = function(t) {
        null != t.parent && t.parent.removeChild(t);
    }, n;
}(r);

e(se.prototype, "DisplayUtils");

var ae = function(e) {
    function n() {
        return e.call(this) || this;
    }
    return i(n, e), n.prototype.startFlicker = function(e, i) {
        var n = this;
        !function o() {
            var r = t.Tween.get(e);
            r.to({
                scaleX: 1,
                scaleY: 1
            }, i), r.wait(300), r.to({
                scaleX: .9,
                scaleY: .9
            }, i), r.call(o, n);
        }();
    }, n.prototype.startScoreEffect = function(e, i) {
        e.scaleX = e.scaleY = 0, e.alpha = 1;
        var n = t.Tween.get(e);
        n.to({
            scaleX: 1,
            scaleY: 1
        }, i, t.Ease.backOut), n.wait(300);
        e.y = 216, n.to({
            y: e.y - 60,
            alpha: 0
        }, i);
    }, n.prototype.stopTween = function(e) {
        t.Tween.removeTweens(e);
    }, n.prototype.macIconShake = function(t, e) {
        for (var i = [ [ 20, 300 ], [ 15, 300 ], [ 10, 300 ], [ 5, 300 ] ], n = "egret.Tween.get(" + t + ")", o = 0, r = i.length; r > o; o++) n += ".to({'y':" + e + "-" + i[o][0] + "}, " + i[o][1] + ")", 
        n += ".to({'y':" + e + "}, " + i[o][1] + ")";
        return n += ";";
    }, n.prototype.startFlash = function(e, i) {
        e.alpha = 1, t.Tween.get(e).to({
            alpha: 0
        }, i).to({
            alpha: 1
        }, i).call(this.startFlash, this, [ e ]);
    }, n.prototype.attackEffect = function(e, i) {
        var n = e.scaleX;
        e.scaleX = e.scaleY = 0, t.Tween.get(e).to({
            scaleX: n,
            scaleY: 1
        }, i, t.Ease.backOut);
    }, n;
}(r);

e(ae.prototype, "EffectUtils");

var he = function() {
    function t() {}
    return t.getOptions = function() {
        return getOptions();
    }, t.getDataParams = function() {
        return getDataParams();
    }, t;
}();

e(he.prototype, "EnterGameWeb");

var le = function() {
    function e() {}
    return e.glowFilter = function(e, i, n, o, r, s, a, h) {
        return void 0 === e && (e = 3394815), void 0 === i && (i = .8), void 0 === n && (n = 35), 
        void 0 === o && (o = 35), void 0 === r && (r = 2), void 0 === s && (s = 3), void 0 === a && (a = !1), 
        void 0 === h && (h = !1), new t.GlowFilter(e, i, n, o, r, s, a, h);
    }, e.GRAY_FILTER = new t.ColorMatrixFilter([ .3, .6, 0, 0, 0, .3, .6, 0, 0, 0, .3, .6, 0, 0, 0, 0, 0, 0, 1, 0 ]), 
    e.RED_FILTER = new t.ColorMatrixFilter([ 1, 0, 0, 0, 100, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0 ]), 
    e.GREEN_FILTER = new t.ColorMatrixFilter([ 1, 0, 0, 0, 0, 0, 2, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0 ]), 
    e.BLUE_FILTER = new t.ColorMatrixFilter([ 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 100, 0, 0, 0, 1, 0 ]), 
    e.GREEN = 255, e.RED = 16711680, e.BLUE = 65280, e;
}();

e(le.prototype, "FilterUtil");

var ce = function() {
    function e() {
        this._request = new t.URLRequest(), this._request.method = t.URLRequestMethod.GET, 
        this._urlLoader = new t.URLLoader(), this._urlLoader.addEventListener(t.IOErrorEvent.IO_ERROR, this.onError, this);
    }
    return e.prototype.onError = function(t) {
        this._isRequesting = !1;
    }, e.prototype.send = function(t, e, i, n) {
        this._urlVariables = i, this._serverUrl = t, this._compFunc = e, this._thisObject = n, 
        this.post();
    }, e.prototype.post = function() {
        this._isRequesting || (this._request.url = this._serverUrl, this._request.data = this._urlVariables, 
        this._request.method = t.URLRequestMethod.POST, this._urlLoader.addEventListener(t.Event.COMPLETE, this.onLoaderComplete, this), 
        this._urlLoader.addEventListener(t.IOErrorEvent.IO_ERROR, this.onLoaderError, this), 
        this._urlLoader.load(this._request), this._isRequesting = !0);
    }, e.prototype.onLoaderComplete = function(e) {
        this._urlLoader.removeEventListener(t.Event.COMPLETE, this.onLoaderComplete, this), 
        this._urlLoader.removeEventListener(t.IOErrorEvent.IO_ERROR, this.onLoaderError, this);
        var i = this._urlLoader.data;
        i && this._compFunc && this._compFunc(i, this._thisObject), this._isRequesting = !1;
    }, e.prototype.onLoaderError = function(e) {
        console.log("onLoaderError"), this._urlLoader.removeEventListener(t.Event.COMPLETE, this.onLoaderComplete, this), 
        this._urlLoader.removeEventListener(t.IOErrorEvent.IO_ERROR, this.onLoaderError, this), 
        this._compFunc && this._compFunc('{"error":1}', this._thisObject);
    }, e;
}();

e(ce.prototype, "HttpData");

var ue = function(t) {
    function e() {
        return null !== t && t.apply(this, arguments) || this;
    }
    return i(e, t), e.prototype.getAngle = function(t) {
        return 180 * t / Math.PI;
    }, e.prototype.getRadian = function(t) {
        return t / 180 * Math.PI;
    }, e.prototype.getRadian2 = function(t, e, i, n) {
        var o = i - t, r = n - e;
        return Math.atan2(r, o);
    }, e.prototype.getRadian3 = function(t, e, i, n) {
        var o = i - t, r = n - e;
        return this.getAngle(Math.atan2(r, o));
    }, e.prototype.getDistance = function(t, e, i, n) {
        var o = i - t, r = n - e, s = o * o + r * r;
        return Math.sqrt(s);
    }, e.prototype.checkRange = function(t, e, i) {
        return e > t ? e : t > i ? i : t;
    }, e.prototype.getRandomDir = function() {
        return 2 * Math.round(2 * Math.random()) - 1;
    }, e.prototype.random = function(t, e) {
        return t = Math.round(t), e = Math.round(e), Math.round(Math.random() * (e - t)) + t;
    }, e.prototype.contains = function(t, e, i) {
        return t >= e && i >= t;
    }, e.prototype.forceInclude = function(t, e, i) {
        return e > t ? e : t > i ? i : t;
    }, e.prototype.adjustNumStr = function(t, e, i) {
        void 0 === i && (i = !1);
        var n = t.toFixed(e);
        return i ? n : String(Number(n));
    }, e.prototype.adjustPerNumStr = function(t, e, i, n) {
        return void 0 === i && (i = !1), void 0 === n && (n = "%"), this.adjustNumStr(100 * t, e, i) + n;
    }, e.prototype.numberStr = function(t) {
        return t > 1e3 ? Number(t / 1e3).toFixed(0) + "K" : t + "";
    }, e.prototype.randomInArr = function(t, e) {
        for (var i = [], n = 0; n < t.length; n++) n != e && i.push(t[n]);
        return i.length > 0 ? i[at.MathUtils.random(0, i.length - 1)] : null;
    }, e;
}(r);

e(ue.prototype, "MathUtils");

var pe = function() {
    function t() {
        this.hexcase = 0, this.b64pad = "";
    }
    return t.prototype.hex_md5 = function(t) {
        return this.rstr2hex(this.rstr_md5(this.str2rstr_utf8(t)));
    }, t.prototype.b64_md5 = function(t) {
        return this.rstr2b64(this.rstr_md5(this.str2rstr_utf8(t)));
    }, t.prototype.any_md5 = function(t, e) {
        return this.rstr2any(this.rstr_md5(this.str2rstr_utf8(t)), e);
    }, t.prototype.hex_hmac_md5 = function(t, e) {
        return this.rstr2hex(this.rstr_hmac_md5(this.str2rstr_utf8(t), this.str2rstr_utf8(e)));
    }, t.prototype.b64_hmac_md5 = function(t, e) {
        return this.rstr2b64(this.rstr_hmac_md5(this.str2rstr_utf8(t), this.str2rstr_utf8(e)));
    }, t.prototype.any_hmac_md5 = function(t, e, i) {
        return this.rstr2any(this.rstr_hmac_md5(this.str2rstr_utf8(t), this.str2rstr_utf8(e)), i);
    }, t.prototype.md5_vm_test = function() {
        return "900150983cd24fb0d6963f7d28e17f72" == this.hex_md5("abc").toLowerCase();
    }, t.prototype.rstr_md5 = function(t) {
        return this.binl2rstr(this.binl_md5(this.rstr2binl(t), 8 * t.length));
    }, t.prototype.rstr_hmac_md5 = function(t, e) {
        var i = this.rstr2binl(t);
        i.length > 16 && (i = this.binl_md5(i, 8 * t.length));
        for (var n = Array(16), o = Array(16), r = 0; 16 > r; r++) n[r] = 909522486 ^ i[r], 
        o[r] = 1549556828 ^ i[r];
        var s = this.binl_md5(n.concat(this.rstr2binl(e)), 512 + 8 * e.length);
        return this.binl2rstr(this.binl_md5(o.concat(s), 640));
    }, t.prototype.rstr2hex = function(t) {
        try {
            this.hexcase;
        } catch (t) {
            this.hexcase = 0;
        }
        for (var e, i = this.hexcase ? "0123456789ABCDEF" : "0123456789abcdef", n = "", o = 0; o < t.length; o++) e = t.charCodeAt(o), 
        n += i.charAt(e >>> 4 & 15) + i.charAt(15 & e);
        return n;
    }, t.prototype.rstr2b64 = function(t) {
        try {
            this.b64pad;
        } catch (t) {
            this.b64pad = "";
        }
        for (var e = "", i = t.length, n = 0; i > n; n += 3) for (var o = t.charCodeAt(n) << 16 | (i > n + 1 ? t.charCodeAt(n + 1) << 8 : 0) | (i > n + 2 ? t.charCodeAt(n + 2) : 0), r = 0; 4 > r; r++) e += 8 * n + 6 * r > 8 * t.length ? this.b64pad : "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(o >>> 6 * (3 - r) & 63);
        return e;
    }, t.prototype.rstr2any = function(t, e) {
        var i, n, o, r, s, a = e.length, h = Array(Math.ceil(t.length / 2));
        for (i = 0; i < h.length; i++) h[i] = t.charCodeAt(2 * i) << 8 | t.charCodeAt(2 * i + 1);
        var l = Math.ceil(8 * t.length / (Math.log(e.length) / Math.log(2))), c = Array(l);
        for (n = 0; l > n; n++) {
            for (s = Array(), r = 0, i = 0; i < h.length; i++) r = (r << 16) + h[i], r -= (o = Math.floor(r / a)) * a, 
            (s.length > 0 || o > 0) && (s[s.length] = o);
            c[n] = r, h = s;
        }
        var u = "";
        for (i = c.length - 1; i >= 0; i--) u += e.charAt(c[i]);
        return u;
    }, t.prototype.str2rstr_utf8 = function(t) {
        for (var e, i, n = "", o = -1; ++o < t.length; ) e = t.charCodeAt(o), i = o + 1 < t.length ? t.charCodeAt(o + 1) : 0, 
        e >= 55296 && 56319 >= e && i >= 56320 && 57343 >= i && (e = 65536 + ((1023 & e) << 10) + (1023 & i), 
        o++), 127 >= e ? n += String.fromCharCode(e) : 2047 >= e ? n += String.fromCharCode(192 | e >>> 6 & 31, 128 | 63 & e) : 65535 >= e ? n += String.fromCharCode(224 | e >>> 12 & 15, 128 | e >>> 6 & 63, 128 | 63 & e) : 2097151 >= e && (n += String.fromCharCode(240 | e >>> 18 & 7, 128 | e >>> 12 & 63, 128 | e >>> 6 & 63, 128 | 63 & e));
        return n;
    }, t.prototype.str2rstr_utf16le = function(t) {
        for (var e = "", i = 0; i < t.length; i++) e += String.fromCharCode(255 & t.charCodeAt(i), t.charCodeAt(i) >>> 8 & 255);
        return e;
    }, t.prototype.str2rstr_utf16be = function(t) {
        for (var e = "", i = 0; i < t.length; i++) e += String.fromCharCode(t.charCodeAt(i) >>> 8 & 255, 255 & t.charCodeAt(i));
        return e;
    }, t.prototype.rstr2binl = function(t) {
        for (var e = Array(t.length >> 2), i = 0; i < e.length; i++) e[i] = 0;
        for (i = 0; i < 8 * t.length; i += 8) e[i >> 5] |= (255 & t.charCodeAt(i / 8)) << i % 32;
        return e;
    }, t.prototype.binl2rstr = function(t) {
        for (var e = "", i = 0; i < 32 * t.length; i += 8) e += String.fromCharCode(t[i >> 5] >>> i % 32 & 255);
        return e;
    }, t.prototype.binl_md5 = function(t, e) {
        t[e >> 5] |= 128 << e % 32, t[14 + (e + 64 >>> 9 << 4)] = e;
        for (var i = 1732584193, n = -271733879, o = -1732584194, r = 271733878, s = 0; s < t.length; s += 16) {
            var a = i, h = n, l = o, c = r;
            i = this.md5_ff(i, n, o, r, t[s + 0], 7, -680876936), r = this.md5_ff(r, i, n, o, t[s + 1], 12, -389564586), 
            o = this.md5_ff(o, r, i, n, t[s + 2], 17, 606105819), n = this.md5_ff(n, o, r, i, t[s + 3], 22, -1044525330), 
            i = this.md5_ff(i, n, o, r, t[s + 4], 7, -176418897), r = this.md5_ff(r, i, n, o, t[s + 5], 12, 1200080426), 
            o = this.md5_ff(o, r, i, n, t[s + 6], 17, -1473231341), n = this.md5_ff(n, o, r, i, t[s + 7], 22, -45705983), 
            i = this.md5_ff(i, n, o, r, t[s + 8], 7, 1770035416), r = this.md5_ff(r, i, n, o, t[s + 9], 12, -1958414417), 
            o = this.md5_ff(o, r, i, n, t[s + 10], 17, -42063), n = this.md5_ff(n, o, r, i, t[s + 11], 22, -1990404162), 
            i = this.md5_ff(i, n, o, r, t[s + 12], 7, 1804603682), r = this.md5_ff(r, i, n, o, t[s + 13], 12, -40341101), 
            o = this.md5_ff(o, r, i, n, t[s + 14], 17, -1502002290), n = this.md5_ff(n, o, r, i, t[s + 15], 22, 1236535329), 
            i = this.md5_gg(i, n, o, r, t[s + 1], 5, -165796510), r = this.md5_gg(r, i, n, o, t[s + 6], 9, -1069501632), 
            o = this.md5_gg(o, r, i, n, t[s + 11], 14, 643717713), n = this.md5_gg(n, o, r, i, t[s + 0], 20, -373897302), 
            i = this.md5_gg(i, n, o, r, t[s + 5], 5, -701558691), r = this.md5_gg(r, i, n, o, t[s + 10], 9, 38016083), 
            o = this.md5_gg(o, r, i, n, t[s + 15], 14, -660478335), n = this.md5_gg(n, o, r, i, t[s + 4], 20, -405537848), 
            i = this.md5_gg(i, n, o, r, t[s + 9], 5, 568446438), r = this.md5_gg(r, i, n, o, t[s + 14], 9, -1019803690), 
            o = this.md5_gg(o, r, i, n, t[s + 3], 14, -187363961), n = this.md5_gg(n, o, r, i, t[s + 8], 20, 1163531501), 
            i = this.md5_gg(i, n, o, r, t[s + 13], 5, -1444681467), r = this.md5_gg(r, i, n, o, t[s + 2], 9, -51403784), 
            o = this.md5_gg(o, r, i, n, t[s + 7], 14, 1735328473), n = this.md5_gg(n, o, r, i, t[s + 12], 20, -1926607734), 
            i = this.md5_hh(i, n, o, r, t[s + 5], 4, -378558), r = this.md5_hh(r, i, n, o, t[s + 8], 11, -2022574463), 
            o = this.md5_hh(o, r, i, n, t[s + 11], 16, 1839030562), n = this.md5_hh(n, o, r, i, t[s + 14], 23, -35309556), 
            i = this.md5_hh(i, n, o, r, t[s + 1], 4, -1530992060), r = this.md5_hh(r, i, n, o, t[s + 4], 11, 1272893353), 
            o = this.md5_hh(o, r, i, n, t[s + 7], 16, -155497632), n = this.md5_hh(n, o, r, i, t[s + 10], 23, -1094730640), 
            i = this.md5_hh(i, n, o, r, t[s + 13], 4, 681279174), r = this.md5_hh(r, i, n, o, t[s + 0], 11, -358537222), 
            o = this.md5_hh(o, r, i, n, t[s + 3], 16, -722521979), n = this.md5_hh(n, o, r, i, t[s + 6], 23, 76029189), 
            i = this.md5_hh(i, n, o, r, t[s + 9], 4, -640364487), r = this.md5_hh(r, i, n, o, t[s + 12], 11, -421815835), 
            o = this.md5_hh(o, r, i, n, t[s + 15], 16, 530742520), n = this.md5_hh(n, o, r, i, t[s + 2], 23, -995338651), 
            i = this.md5_ii(i, n, o, r, t[s + 0], 6, -198630844), r = this.md5_ii(r, i, n, o, t[s + 7], 10, 1126891415), 
            o = this.md5_ii(o, r, i, n, t[s + 14], 15, -1416354905), n = this.md5_ii(n, o, r, i, t[s + 5], 21, -57434055), 
            i = this.md5_ii(i, n, o, r, t[s + 12], 6, 1700485571), r = this.md5_ii(r, i, n, o, t[s + 3], 10, -1894986606), 
            o = this.md5_ii(o, r, i, n, t[s + 10], 15, -1051523), n = this.md5_ii(n, o, r, i, t[s + 1], 21, -2054922799), 
            i = this.md5_ii(i, n, o, r, t[s + 8], 6, 1873313359), r = this.md5_ii(r, i, n, o, t[s + 15], 10, -30611744), 
            o = this.md5_ii(o, r, i, n, t[s + 6], 15, -1560198380), n = this.md5_ii(n, o, r, i, t[s + 13], 21, 1309151649), 
            i = this.md5_ii(i, n, o, r, t[s + 4], 6, -145523070), r = this.md5_ii(r, i, n, o, t[s + 11], 10, -1120210379), 
            o = this.md5_ii(o, r, i, n, t[s + 2], 15, 718787259), n = this.md5_ii(n, o, r, i, t[s + 9], 21, -343485551), 
            i = this.safe_add(i, a), n = this.safe_add(n, h), o = this.safe_add(o, l), r = this.safe_add(r, c);
        }
        return [ i, n, o, r ];
    }, t.prototype.md5_cmn = function(t, e, i, n, o, r) {
        return this.safe_add(this.bit_rol(this.safe_add(this.safe_add(e, t), this.safe_add(n, r)), o), i);
    }, t.prototype.md5_ff = function(t, e, i, n, o, r, s) {
        return this.md5_cmn(e & i | ~e & n, t, e, o, r, s);
    }, t.prototype.md5_gg = function(t, e, i, n, o, r, s) {
        return this.md5_cmn(e & n | i & ~n, t, e, o, r, s);
    }, t.prototype.md5_hh = function(t, e, i, n, o, r, s) {
        return this.md5_cmn(e ^ i ^ n, t, e, o, r, s);
    }, t.prototype.md5_ii = function(t, e, i, n, o, r, s) {
        return this.md5_cmn(i ^ (e | ~n), t, e, o, r, s);
    }, t.prototype.safe_add = function(t, e) {
        var i = (65535 & t) + (65535 & e);
        return (t >> 16) + (e >> 16) + (i >> 16) << 16 | 65535 & i;
    }, t.prototype.bit_rol = function(t, e) {
        return t << e | t >>> 32 - e;
    }, t;
}();

e(pe.prototype, "md5");

var de = function(e) {
    function n(t) {
        var i = e.call(this) || this;
        return i.type = t, i.dict = {}, i.eVec = new Array(), i.lastRunTime = 0, 0 == i.type && at.TimerManager.doFrame(1, 0, i.run, i), 
        i;
    }
    return i(n, e), n.prototype.clear = function() {
        this.dict = {}, this.eVec.splice(0);
    }, n.prototype.addListener = function(t, e, i) {
        var n = this.dict[t];
        null == n && (n = new Array(), this.dict[t] = n);
        var o = 0, r = n.length;
        for (o; r > o; o++) if (n[o][0] == e && n[o][1] == i) return;
        n.push([ e, i ]);
    }, n.prototype.removeListener = function(t, e, i) {
        var n = this.dict[t];
        if (null != n) {
            var o = 0, r = n.length;
            for (o; r > o; o++) if (n[o][0] == e && n[o][1] == i) {
                n.splice(o, 1);
                break;
            }
            0 == n.length && (this.dict[t] = null, delete this.dict[t]);
        }
    }, n.prototype.removeAll = function(t) {
        for (var e = Object.keys(this.dict), i = 0, n = e.length; n > i; i++) {
            for (var o = e[i], r = this.dict[o], s = 0; s < r.length; s++) r[s][1] == t && (r.splice(s, 1), 
            s--);
            0 == r.length && (this.dict[o] = null, delete this.dict[o]);
        }
    }, n.prototype.dispatch = function(t) {
        for (var e = [], i = 1; i < arguments.length; i++) e[i - 1] = arguments[i];
        if (null != this.dict[t]) {
            var n = me.pop("MessageVo");
            n.type = t, n.param = e, 0 == this.type ? this.eVec.push(n) : 1 == this.type && this.dealMsg(n);
        }
    }, n.prototype.run = function() {
        var e = t.getTimer(), i = e - this.lastRunTime > 100;
        if (this.lastRunTime = e, i) for (;this.eVec.length > 0; ) this.dealMsg(this.eVec.shift()); else for (;this.eVec.length > 0 && (this.dealMsg(this.eVec.shift()), 
        !(t.getTimer() - e > 5)); ) ;
    }, n.prototype.dealMsg = function(t) {
        var e, i = this.dict[t.type], n = 0;
        e = null == i ? 0 : i.length;
        for (var o = null; e > n; ) (o = i[n])[0].apply(o[1], t.param), i.length != e && (e = i.length, 
        n--), n++;
        t.dispose(), me.push(t);
    }, n;
}(r);

e(de.prototype, "MessageCenter");

var ge = function() {
    function t() {}
    return t.prototype.dispose = function() {
        this.type = null, this.param = null;
    }, t;
}();

e(ge.prototype, "MessageVo"), window.MessageVo = ge;

var me = function() {
    function e() {
        this._objs = new Array();
    }
    return e.prototype.pushObj = function(t) {
        this._objs.push(t);
    }, e.prototype.popObj = function() {
        return this._objs.length > 0 ? this._objs.pop() : null;
    }, e.prototype.clear = function() {
        for (;this._objs.length > 0; ) this._objs.pop();
    }, e.pop = function(i) {
        for (var n = [], o = 1; o < arguments.length; o++) n[o - 1] = arguments[o];
        e._content[i] || (e._content[i] = []);
        var r = e._content[i];
        if (r.length) return r.pop();
        var s, a = t.getDefinitionByName(i), h = n.length;
        return 0 == h ? s = new a() : 1 == h ? s = new a(n[0]) : 2 == h ? s = new a(n[0], n[1]) : 3 == h ? s = new a(n[0], n[1], n[2]) : 4 == h ? s = new a(n[0], n[1], n[2], n[3]) : 5 == h && (s = new a(n[0], n[1], n[2], n[3], n[4])), 
        s.ObjectPoolKey = i, s;
    }, e.popWithExtraKey = function(i, n) {
        e._content[i] || (e._content[i] = []);
        var o, r = e._content[i];
        if (r.length) for (var s = 0; s < r.length; s++) if (r[s].extraKey == n) {
            o = r[s], r.splice(s, 1);
            break;
        }
        return o || ((o = new (t.getDefinitionByName(i))(n)).extraKey = n, o.ObjectPoolKey = i), 
        o;
    }, e.push = function(t) {
        if (null == t) return !1;
        var i = t.ObjectPoolKey;
        return !!e._content[i] && (e._content[i].push(t), !0);
    }, e.clear = function() {
        e._content = {};
    }, e.clearClass = function(t, i) {
        void 0 === i && (i = null);
        for (var n = e._content[t]; n && n.length; ) {
            var o = n.pop();
            i && o[i](), o = null;
        }
        e._content[t] = null, delete e._content[t];
    }, e.dealFunc = function(t, i) {
        var n = e._content[t];
        if (null != n) {
            var o = 0, r = n.length;
            for (o; r > o; o++) n[o][i]();
        }
    }, e._content = {}, e;
}();

e(me.prototype, "ObjectPool");

var fe = function(t) {
    function e() {
        return null !== t && t.apply(this, arguments) || this;
    }
    return i(e, t), e.prototype.limit = function(t, e) {
        t = Math.min(t, e);
        var i = (e = Math.max(t, e)) - t;
        return t + Math.random() * i;
    }, e.prototype.limitInteger = function(t, e) {
        return Math.round(this.limit(t, e));
    }, e.prototype.randomArray = function(t) {
        return t[Math.floor(Math.random() * t.length)];
    }, e;
}(r);

e(fe.prototype, "RandomUtils");

var ve = function() {
    function e() {}
    return e.commitActiveGame = function(e, i, n) {
        if (at.openid && at.userInfo) {
            var o = new pe().hex_md5(at.SIGNHEADER + at.SIGNSPIT3 + "commitActiveGame");
            o = o.substring(0, 16);
            var r = String(at.gameRankId) + at.openid + at.userInfo.nickName + at.userInfo.avatarUrl + String(e) + at.stagewidth + "_" + at.stageheight + o, s = new pe().hex_md5(r), a = new Object();
            a.gameRankId = at.gameRankId, a.openid = at.openid, a.nickName = at.userInfo.nickName, 
            a.avatarUrl = at.userInfo.avatarUrl, a.score = e, a.deviceSize = at.stagewidth + "_" + at.stageheight, 
            a.token = s;
            var h = new ce(), l = "?jsonValue=" + JSON.stringify(a), c = new t.URLVariables(l);
            h.send(at.url + "commitActiveGame" + l, i, c, n);
        }
    }, e.getVersionInfo = function(e, i) {
        if (at.openid) {
            var n = new pe().hex_md5(at.SIGNHEADER + at.SIGNSPIT6 + "getVersionInfo");
            n = n.substring(0, 16);
            var o = String(at.gameRankId) + at.openid + String(at.GAMEVERSION) + n, r = new pe().hex_md5(o), s = new Object();
            s.gameRankId = at.gameRankId, s.openid = at.openid, s.gameVersion = at.GAMEVERSION, 
            s.token = r;
            var a = new ce(), h = "?jsonValue=" + JSON.stringify(s), l = new t.URLVariables(h);
            a.send(at.url + "getVersionInfo" + h, e, l, i);
        }
    }, e.commitRank = function(e, i, n) {
        if (at.openid && at.userInfo) {
            var o = new pe().hex_md5(at.SIGNHEADER + at.SIGNSPIT1 + "commitRank");
            o = o.substring(0, 16);
            var r = String(at.gameRankId) + at.openid + at.userInfo.nickName + at.userInfo.avatarUrl + String(e) + o, s = new pe().hex_md5(r), a = new Object();
            a.gameRankId = at.gameRankId, a.openid = at.openid, a.nickName = at.userInfo.nickName, 
            a.avatarUrl = at.userInfo.avatarUrl, a.score = e, a.token = s;
            var h = new ce(), l = "?jsonValue=" + JSON.stringify(a), c = new t.URLVariables(l);
            h.send(at.url + "commitrank" + l, i, c, n);
        }
    }, e.getRankList = function(e, i) {
        var n = new Object();
        n.gameRankId = at.gameRankId;
        var o = new ce(), r = "?jsonValue=" + JSON.stringify(n), s = new t.URLVariables(r);
        o.send(at.url + "getranklist" + r, e, s, i);
    }, e.getExtensionValue = function(e, i) {
        var n = new Object();
        n.gameRankId = at.gameRankId, n.openid = at.openid;
        var o = new ce(), r = "?jsonValue=" + JSON.stringify(n), s = new t.URLVariables(r);
        o.send(at.url + "getuserparams" + r, e, s, i);
    }, e.setExtensionValue = function(e, i, n) {
        if (at.isSyncParams && at.openid) {
            var o = new pe().hex_md5(at.SIGNHEADER + at.SIGNSPIT2 + "setExtensionValue");
            o = o.substring(0, 16);
            var r = String(at.gameRankId) + at.openid + e + o, s = new pe().hex_md5(r), a = new Object();
            a.gameRankId = at.gameRankId, a.openid = at.openid, a.extensionValue = e, a.token = s;
            var h = new ce(), l = "?jsonValue=" + JSON.stringify(a), c = new t.URLVariables(l);
            h.send(at.url + "setuserparams" + l, n, c, i);
        }
    }, e.getServertime = function(t, e) {
        new ce().send(at.url + "getServertime", t, null, e);
    }, e.commitMoney = function(e, i, n, o, r) {
        if (at.openid && at.userInfo) {
            var s = new pe().hex_md5(at.SIGNHEADER + at.SIGNSPIT4 + "commitMoney");
            s = s.substring(0, 16);
            var a = String(at.gameRankId) + at.openid + at.userInfo.nickName + String(e) + String(i) + String(n) + s, h = new pe().hex_md5(a), l = new Object();
            l.gameRankId = at.gameRankId, l.openid = at.openid, l.nickName = at.userInfo.nickName, 
            l.money = e, l.phoneTxt = i, l.zhTxt = n, l.token = h;
            var c = new ce(), u = "?jsonValue=" + JSON.stringify(l), p = new t.URLVariables(u);
            c.send(at.url + "commitmoney" + u, r, p, o);
        }
    }, e.getinvitecode = function(e, i) {
        if (at.openid) {
            var n = new pe().hex_md5(at.SIGNHEADER + at.SIGNSPIT5 + "getinvitecode");
            n = n.substring(0, 16);
            var o = String(at.gameRankId) + at.openid + n, r = new pe().hex_md5(o), s = new Object();
            s.gameRankId = at.gameRankId, s.openid = at.openid, s.token = r;
            var a = new ce(), h = "?jsonValue=" + JSON.stringify(s), l = new t.URLVariables(h);
            a.send(at.url + "getinvitecode" + h, i, l, e);
        }
    }, e.setinvitecode = function(e, i, n, o) {
        if (at.openid && at.userInfo) {
            var r = new pe().hex_md5(at.SIGNHEADER + at.SIGNSPIT5 + "setinvitecode");
            r = r.substring(0, 16);
            var s = String(at.gameRankId) + at.openid + at.userInfo.nickName + i + e + r, a = new pe().hex_md5(s), h = new Object();
            h.gameRankId = at.gameRankId, h.code = e, h.openid = i, h.FInviteOpenId = at.openid, 
            h.FNickName = at.userInfo.nickName, h.FAvatarUrl = at.userInfo.avatarUrl, h.token = a;
            var l = new ce(), c = "?jsonValue=" + JSON.stringify(h), u = new t.URLVariables(c);
            l.send(at.url + "setinvitecode" + c, n, u, o);
        }
    }, e.getinvitelist = function(e, i) {
        if (at.openid) {
            var n = new Object();
            n.gameRankId = at.gameRankId, n.openid = at.openid;
            var o = new ce(), r = "?jsonValue=" + JSON.stringify(n), s = new t.URLVariables(r);
            o.send(at.url + "getinvitelist" + r, e, s, i);
        }
    }, e;
}();

e(ve.prototype, "RankUtils");

var ye = function(e) {
    function n() {
        var t = e.call(this) || this;
        return t._groupIndex = 0, t._configs = new Array(), t._groups = {}, RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE, t.onResourceLoadComplete, t), 
        RES.addEventListener(RES.ResourceEvent.GROUP_PROGRESS, t.onResourceLoadProgress, t), 
        RES.addEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR, t.onResourceLoadError, t), 
        t;
    }
    return i(n, e), n.prototype.addConfig = function(t, e) {
        this._configs.push([ t, e ]);
    }, n.prototype.loadConfig = function(t, e) {
        this._onConfigComplete = t, this._onConfigCompleteTarget = e, this.loadNextConfig();
    }, n.prototype.loadNextConfig = function() {
        if (0 == this._configs.length) return this._onConfigComplete.call(this._onConfigCompleteTarget), 
        this._onConfigComplete = null, void (this._onConfigCompleteTarget = null);
        var t = this._configs.shift();
        RES.addEventListener(RES.ResourceEvent.CONFIG_COMPLETE, this.onConfigCompleteHandle, this), 
        RES.loadConfig(t[0], at.cdn);
    }, n.prototype.onConfigCompleteHandle = function(t) {
        RES.removeEventListener(RES.ResourceEvent.CONFIG_COMPLETE, this.onConfigCompleteHandle, this), 
        this.loadNextConfig();
    }, n.prototype.loadGroup = function(t, e, i, n) {
        this._groups[t] = [ e, i, n ], RES.loadGroup(t);
    }, n.prototype.loadGroups = function(t, e, i, n, o) {
        RES.createGroup(t, e, !0), this.loadGroup(t, i, n, o);
    }, n.prototype.pilfererLoadGroup = function(t, e) {
        void 0 === e && (e = null);
        var i = "pilferer_" + t;
        e || (e = [ t ]), RES.createGroup(i, e, !0), RES.loadGroup(i, -1);
    }, n.prototype.onResourceLoadComplete = function(t) {
        var e = t.groupName;
        if (this._groups[e]) {
            var i = this._groups[e][0], n = this._groups[e][2];
            null != i && i.call(n), this._groups[e] = null, delete this._groups[e];
        }
    }, n.prototype.onResourceLoadProgress = function(t) {
        var e = t.groupName;
        if (this._groups[e]) {
            var i = this._groups[e][1], n = this._groups[e][2];
            null != i && i.call(n, t.itemsLoaded, t.itemsTotal);
        }
    }, n.prototype.onResourceLoadError = function(t) {
        console.log(t.groupName + "资源组有资源加载失败"), this.onResourceLoadComplete(t);
    }, n.prototype.loadResource = function(t, e, i, n, o) {
        void 0 === t && (t = []), void 0 === e && (e = []), void 0 === i && (i = null), 
        void 0 === n && (n = null), void 0 === o && (o = null);
        var r = t.concat(e), s = "loadGroup" + this._groupIndex++;
        RES.createGroup(s, r, !0), this._groups[s] = [ i, n, o ], RES.loadGroup(s);
    }, n.prototype.getBitmap = function(e, i, n, o) {
        void 0 === o && (o = !0);
        var r = new t.Bitmap(RES.getRes(e));
        return o && (r.anchorOffsetX = r.width / 2, r.anchorOffsetY = r.height / 2), r.x = i, 
        r.y = n, r;
    }, n.prototype.getMCDataByHeroNo = function(e) {
        var i;
        i = e + "_png";
        var n;
        n = e + "_json";
        var o = RES.getRes(i), r = RES.getRes(n);
        return new t.MovieClipDataFactory(r, o).generateMovieClipData(e + "");
    }, n;
}(r);

e(ye.prototype, "ResourceUtils");

var _e = function() {
    function e() {}
    return e.getChar = function(e, i) {
        var n = new t.ByteArray();
        return n.writeUTFBytes(e), n.length <= i ? e : (n.position = 0, n.readUTFBytes(i) + "...");
    }, e;
}();

e(_e.prototype, "StringUtils");

var we = function(e) {
    function n() {
        return null !== e && e.apply(this, arguments) || this;
    }
    return i(n, e), n.prototype.init = function(e) {
        this._stage || (this._ticks = [], this._stage = e, this._stage.addEventListener(t.Event.ENTER_FRAME, this.onTickHandler, this));
    }, n.prototype.onTickHandler = function(t) {
        for (var e = 0, i = this._ticks; e < i.length; e++) {
            var n = i[e];
            n && n.update();
        }
    }, n.prototype.addTick = function(t) {
        this._ticks.indexOf(t) >= 0 || this._ticks.push(t);
    }, n.prototype.removeTick = function(t) {
        var e = this._ticks.indexOf(t);
        e >= 0 && this._ticks.splice(e, 1);
    }, n.prototype.inTick = function(t) {
        return this._ticks.indexOf(t) >= 0;
    }, n;
}(r);

e(we.prototype, "TickManager");

var Ee = function(e) {
    function n() {
        var i = e.call(this) || this;
        return i._handlers = new Array(), i._delHandlers = new Array(), i._currTime = t.getTimer(), 
        i._currFrame = 0, i._count = 0, i._timeScale = 1, t.Ticker.getInstance().register(i.onEnterFrame, i), 
        i;
    }
    return i(n, e), n.prototype.setTimeScale = function(t) {
        this._timeScale = t;
    }, n.prototype.onEnterFrame = function() {
        this._currFrame++, this._currTime = t.getTimer();
        for (var e = 0; e < this._count; e++) ((i = this._handlers[e]).userFrame ? this._currFrame : this._currTime) >= i.exeTime && (i.method.call(i.methodObj, (this._currTime - i.dealTime) * this._timeScale), 
        i.dealTime = this._currTime, i.exeTime += i.delay, i.repeat || (i.repeatCount > 1 ? i.repeatCount-- : (i.complateMethod && i.complateMethod.apply(i.complateMethodObj), 
        this._delHandlers.push(i))));
        for (;this._delHandlers.length; ) {
            var i = this._delHandlers.pop();
            this.remove(i.method, i.methodObj);
        }
    }, n.prototype.create = function(t, e, i, n, o, r, s) {
        if (!(0 > e || 0 > i || null == n)) {
            this.remove(n, o);
            var a = me.pop("TimerHandler");
            a.userFrame = t, a.repeat = 0 == i, a.repeatCount = i, a.delay = e, a.method = n, 
            a.methodObj = o, a.complateMethod = r, a.complateMethodObj = s, a.exeTime = e + (t ? this._currFrame : this._currTime), 
            a.dealTime = this._currTime, this._handlers.push(a), this._count++;
        }
    }, n.prototype.doTimer = function(t, e, i, n, o, r) {
        void 0 === n && (n = null), void 0 === o && (o = null), void 0 === r && (r = null), 
        this.create(!1, t, e, i, n, o, r);
    }, n.prototype.doFrame = function(t, e, i, n, o, r) {
        void 0 === o && (o = null), void 0 === r && (r = null), this.create(!0, t, e, i, n, o, r);
    }, Object.defineProperty(n.prototype, "count", {
        get: function() {
            return this._count;
        },
        enumerable: !0,
        configurable: !0
    }), n.prototype.remove = function(t, e) {
        for (var i = 0; i < this._count; i++) {
            var n = this._handlers[i];
            if (n.method == t && n.methodObj == e) {
                this._handlers.splice(i, 1), me.push(n), this._count--;
                break;
            }
        }
    }, n.prototype.removeAll = function(t) {
        for (var e = 0; e < this._count; e++) {
            var i = this._handlers[e];
            i.methodObj == t && (this._handlers.splice(e, 1), me.push(i), this._count--, e--);
        }
    }, n.prototype.isExists = function(t, e) {
        for (var i = 0; i < this._count; i++) {
            var n = this._handlers[i];
            if (n.method == t && n.methodObj == e) return !0;
        }
        return !1;
    }, n;
}(r);

e(Ee.prototype, "TimerManager");

var Te = function() {
    function t() {
        this.delay = 0, this.repeatCount = 0, this.exeTime = 0, this.dealTime = 0;
    }
    return t.prototype.clear = function() {
        this.method = null, this.methodObj = null, this.complateMethod = null, this.complateMethodObj = null;
    }, t;
}();

e(Te.prototype, "TimerHandler"), window.TimerHandler = Te;

var Se = function() {
    function t() {}
    return t.getVYDown = function(t) {
        return t += this.G, t *= this.F1;
    }, t.getVYUp = function(t) {
        return t += this.G2, t *= 1.1;
    }, t.getPao = function(t) {
        return 1 > (t -= .5) && (t = 1), t;
    }, t.speedDownHori = function(t) {
        return .1 > (t -= .5) && (t = .1), t;
    }, t.F1 = .97, t.G = .98, t.G2 = .5, t;
}();

e(Se.prototype, "FreeFallUtil");

var Ae = function() {
    function e() {}
    return e.getPoints = function(e, i, n, o, r) {
        void 0 === o && (o = 1), void 0 === r && (r = !1);
        var s, a, h = [], l = i.x - e.x, c = e.x, u = e.y, p = i.x, d = i.y;
        1 == o ? (s = n.x, a = n.y) : (s = i.x + l, a = e.y), e.x == i.x && (l = n.x - i.x, 
        c = i.x - l, u = n.y, s = n.x, a = n.y);
        var g = 0, m = 0, f = 0;
        if ((c - s) * (c * c - p * p) - (c - p) * (c * c - s * s) == 0 || Math.abs(c - p) <= 5) return h;
        f = u - (g = (u - d - (m = ((u - a) * (c * c - p * p) - (u - d) * (c * c - s * s)) / ((c - s) * (c * c - p * p) - (c - p) * (c * c - s * s))) * (c - p)) / (c * c - p * p)) * c * c - m * c;
        var v, y, _ = at.upVy;
        r && (_ = 10), y = i.y;
        for (var w = !1; !w; ) r || (_ = Se.getVYUp(_)), y += _, (y = Number(y.toFixed(1))) >= u && (y = u, 
        w = !0), l > 0 ? (v = .5 * (-m - Math.sqrt(Math.abs(m * m - 4 * g * (f - y)))) / g, 
        (v = Number(v.toFixed(1))) <= e.x && (v = e.x, w = !0), n.x >= v && h.push(new t.Point(v, y))) : (v = .5 * (-m + Math.sqrt(Math.abs(m * m - 4 * g * (f - y)))) / g, 
        (v = Number(v.toFixed(1))) >= e.x && (v = e.x, w = !0), n.x <= v && h.push(new t.Point(v, y)));
        if (h.reverse(), l > 0) {
            if (n.x <= i.x) return h;
        } else if (n.x >= i.x) return h;
        for (y = i.y, _ = at.downVy, h.push(new t.Point(i.x, i.y)); v > 0 && v < at.stageW && y > 0 && y < at.stageH; ) y += _ = Se.getVYDown(_), 
        (y = Number(y.toFixed(1))) >= n.y && (y = n.y, !0), l > 0 ? (v = .5 * (-m + Math.sqrt(Math.abs(m * m - 4 * g * (f - y)))) / g, 
        v = Number(v.toFixed(1)), n.x > 0 && v >= n.x && (v = n.x), h.push(new t.Point(v, y))) : (v = .5 * (-m - Math.sqrt(Math.abs(m * m - 4 * g * (f - y)))) / g, 
        v = Number(v.toFixed(1)), n.x > 0 && v <= n.x && (v = n.x), h.push(new t.Point(v, y)));
        return h;
    }, e;
}();

e(Ae.prototype, "ParabolaUtil");

var Ce = function() {
    function e() {}
    return e.getPoints = function(e, i, n) {
        var o = [], r = 0, s = 0, a = 0, h = 0, l = 0;
        for (h = -D.ARM_ANCHOR_X - D.ARM_OFFSET_X, l = -D.ARM_ANCHOR_Y; r >= h && r <= at.stage.stageWidth && s >= l && s <= at.stage.stageHeight; ) a += .1, 
        r = n.x + e * Math.cos(3.14 * i / 180) * a, s = n.y - (e * Math.sin(3.14 * i / 180) * a - a * a * 4.9), 
        o.push(new t.Point(Number(r.toFixed(1)), Number(s.toFixed(1))));
        return o;
    }, e.getLinePoints = function(e, i) {
        var n = [], o = Math.atan(Math.abs(i.y - e.y) / Math.abs(i.x - e.x)), r = e.x, s = e.y, a = 0, h = i.x - e.x, l = i.y - e.y, c = 0, u = 0, p = 0;
        for (u = -D.ARM_ANCHOR_X - D.ARM_OFFSET_X, p = -D.ARM_ANCHOR_Y; r >= u && r <= at.stage.stageWidth && s >= p && s <= at.stage.stageHeight; ) a += .1, 
        c = 200 * Math.cos(o) * a, r = 0 > h ? e.x - c : e.x + c, s = 0 > l ? e.y - Math.abs(c) * Math.tan(o) : e.y + Math.abs(c) * Math.tan(o), 
        n.push(new t.Point(Number(r.toFixed(1)), Number(s.toFixed(1))));
        return n;
    }, e;
}();

e(Ce.prototype, "ParabolaUtil2"), window.Main = $;